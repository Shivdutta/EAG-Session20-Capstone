{
  "directed": true,
  "multigraph": false,
  "graph": {
    "session_id": "55958624",
    "original_query": "You are SIP Agent. Plan a SIP goal with asset allocation and fund category guidance for:Planner wiring requirement:- PlannerAgent MUST first read the outputs from this SIPGoalPlannerAgent (especially goal_input_json and computed parameters) BEFORE creating the final multi-agent plan graph for retrieval, distillation, QA, charts, and report- goal_type=Retirement- current_age=50- retirement_age=60- currency=INR- target_amount_min=30000000- risk_appetite=Moderate- override_time_horizon_years=10Compute:- time_horizon_years = max(override_time_horizon_years, retirement_age - current_age) = 10- total_months = 120- Risk→Return: Moderate = 10% annually → monthly_return_r = 0.10/12- Inflation default = 5.5% unless overriddenDo:1) Normalize inputs → emit goal_input_json {   goal_type:\"Retirement\", target_amount:30000000, currency:\"INR\",   time_horizon_years:10, total_months:120, risk_appetite:\"Moderate\"}.2. Refer  **SIP Calculation** from SIPGoalPlannerAgent3. Refer **Inflation Adjustment** from SIPGoalPlannerAgent4. Refer **Recommendation Engine (Fund Category Types)** from SIPGoalPlannerAgent   - Output `allocation_plan_json` with:     {       \"equity_percent\": <int>,       \"debt_percent\": <int>,       \"recommended_fund_categories\": {         \"equity\": [\"Large Cap Index\", \"Flexi Cap\", \"Multi Cap\"],         \"debt\": [\"Short Duration\", \"Corporate Bond\", \"Liquid\"],         \"elss_optional\": true       },       \"notes\": \"State rationale e.g., Moderate policy → 50/50\"     }5. Refer **Validation Hooks** from SIPGoalPlannerAgentOutputs required:- goal_input_json- inflation_adjusted_json- sip_calc_json- allocation_plan_jsonFormat: STRICT JSON (no prose, no markdown).",
    "file_manifest": [],
    "created_at": "2025-08-23T14:17:04.351260",
    "status": "running",
    "output_chain": {},
    "validation_results": {
      "is_valid": true,
      "is_dag": true,
      "cycles": [],
      "disconnected_components": [],
      "orphaned_nodes": [],
      "root_nodes": [],
      "leaf_nodes": [
        "T012"
      ],
      "warnings": [],
      "errors": []
    }
  },
  "nodes": [
    {
      "description": "Initial Query",
      "agent": "System",
      "status": "completed",
      "id": "ROOT"
    },
    {
      "id": "T001",
      "description": "Collect and clarify user inputs for SIP goal planning",
      "agent": "ClarificationAgent",
      "agent_prompt": "Collect all necessary information required for SIP Goal planning, verify the Goal Type, current age, retirement age, current, target amount, currency and risk appetite. Confirm all values are accurate",
      "reads": [],
      "writes": [
        "T001"
      ],
      "status": "running",
      "output": null,
      "error": null,
      "cost": 0.0,
      "start_time": "2025-08-23T14:17:04.359195",
      "end_time": null,
      "execution_time": 0.0
    },
    {
      "id": "T002",
      "description": "Normalize and output the SIP goal inputs as a JSON",
      "agent": "DistillerAgent",
      "agent_prompt": "Take the input from the previous step and output goal_input_json in the following format:{goal_type:\"Retirement\", target_amount:30000000, currency:\"INR\",time_horizon_years:10, total_months:120, risk_appetite:\"Moderate\"}. Ensure that all the values are correctly reflected.",
      "reads": [
        "T001"
      ],
      "writes": [
        "T002"
      ],
      "status": "pending",
      "output": null,
      "error": null,
      "cost": 0.0,
      "start_time": null,
      "end_time": null,
      "execution_time": 0.0
    },
    {
      "id": "T003",
      "description": "Map the configuration based on risk appetite",
      "agent": "ThinkerAgent",
      "agent_prompt": "Based on the goal_input_json, determine the appropriate risk level and map it to the corresponding expected return (Moderate = 10% annually). Also, set the default inflation to 5.5% unless overridden.",
      "reads": [
        "T002"
      ],
      "writes": [
        "T003"
      ],
      "status": "pending",
      "output": null,
      "error": null,
      "cost": 0.0,
      "start_time": null,
      "end_time": null,
      "execution_time": 0.0
    },
    {
      "id": "T004",
      "description": "Compute SIP parameters and inflation-adjusted values",
      "agent": "CoderAgent",
      "agent_prompt": "Compute the SIP amount required using the formula, and determine the inflation-adjusted values. Output these values as inflation_adjusted_json and sip_calc_json respectively. The following variables are available: goal_input_json, monthly_return_r=0.10/12, inflation=5.5%. Ensure the computed values are accurate and reflect the inputs provided.",
      "reads": [
        "T003"
      ],
      "writes": [
        "T004"
      ],
      "status": "pending",
      "output": null,
      "error": null,
      "cost": 0.0,
      "start_time": null,
      "end_time": null,
      "execution_time": 0.0
    },
    {
      "id": "T005",
      "description": "Retrieve a shortlist of funds based on the risk profile",
      "agent": "RetrieverAgent",
      "agent_prompt": "Retrieve a shortlist of funds suitable for a moderate risk appetite, covering Equity (Large Cap Index, Flexi Cap, Multi Cap), Debt (Short Duration, Corporate Bond, Liquid), and ELSS (optional).",
      "reads": [],
      "writes": [
        "T005"
      ],
      "status": "pending",
      "output": null,
      "error": null,
      "cost": 0.0,
      "start_time": null,
      "end_time": null,
      "execution_time": 0.0
    },
    {
      "id": "T006",
      "description": "Distill fund information and generate fund_shortlist",
      "agent": "DistillerAgent",
      "agent_prompt": "From the retrieved fund data, distill relevant information and generate fund_shortlist containing only the fund name, type (equity/debt/elss), and a brief description.",
      "reads": [
        "T005"
      ],
      "writes": [
        "T006"
      ],
      "status": "pending",
      "output": null,
      "error": null,
      "cost": 0.0,
      "start_time": null,
      "end_time": null,
      "execution_time": 0.0
    },
    {
      "id": "T007",
      "description": "Prepare allocation plan with equity, debt percentages, and fund categories",
      "agent": "ThinkerAgent",
      "agent_prompt": "Based on the moderate risk profile, prepare an allocation plan with equity_percent, debt_percent, and recommended_fund_categories for equity, debt, and ELSS. Example output: {equity_percent: 50, debt_percent: 50, recommended_fund_categories: {equity: [\"Large Cap Index\", \"Flexi Cap\", \"Multi Cap\"], debt: [\"Short Duration\", \"Corporate Bond\", \"Liquid\"], elss_optional: true}, notes: \"Moderate policy -> 50/50\"}",
      "reads": [
        "T006"
      ],
      "writes": [
        "T007"
      ],
      "status": "pending",
      "output": null,
      "error": null,
      "cost": 0.0,
      "start_time": null,
      "end_time": null,
      "execution_time": 0.0
    },
    {
      "id": "T008",
      "description": "Review the SIP plan and allocation",
      "agent": "QAAgent",
      "agent_prompt": "Review the generated SIP plan, including the SIP amount, asset allocation, fund recommendations, and inflation-adjusted values. Ensure that all recommendations align with the user's risk profile and financial goals.",
      "reads": [
        "T004",
        "T007"
      ],
      "writes": [
        "T008"
      ],
      "status": "pending",
      "output": null,
      "error": null,
      "cost": 0.0,
      "start_time": null,
      "end_time": null,
      "execution_time": 0.0
    },
    {
      "id": "T009",
      "description": "Generate chart data and embed snippets for the final report",
      "agent": "CoderAgent",
      "agent_prompt": "Generate the required data for charts to visualize the SIP growth, asset allocation, and fund performance. Create the chart_data_json and generate embed_snippet_html for embedding the charts in the final report.",
      "reads": [
        "T008"
      ],
      "writes": [
        "T009"
      ],
      "status": "pending",
      "output": null,
      "error": null,
      "cost": 0.0,
      "start_time": null,
      "end_time": null,
      "execution_time": 0.0
    },
    {
      "id": "T010",
      "description": "Format the plan as a human-readable report",
      "agent": "FormatterAgent",
      "agent_prompt": "Take the SIP plan, allocation details, chart data, and fund recommendations and format them into a comprehensive, human-readable report with clear sections, headings, and explanations.",
      "reads": [
        "T002",
        "T004",
        "T007",
        "T009"
      ],
      "writes": [
        "T010"
      ],
      "status": "pending",
      "output": null,
      "error": null,
      "cost": 0.0,
      "start_time": null,
      "end_time": null,
      "execution_time": 0.0
    },
    {
      "id": "T011",
      "description": "Generate a fully formatted HTML report",
      "agent": "ReportGeneratorAgent",
      "agent_prompt": "Generate an exhaustive, well-formatted HTML report, incorporating the SIP plan details, charts, tables, and other visualizations generated earlier. Ensure that the report is professional, visually appealing, and easy to understand.",
      "reads": [
        "T010"
      ],
      "writes": [
        "T011"
      ],
      "status": "pending",
      "output": null,
      "error": null,
      "cost": 0.0,
      "start_time": null,
      "end_time": null,
      "execution_time": 0.0
    },
    {
      "id": "T012",
      "description": "Schedule future report generation",
      "agent": "SchedulerAgent",
      "agent_prompt": "Set up a schedule for future report generation, allowing for periodic updates on the SIP performance and asset allocation.",
      "reads": [
        "T011"
      ],
      "writes": [
        "T012"
      ],
      "status": "pending",
      "output": null,
      "error": null,
      "cost": 0.0,
      "start_time": null,
      "end_time": null,
      "execution_time": 0.0
    }
  ],
  "links": [
    {
      "source": "ROOT",
      "target": "T001"
    },
    {
      "source": "ROOT",
      "target": "T005"
    },
    {
      "source": "T001",
      "target": "T002"
    },
    {
      "source": "T002",
      "target": "T003"
    },
    {
      "source": "T002",
      "target": "T010"
    },
    {
      "source": "T003",
      "target": "T004"
    },
    {
      "source": "T004",
      "target": "T008"
    },
    {
      "source": "T004",
      "target": "T010"
    },
    {
      "source": "T005",
      "target": "T006"
    },
    {
      "source": "T006",
      "target": "T007"
    },
    {
      "source": "T007",
      "target": "T008"
    },
    {
      "source": "T007",
      "target": "T010"
    },
    {
      "source": "T008",
      "target": "T009"
    },
    {
      "source": "T009",
      "target": "T010"
    },
    {
      "source": "T010",
      "target": "T011"
    },
    {
      "source": "T011",
      "target": "T012"
    }
  ]
}