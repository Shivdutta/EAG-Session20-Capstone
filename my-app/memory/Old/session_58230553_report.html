<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>📊 Strategic Retirement Investment Plan</title>
  <style>
    /* Base styles */
    :root {
      --bg-light: #ffffff;
      --bg-dark: #0a0a0a;
      --text-light: #111111;
      --text-dark: #f1f1f1;
      --border-light: #000000;
      --border-dark: #ffffff;
      --font-sans: 'Inter', 'San Francisco', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
      --font-serif: 'EB Garamond', 'New York', 'Georgia', serif;
    }

    html, body {
      margin: 0;
      padding: 0;
      font-family: var(--font-sans);
      font-size: 18px;
      background-color: var(--bg-light);
      color: var(--text-light);
      line-height: 1.75;
      transition: background 0.3s, color 0.3s, font-family 0.3s;
    }
    
    html.dark, body.dark {
      background-color: var(--bg-dark);
      color: var(--text-dark);
    }

    .container {
      max-width: 900px;
      margin: 60px auto;
      padding: 0 20px;
      background-color: var(--bg-light);
      transition: background-color 0.3s;
    }
    html.dark .container, body.dark .container {
      background-color: var(--bg-dark);
    }

    h1, h2, h3, h4, h5, h6 {
      font-weight: 600;
      margin-top: 2.5em;
      margin-bottom: 0.8em;
      line-height: 1.3;
    }

    h1 {
      font-size: 2.2rem;
      border-bottom: 0.5px solid var(--border-light);
      padding-bottom: 0.2em;
    }
    html.dark h1, body.dark h1 {
      border-color: var(--border-dark);
    }

    h2 {
      font-size: 1.5rem;
    }

    ul, ol {
      padding-left: 1.5rem;
      margin: 1rem 0;
    }

    p {
      margin-bottom: 1rem;
    }

    .controls {
      position: fixed;
      top: 12px;
      right: 16px;
      display: flex;
      gap: 14px;
      font-size: 0.9rem;
      z-index: 999;
    }

    .controls button {
      all: unset;
      cursor: pointer;
      padding: 2px 6px;
      background: rgba(255, 255, 255, 0.05);
      border-radius: 4px;
      font-weight: 500;
      color: inherit;
      opacity: 0.6;
      transition: opacity 0.3s, background-color 0.3s;
    }
    .controls button:hover {
      opacity: 1;
    }
    html.dark .controls button, body.dark .controls button {
      background: rgba(255, 255, 255, 0.1);
    }

    .footer {
      font-size: 0.55rem;
      text-align: center;
      margin-top: 2rem;
      color: #aaa;
    }

    @media print {
      .controls { display: none; }
    }

    
        /* Image Carousel Styles */
        .image-carousel {
            margin: 2rem 0;
        }
        
        .carousel-container {
            position: relative;
            max-width: 100%;
            margin: auto;
        }
        
        .carousel-slides {
            display: flex;
            overflow: hidden;
            width: 100%;
        }
        
        .carousel-slide {
            min-width: 100%;
            display: none;
            flex-direction: column;
            align-items: center;
        }
        
        .carousel-slide.active {
            display: flex;
        }
        
        .carousel-slide img {
            width: 100%;
            max-height: 500px;
            object-fit: contain;
            border-radius: 4px;
        }
        
        .carousel-caption {
            text-align: center;
            margin-top: 1rem;
            max-width: 600px;
        }
        
        .carousel-caption p {
            margin: 0.5rem 0;
            font-weight: 500;
        }
        
        .carousel-caption small {
            color: #666;
            font-size: 0.8rem;
        }
        html.dark .carousel-caption small, body.dark .carousel-caption small {
            color: #aaa;
        }
        
        .carousel-btn {
            position: absolute;
            top: 45%;
            transform: translateY(-50%);
            background: rgba(0,0,0,0.6);
            color: white;
            border: none;
            padding: 0.8rem 1rem;
            cursor: pointer;
            font-size: 0.5rem;
            border-radius: 4px;
            transition: all 0.3s ease;
            z-index: 10;
            opacity: 0.7;
        }
        
        .carousel-btn:hover {
            background: rgba(0,0,0,0.9);
            opacity: 1;
            transform: translateY(-50%) scale(1.1);
        }
        
        .carousel-btn.prev {
            left: 0;
        }
        
        .carousel-btn.next {
            right: 0;
        }
        
        .carousel-dots {
            text-align: center;
            padding: 1rem 0;
        }
        
        .carousel-dot {
            height: 8px;
            width: 8px;
            margin: 0 4px;
            background-color: #ccc;
            border-radius: 50%;
            display: inline-block;
            cursor: pointer;
            border: none;
            transition: all 0.3s ease;
        }
        
        .carousel-dot.active, .carousel-dot:hover {
            background-color: #333;
            transform: scale(1.2);
        }
        html.dark .carousel-dot {
            background-color: #666;
        }
        html.dark .carousel-dot.active, body.dark .carousel-dot.active,
        html.dark .carousel-dot:hover, body.dark .carousel-dot:hover {
            background-color: #ccc;
        }
        
        /* Content Images Styling */
        .container img:not(.carousel-slide img) {
            max-width: 100%;
            height: auto;
            display: block;
            margin: 1.5rem auto;
            border-radius: 4px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }
        html.dark .container img:not(.carousel-slide img), 
        body.dark .container img:not(.carousel-slide img) {
            box-shadow: 0 2px 8px rgba(255,255,255,0.1);
        }
        
        /* Remove any remaining inline width/height styles */
        .container img[style*="width"] {
            width: auto !important;
            max-width: 100% !important;
        }
        .container img[style*="height"] {
            height: auto !important;
        }
        
  </style>
</head>
<body>
  <div class="controls">
    <button onclick="toggleDark()">Th</button>
    <button onclick="toggleFont()">Aa</button>
    <button onclick="toggleEmojis()">Em</button>
  </div>
  <div class="container" id="main-container">
    <h1>📊 Strategic Retirement Investment Plan</h1>
        <div class="image-carousel">
            <div class="carousel-container">
                <div class="carousel-slides">
        
                    <div class="carousel-slide active">
                        <img src="https://d28wu8o6itv89t.cloudfront.net/assets/img/app/google-play-badge.png" alt="Get it on Google Play" />
                        <div class="carousel-caption">
                            <p><strong>Get it on Google Play</strong></p>
                            <small><a href="//d28wu8o6itv89t.cloudfront.net" target="_blank" rel="noopener noreferrer">Source: d28wu8o6itv89t.cloudfront.net</a> | Confidence: 0.70</small>
                        </div>
                    </div>
            
                    <div class="carousel-slide ">
                        <img src="https://www.pgimindia.com/api/v1/insights/download/image/Podcastthumbnail933x531.webp" alt="cxo-message" />
                        <div class="carousel-caption">
                            <p><strong>cxo-message</strong></p>
                            <small><a href="//www.pgimindia.com" target="_blank" rel="noopener noreferrer">Source: pgimindia.com</a> | Confidence: 0.80</small>
                        </div>
                    </div>
            
                    <div class="carousel-slide ">
                        <img src="https://www.kotaksecurities.com/uploads/oneperson_0e5640e803_eb4237bce3_2b57070c3b.png" alt="personImage" />
                        <div class="carousel-caption">
                            <p><strong>personImage</strong></p>
                            <small><a href="//www.kotaksecurities.com" target="_blank" rel="noopener noreferrer">Source: kotaksecurities.com</a> | Confidence: 0.70</small>
                        </div>
                    </div>
            
                    <div class="carousel-slide ">
                        <img src="https://www.paytmmoney.com/static/images/common/blockMFpurchase.webp" alt="Block Investment" />
                        <div class="carousel-caption">
                            <p><strong>Block Investment</strong></p>
                            <small><a href="//www.paytmmoney.com" target="_blank" rel="noopener noreferrer">Source: paytmmoney.com</a> | Confidence: 0.70</small>
                        </div>
                    </div>
            
                </div>
                
                <button class="carousel-btn prev" onclick="changeSlide(-1)">&lt;</button>
                <button class="carousel-btn next" onclick="changeSlide(1)">&gt;</button>
            
            </div>
        <div class="carousel-dots"><button class="carousel-dot active" onclick="currentSlide(1)"></button><button class="carousel-dot " onclick="currentSlide(2)"></button><button class="carousel-dot " onclick="currentSlide(3)"></button><button class="carousel-dot " onclick="currentSlide(4)"></button></div>
        </div>
        <div><h2 id='executive-summary'>🎯 Executive Summary</h2><p>This report outlines a tailored retirement portfolio for a 50-year-old investor with a <b>10-year horizon</b> and a 'Moderate' risk appetite. The primary objective is to achieve an inflation-adjusted target corpus of <b>₹5.12 Crore</b> by age 60, requiring a monthly systematic investment of <b>₹2,49,868</b>. The strategy is built on a 'Core and Satellite' principle, allocating capital to four top-ranked mutual funds. A cornerstone of this plan is a dynamic <b>three-phase asset allocation glide path</b>, designed to systematically reduce risk as the retirement goal approaches, starting with a 55% equity allocation for growth. The plan also identifies a minor projected corpus shortfall of approximately ₹4.87 lakh and presents clear, actionable recommendations to ensure the financial goal is met in full.</p></div><section id='investment-profile'><h2 id='retirement-investment-profile'>👤 Retirement Investment Profile</h2><div><table><thead><tr><th>Parameter</th><th>Value</th></tr></thead><tbody><tr><td><b>Goal Type</b></td><td>Retirement</td></tr><tr><td><b>Current Age</b></td><td>50 Years</td></tr><tr><td><b>Target Retirement Age</b></td><td>60 Years</td></tr><tr><td><b>Investment Horizon</b></td><td>10 Years</td></tr><tr><td><b>Risk Appetite</b></td><td>Moderate</td></tr><tr><td><b>Unadjusted Target Corpus</b></td><td>₹3,00,00,000</td></tr><tr><td><b>Assumed Inflation Rate</b></td><td>5.5% per annum</td></tr><tr><td><b>Inflation-Adjusted Target Corpus</b></td><td><b>₹5,12,44,334</b></td></tr><tr><td><b>Required Monthly SIP</b></td><td><b>₹2,49,868</b></td></tr><tr><td><b>Assumed Annualized Return</b></td><td>10.0%</td></tr></tbody></table></div></section><section id='asset-allocation'><h2 id='asset-allocation-strategy'>🧭 Asset Allocation Strategy</h2><p>The portfolio is constructed based on a 'Core and Satellite' philosophy to balance stable growth with high-alpha opportunities. The initial allocation is set for the <b>Growth Phase (Years 1-4)</b> of the investment journey.</p><ul><li><b>Total Monthly SIP:</b> ₹2,49,868</li><li><b>Initial Equity Allocation:</b> <b>55%</b> (₹1,37,427)</li><li><b>Initial Debt Allocation:</b> <b>45%</b> (₹1,12,441)</li></ul><p>The core of the portfolio (71%) is anchored by a stable Large Cap equity fund and a high-quality Corporate Bond fund. The satellite component (29%) includes a high-growth Mid Cap fund and a low-volatility Short Duration fund to enhance returns and manage risk.</p></section><section id='fund-performance'><h2 id='fund-performance-analysis'>📈 Fund Performance Analysis</h2><p>The following table details the key performance and risk metrics for the four recommended funds, which were selected based on a rigorous quantitative scoring model.</p><div><table><thead><tr><th>Fund Name</th><th>Category</th><th>1Y CAGR</th><th>3Y CAGR</th><th>5Y CAGR</th><th>Sharpe Ratio</th><th>Std. Dev.</th><th>Expense Ratio</th><th>Max Drawdown</th></tr></thead><tbody><tr><td><b>ICICI Prudential Bluechip Fund</b></td><td>Large Cap</td><td>38.0%</td><td>20.0%</td><td>18.0%</td><td>1.25</td><td>15.0%</td><td>0.92%</td><td>-21.0%</td></tr><tr><td><b>PGIM India Midcap Opportunities Fund</b></td><td>Mid Cap</td><td>53.0%</td><td>31.0%</td><td>25.0%</td><td>1.45</td><td>18.0%</td><td>0.45%</td><td>-29.0%</td></tr><tr><td><b>HDFC Corporate Bond Fund</b></td><td>Corporate Bond</td><td>7.5%</td><td>6.8%</td><td>7.2%</td><td>1.55</td><td>2.5%</td><td>0.24%</td><td>-4.0%</td></tr><tr><td><b>ICICI Prudential Short Term Fund</b></td><td>Short Duration</td><td>7.1%</td><td>6.2%</td><td>6.5%</td><td>1.85</td><td>1.5%</td><td>0.35%</td><td>-1.0%</td></tr></tbody></table></div></section><section id='top-recommendations'><h2 id='top-fund-recommendations'>🏆 Top Fund Recommendations (Initial Phase)</h2><p>The total monthly SIP of ₹2,49,868 is allocated across the following four funds, which ranked highest in their respective categories for a 'Moderate' risk profile.</p><div><table><thead><tr><th>Fund Name & Category</th><th>Allocation %</th><th>Monthly Amount</th><th>Weighted Score</th><th>Rationale</th></tr></thead><tbody><tr><td><b>ICICI Prudential Bluechip Fund</b><br/><i>(Large Cap)</i></td><td>44%</td><td>₹1,09,942</td><td>0.86</td><td>Core portfolio holding for stable growth from India's leading companies. Top-ranked for its balanced scorecard.</td></tr><tr><td><b>PGIM India Midcap Opportunities Fund</b><br/><i>(Mid Cap)</i></td><td>11%</td><td>₹27,485</td><td>0.92</td><td>Satellite holding for higher growth potential. Highest-scoring fund in the analysis due to strong risk-adjusted returns.</td></tr><tr><td><b>HDFC Corporate Bond Fund</b><br/><i>(Corporate Bond)</i></td><td>27%</td><td>₹67,464</td><td>0.88</td><td>Core debt holding for income generation, providing higher yield than sovereign bonds with high safety.</td></tr><tr><td><b>ICICI Prudential Short Term Fund</b><br/><i>(Short Duration)</i></td><td>18%</td><td>₹44,977</td><td>0.90</td><td>Offers stability and liquidity to the debt portion, with lower sensitivity to interest rate changes. Top-ranked for consistency.</td></tr></tbody></table></div></section><section id='glide-path'><h2 id='portfolio-construction-glide-path'>🛤️ Portfolio Construction & Glide Path</h2><p>To manage risk effectively as retirement nears, the portfolio's asset allocation will shift according to a pre-defined glide path. This de-risking strategy is crucial for capital preservation in the final years.</p><div><table><thead><tr><th>Phase</th><th>Timeline (Investor Age)</th><th>Equity %</th><th>Debt %</th><th>Rationale</th></tr></thead><tbody><tr><td><b>Phase 1: Growth</b></td><td>Years 1-4 (50-54)</td><td><b>55%</b></td><td><b>45%</b></td><td>Maximize corpus accumulation while the time horizon is longest. The current portfolio is structured for this phase.</td></tr><tr><td><b>Phase 2: Consolidation</b></td><td>Years 5-7 (55-57)</td><td><b>50%</b></td><td><b>50%</b></td><td>Begin a gradual shift towards capital preservation by reducing equity exposure and increasing debt allocation.</td></tr><tr><td><b>Phase 3: Preservation</b></td><td>Years 8-10 (58-60)</td><td><b>40%</b></td><td><b>60%</b></td><td>Significantly reduce equity risk to protect the accumulated corpus from market downturns just before retirement.</td></tr></tbody></table></div></section><section id='risk-analysis'><h2 id='risk-analysis'>⚠️ Risk Analysis</h2><p>A comprehensive understanding of potential risks is essential. This portfolio is subject to several market and instrument-specific risks, which are actively managed by the proposed strategy.</p><ul><li><b>Market Risk:</b> With a 55% initial allocation to equities, the portfolio is inherently exposed to market volatility and price fluctuations. A significant market downturn, especially in the years leading up to retirement, could adversely impact the final corpus value. This is known as the 'sequence of returns' risk. <b>Mitigation:</b> The primary tool to counter this risk is the <b>structured three-phase glide path</b>, which systematically reduces equity exposure from 55% to 40% over the 10-year period, prioritizing capital preservation in the final, most critical years.</li><li><b>Interest Rate Risk:</b> The debt portion of the portfolio, particularly the Corporate Bond fund, is sensitive to changes in prevailing interest rates. A rising interest rate environment can lead to a temporary MTM (mark-to-market) loss, causing a fall in the NAV of these funds. <b>Mitigation:</b> The portfolio diversifies its debt holdings by including a Short Duration fund, which has a much lower sensitivity to interest rate changes, thus cushioning the overall debt portfolio from volatility.</li><li><b>Credit Risk:</b> The HDFC Corporate Bond fund invests in debt instruments issued by corporations, which carries the risk of default if the issuer fails to make payments. <b>Mitigation:</b> This risk is minimized by selecting a top-tier fund that predominantly invests in high-credit-quality paper (rated AA+ and above), significantly reducing the probability of default.</li><li><b>Inflation Risk:</b> The entire plan is based on an assumed inflation rate of 5.5%. If the actual long-term inflation rate is consistently higher, the purchasing power and real value of the final retirement corpus could be eroded. <b>Mitigation:</b> The significant allocation to equity is designed to provide returns that outpace inflation over the long term, thereby ensuring the growth of real wealth.</li></ul></section><section id='implementation-roadmap'><h2 id='implementation-roadmap'>🚀 Implementation Roadmap</h2><p>To put this plan into action, please follow these concrete next steps:</p><ol><li><b>Address Shortfall:</b> Finalize and commit to one of the proposed solutions for the minor corpus shortfall (detailed in the 'Goal Timeline Scenarios' section below).</li><li><b>Complete KYC:</b> Ensure your Know Your Customer (KYC) documentation is complete and verified for all recommended Asset Management Companies (AMCs): ICICI Prudential, PGIM India, and HDFC.</li><li><b>Set Up SIPs:</b> Initiate four separate monthly Systematic Investment Plans (SIPs) with the exact amounts specified in the 'Top Fund Recommendations' table.</li><li><b>Automate Investments:</b> Set up automated debit mandates from your bank account for each SIP to ensure investment discipline and consistency.</li><li><b>Schedule Reviews:</b> Set a recurring calendar reminder for an annual portfolio review and rebalancing. Pay special attention to the end of year 4 and year 7 to execute the glide path phase transitions.</li></ol></section><section id='comparison-charts'><h2 id='comparison-charts'>📊 Comparison Charts</h2><div><div><h3>Recommended Fund Performance (CAGR %)</h3><canvas id='performanceComparisonChart'></canvas></div><div><h3>Risk vs. Return Analysis</h3><canvas id='riskReturnScatterChart'></canvas></div><div><h3>Portfolio Allocation by Fund Category</h3><canvas id='portfolioAllocationChart'></canvas></div><div><h3>Expense Ratio Comparison</h3><canvas id='expenseRatioChart'></canvas></div><div><h3>10-Year Asset Allocation Glide Path</h3><canvas id='glidePathChart'></canvas></div></div></section><section id='rebalancing-strategy'><h2 id='rebalancing-strategy'>🔄 Rebalancing Strategy</h2><p>A disciplined monitoring and rebalancing strategy is essential for maintaining the portfolio's intended risk profile. We recommend a <b>'review quarterly, rebalance annually'</b> approach. Rebalancing should be triggered under two conditions:</p><ol><li><b>Deviation-Based:</b> If any primary asset class (total equity or total debt) deviates by more than 5% from its target allocation for the current glide path phase (e.g., if equity grows to 60% in Phase 1).</li><li><b>Time-Based (Glide Path):</b> The transitions between phases (from 55/45 to 50/50 at the end of year 4, and to 40/60 at the end of year 7) are mandatory rebalancing events. These should be executed gradually over 1-2 months to avoid the risks of timing the market.</li></ol></section><section id='tax-optimization'><h2 id='tax-optimization'>💰 Tax Optimization</h2><p>Rebalancing actions and future redemptions may trigger tax events. It is important to be aware of the following:</p><ul><li><b>Equity Funds:</b> Gains on units held for over one year are considered Long-Term Capital Gains (LTCG) and are taxed at 10% on gains exceeding ₹1 lakh in a financial year.</li><li><b>Debt Funds:</b> Gains on units held for over three years are considered long-term and are taxed at 20% after applying indexation benefits, which adjusts the purchase price for inflation.</li><li><b>Strategy:</b> When rebalancing, it is advisable to first use fresh SIP inflows to adjust the portfolio. This minimizes the need to sell units and incur taxes. The current portfolio does not include ELSS funds, but a portion of the Large Cap allocation can be redirected to an ELSS fund if the investor has remaining Section 80C tax-saving capacity.</li></ul></section><section id='goal-scenarios'><h2 id='goal-timeline-scenarios'>🎯 Goal Timeline Scenarios & Shortfall Rectification</h2><p>Our projections indicate a minor potential shortfall of <b>₹4,87,034</b> against the inflation-adjusted target of ₹5.12 Crore. This represents a gap of less than 1% and is highly manageable through one of the following actions:</p><div><table><thead><tr><th>Action</th><th>Details</th><th>Priority</th></tr></thead><tbody><tr><td><b>Increase Monthly SIP</b></td><td>Increase the total monthly SIP amount by just <b>₹2,500</b> (from ₹249,868 to ~₹252,368). This is the most direct and disciplined method to close the gap.</td><td><b>High</b></td></tr><tr><td><b>Strategic Lump-Sum Investment</b></td><td>Make a one-time lump-sum investment of approximately <b>₹1,00,000 - ₹1,50,000</b> at the start of the plan or during a market dip.</td><td>Medium</td></tr><tr><td><b>Performance-Based Rebalancing</b></td><td>If the portfolio outperforms its 10% annualized return target, allocate surplus gains towards debt instruments during annual rebalancing to lock in profits.</td><td>Opportunistic</td></tr></tbody></table></div></section><section id='data-integrity'><h2 id='data-integrity-note'>📝 Data Integrity & Image Search Debug</h2><p><b>Data Note:</b> The automated validation process (T023) identified a data retrieval failure for the 'HDFC Short Term Debt Fund' (SDRN002) during the initial fund universe screening. As this fund was not selected for the final portfolio, this issue does not impact the validity of the recommendations provided in this report. All data for the four recommended funds has been verified.</p><p><b>Image Search Log:</b> As per protocol, a comprehensive scan for image files (.jpg, .jpeg, .png, .webp) was conducted across all available data fields in the session, including `T020`, `T022`, `T023`, `T024`, `original_query`, and `session_context`. The scan parsed all string values, including nested JSON structures. <b>Result:</b> No image URLs were found in the provided data. Therefore, no images have been embedded in this report.</p></section><script src='https://cdn.jsdelivr.net/npm/chart.js'></script><script id='chart-data' type='application/json'>{"performance_comparison":{"type":"bar","data":{"labels":["ICICI Pru Bluechip","PGIM India Midcap","HDFC Corp Bond","ICICI Pru Short Term"],"datasets":[{"label":"1Y CAGR (%)","data":[38,53,7.5,7.1],"backgroundColor":"rgba(54, 162, 235, 0.6)","borderColor":"rgba(54, 162, 235, 1)","borderWidth":1},{"label":"3Y CAGR (%)","data":[20,31,6.8,6.2],"backgroundColor":"rgba(75, 192, 192, 0.6)","borderColor":"rgba(75, 192, 192, 1)","borderWidth":1},{"label":"5Y CAGR (%)","data":[18,25,7.2,6.5],"backgroundColor":"rgba(255, 206, 86, 0.6)","borderColor":"rgba(255, 206, 86, 1)","borderWidth":1}]},"options":{"responsive":true,"maintainAspectRatio":false,"plugins":{"title":{"display":true,"text":"Recommended Fund Performance (CAGR %)","font":{"size":16}},"legend":{"position":"top"}},"scales":{"y":{"beginAtZero":true,"title":{"display":true,"text":"Annualized Return (%)"}}}}}}</script><script>document.addEventListener('DOMContentLoaded',function(){try{const chartDataJson=document.getElementById('chart-data').textContent;const chartsData=JSON.parse(chartDataJson);const performanceData={"performance_comparison":{"type":"bar","data":{"labels":["ICICI Pru Bluechip","PGIM India Midcap","HDFC Corp Bond","ICICI Pru Short Term"],"datasets":[{"label":"1Y CAGR (%)","data":[38,53,7.5,7.1],"backgroundColor":"rgba(54, 162, 235, 0.6)","borderColor":"rgba(54, 162, 235, 1)","borderWidth":1},{"label":"3Y CAGR (%)","data":[20,31,6.8,6.2],"backgroundColor":"rgba(75, 192, 192, 0.6)","borderColor":"rgba(75, 192, 192, 1)","borderWidth":1},{"label":"5Y CAGR (%)","data":[18,25,7.2,6.5],"backgroundColor":"rgba(255, 206, 86, 0.6)","borderColor":"rgba(255, 206, 86, 1)","borderWidth":1}]},"options":{"responsive":true,"maintainAspectRatio":false,"plugins":{"title":{"display":true,"text":"Recommended Fund Performance (CAGR %)","font":{"size":14}},"legend":{"position":"top"}},"scales":{"y":{"beginAtZero":true,"title":{"display":true,"text":"Annualized Return (%)"}}}}};new Chart(document.getElementById('performanceComparisonChart'),performanceData.performance_comparison);const riskReturnData={"risk_return_scatter":{"type":"scatter","data":{"datasets":[{"label":"Equity Funds","data":[{"x":0.15,"y":20,"fundName":"ICICI Prudential Bluechip Fund"},{"x":0.18,"y":31,"fundName":"PGIM India Midcap Opportunities Fund"}],"backgroundColor":"rgba(255, 99, 132, 0.8)"},{"label":"Debt Funds","data":[{"x":0.025,"y":6.8,"fundName":"HDFC Corporate Bond Fund"},{"x":0.015,"y":6.2,"fundName":"ICICI Prudential Short Term Fund"}],"backgroundColor":"rgba(54, 162, 235, 0.8)"}]},"options":{"responsive":true,"maintainAspectRatio":false,"plugins":{"title":{"display":true,"text":"Risk vs. Return (Volatility vs. 3Y CAGR)","font":{"size":14}},"legend":{"position":"top"},"tooltip":{"callbacks":{"label":function(context){return context.raw.fundName+' ('+context.label+'% return, '+context.parsed.x*100+'% risk)';}}}},"scales":{"x":{"title":{"display":true,"text":"Risk (Std. Dev.)"}},"y":{"title":{"display":true,"text":"Return (3Y CAGR %)"}}}}};new Chart(document.getElementById('riskReturnScatterChart'),riskReturnData.risk_return_scatter);const allocationData={"portfolio_allocation":{"type":"doughnut","data":{"labels":["Large Cap","Mid Cap","Corporate Bond","Short Duration"],"datasets":[{"label":"Portfolio Allocation","data":[44,11,27,18],"backgroundColor":["#3B82F6","#F59E0B","#10B981","#6366F1"],"hoverOffset":4}]},"options":{"responsive":true,"maintainAspectRatio":false,"plugins":{"title":{"display":true,"text":"Portfolio Allocation by Category","font":{"size":14}},"legend":{"position":"right"}}}}};new Chart(document.getElementById('portfolioAllocationChart'),allocationData.portfolio_allocation);const expenseData={"expense_ratio_comparison":{"type":"bar","data":{"labels":["ICICI Pru Bluechip","PGIM India Midcap","HDFC Corp Bond","ICICI Pru Short Term"],"datasets":[{"label":"Expense Ratio (%)","data":[0.92,0.45,0.24,0.35],"backgroundColor":"rgba(153, 102, 255, 0.6)","borderColor":"rgba(153, 102, 255, 1)","borderWidth":1}]},"options":{"responsive":true,"maintainAspectRatio":false,"indexAxis":"y","plugins":{"title":{"display":true,"text":"Expense Ratio Comparison","font":{"size":14}},"legend":{"display":false}},"scales":{"x":{"beginAtZero":true,"title":{"display":true,"text":"Expense Ratio (%)"}}}}}};new Chart(document.getElementById('expenseRatioChart'),expenseData.expense_ratio_comparison);const glidePathData={"glide_path_timeline":{"type":"line","data":{"labels":["Year 1","Year 2","Year 3","Year 4","Year 5","Year 6","Year 7","Year 8","Year 9","Year 10"],"datasets":[{"label":"Equity %","data":[55,55,55,55,50,50,50,40,40,40],"fill":true,"backgroundColor":"rgba(54, 162, 235, 0.5)","borderColor":"rgb(54, 162, 235)","tension":0.1},{"label":"Debt %","data":[45,45,45,45,50,50,50,60,60,60],"fill":true,"backgroundColor":"rgba(75, 192, 192, 0.5)","borderColor":"rgb(75, 192, 192)","tension":0.1}]},"options":{"responsive":true,"maintainAspectRatio":false,"plugins":{"title":{"display":true,"text":"10-Year Asset Allocation Glide Path","font":{"size":14}}},"scales":{"y":{"stacked":true,"max":100,"title":{"display":true,"text":"Allocation (%)"}}}}}};new Chart(document.getElementById('glidePathChart'),glidePathData.glide_path_timeline);}catch(e){console.error('Error rendering charts:',e);}});</script>
    <div class="footer">
      <p>Generated by Seraphine on 2025-09-19 03:03:25 · Session ID: 58230553</p>
    </div>
  </div>
  <script>
    let emojisHidden = true; /* Start with emojis hidden */
    let originalContent = '';

    function toggleDark() {
      /* Toggle dark class on BOTH html and body elements */
      document.documentElement.classList.toggle('dark');
      document.body.classList.toggle('dark');
    }

    function toggleFont() {
      const current = getComputedStyle(document.body).fontFamily;
      const isSerif = current.includes("Georgia");
      document.body.style.fontFamily = isSerif ? 'var(--font-sans)' : 'var(--font-serif)';
    }

    function toggleEmojis() {
      const container = document.getElementById('main-container');
      
      if (emojisHidden) {
        /* Restore original content (show emojis) */
        if (originalContent) {
          container.innerHTML = originalContent;
        }
        emojisHidden = false;
      } else {
        /* Store original content and remove emojis */
        if (!originalContent) {
          originalContent = container.innerHTML;
        }
        /* ✅ FIXED: Comprehensive emoji regex that includes ALL emoji ranges */
        const emojiRegex = /[\u{1F300}-\u{1F9FF}]|[\u{2600}-\u{26FF}]|[\u{2700}-\u{27BF}]|[\u{2100}-\u{214F}]|[\u{1F000}-\u{1F02F}]|[\u{1F0A0}-\u{1F0FF}]|[\u{1F100}-\u{1F64F}]|[\u{1F680}-\u{1F6FF}]|[\u{1F910}-\u{1F96B}]|[\u{1F980}-\u{1F9E0}]/gu;
        container.innerHTML = container.innerHTML.replace(emojiRegex, '');
        emojisHidden = true;
      }
    }

    /* Initialize with emojis hidden on page load */
    window.addEventListener('load', function() {
      const container = document.getElementById('main-container');
      /* Store original content first */
      originalContent = container.innerHTML;
      /* Then remove emojis by default */
      /* ✅ FIXED: Same comprehensive emoji regex */
      const emojiRegex = /[\u{1F300}-\u{1F9FF}]|[\u{2600}-\u{26FF}]|[\u{2700}-\u{27BF}]|[\u{2100}-\u{214F}]|[\u{1F000}-\u{1F02F}]|[\u{1F0A0}-\u{1F0FF}]|[\u{1F100}-\u{1F64F}]|[\u{1F680}-\u{1F6FF}]|[\u{1F910}-\u{1F96B}]|[\u{1F980}-\u{1F9E0}]/gu;
      container.innerHTML = container.innerHTML.replace(emojiRegex, '');
    });

    
        // Image Carousel JavaScript
        let currentSlideIndex = 0;
        let slides = [];
        let dots = [];
        
        function initializeCarousel() {
            slides = document.querySelectorAll('.carousel-slide');
            dots = document.querySelectorAll('.carousel-dot');
            currentSlideIndex = 0;
            
            if (slides.length > 0) {
                showSlide(0);
            }
        }
        
        function showSlide(index) {
            // Hide all slides
            slides.forEach(slide => slide.classList.remove('active'));
            dots.forEach(dot => dot.classList.remove('active'));
            
            // Show selected slide
            if (slides[index]) {
                slides[index].classList.add('active');
                if (dots[index]) {
                    dots[index].classList.add('active');
                }
            }
        }
        
        function changeSlide(direction) {
            if (slides.length === 0) return;
            
            currentSlideIndex += direction;
            if (currentSlideIndex >= slides.length) currentSlideIndex = 0;
            if (currentSlideIndex < 0) currentSlideIndex = slides.length - 1;
            showSlide(currentSlideIndex);
        }
        
        function currentSlide(index) {
            if (slides.length === 0) return;
            
            currentSlideIndex = index - 1;
            showSlide(currentSlideIndex);
        }
        
        // Initialize carousel when page loads
        document.addEventListener('DOMContentLoaded', function() {
            initializeCarousel();
        });
        
        // Re-initialize if content changes (for emoji toggle)
        window.addEventListener('load', function() {
            setTimeout(initializeCarousel, 100);
        });
        
  </script>
</body>
</html>