<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Comprehensive SIP Analysis for Retirement Goal</title>
  <style>
    body { font-family: Arial, sans-serif; margin: 0; padding: 20px; background-color: #f9fafb; color: #111827; }
    .container { max-width: 1000px; margin: 0 auto; background-color: #ffffff; padding: 20px 40px; border-radius: 8px; box-shadow: 0 4px 6px rgba(0,0,0,0.1); }
    h1, h2, h3 { color: #1f2937; margin-top: 1.5em; margin-bottom: 0.5em; }
    h1 { font-size: 2.25rem; border-bottom: 2px solid #e5e7eb; padding-bottom: 10px; }
    h2 { font-size: 1.75rem; border-bottom: 1px solid #e5e7eb; padding-bottom: 8px; }
    h3 { font-size: 1.25rem; }
    table { width: 100%; border-collapse: collapse; margin: 20px 0; }
    th, td { border: 1px solid #ddd; padding: 12px; text-align: left; }
    th { background-color: #f3f4f6; font-weight: bold; }
    tr:nth-child(even) { background-color: #f9fafb; }
    .callout { padding: 15px; margin: 20px 0; border-radius: 6px; border-left-width: 5px; }
    .callout.warning { border-left-color: #f59e0b; background-color: #fef3c7; }
    ul { list-style-position: inside; padding-left: 10px; }
    li { margin-bottom: 8px; }
    .no-print { display: block; }
    @media print {
      .no-print { display: none; }
      body { box-shadow: none; margin: 0; padding: 0; }
      .container { box-shadow: none; border-radius: 0; max-width: 100%; }
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>üìä Comprehensive SIP Analysis for Retirement Goal</h1>
    
    <section id="executive-summary">
      <h2>üéØ Executive Summary</h2>
      <p>This report outlines a comprehensive Systematic Investment Plan (SIP) designed to achieve a retirement goal of <b>‚Çπ3,00,00,000</b> over a <b>10-year</b> period for an investor with a 'high' risk appetite. After adjusting for an annual inflation rate of 5.5%, the future value of the target corpus is calculated to be <b>‚Çπ5,12,44,333.71</b>. To meet this ambitious goal, a monthly SIP of <b>‚Çπ2,22,764.04</b> is required, assuming an annualized return of 12%.</p>
      <p>The strategic asset allocation is aggressive, with <b>70% allocated to Equity</b> for high growth potential and <b>30% to Debt</b> for portfolio stability and capital preservation. The plan recommends diversification across Large, Mid, and Small-Cap equity funds, alongside Corporate Bond and Short Duration debt funds.</p>
      <div class="callout warning">‚ö†Ô∏è <b>Critical Finding: Projection Shortfall Detected.</b> A quality assurance review identified a mathematical inconsistency in the projection model. The final projected corpus after 120 months is <b>‚Çπ5,07,34,671.52</b>, which is <b>‚Çπ5,09,662.19 (-0.99%) short</b> of the inflation-adjusted target. This discrepancy, likely due to compounding precision, must be addressed by adjusting the monthly SIP upwards slightly.</div>
    </section>

    <section id="goal-inputs">
      <h2>üìù Goal Inputs</h2>
      <table><thead><tr><th>Parameter</th><th>Value</th></tr></thead><tbody><tr><td>Goal Type</td><td>Retirement</td></tr><tr><td>Target Amount</td><td>‚Çπ3,00,00,000</td></tr><tr><td>Currency</td><td>INR</td></tr><tr><td>Time Horizon</td><td>10 Years (120 Months)</td></tr><tr><td>Risk Appetite</td><td>High</td></tr></tbody></table>
    </section>

    <section id="inflation-adjustment">
      <h2>üéà Inflation Adjustment</h2>
      <p>To ensure the purchasing power of the target corpus is maintained over time, the goal is adjusted for inflation.</p>
      <table><thead><tr><th>Parameter</th><th>Value</th></tr></thead><tbody><tr><td>Assumed Annual Inflation</td><td>5.5%</td></tr><tr><td>Investment Period</td><td>10 Years</td></tr><tr><td>Unadjusted Target (Today's Value)</td><td>‚Çπ3,00,00,000</td></tr><tr><td><b>Adjusted Target (Future Value)</b></td><td><b>‚Çπ5,12,44,333.71</b></td></tr></tbody></table>
    </section>

    <section id="sip-calculation">
      <h2>üßÆ SIP Calculation</h2>
      <p>The following calculation determines the required monthly investment to reach the adjusted target corpus.</p>
      <table><thead><tr><th>Parameter</th><th>Value</th></tr></thead><tbody><tr><td>Assumed Annualized Return (High Risk)</td><td>12%</td></tr><tr><td>Monthly Rate of Return (r)</td><td>1.0%</td></tr><tr><td>Total Months (n)</td><td>120</td></tr><tr><td>Adjusted Target Corpus</td><td>‚Çπ5,12,44,333.71</td></tr><tr><td><b>Required Monthly SIP</b></td><td><b>‚Çπ2,22,764.04</b></td></tr></tbody></table>
    </section>

    <section id="asset-allocation">
      <h2>‚öñÔ∏è Asset Allocation Plan</h2>
      <p>Based on a 'high' risk appetite, the following asset allocation is recommended to balance growth and risk.</p>
      <table>
        <thead><tr><th>Asset Class</th><th>Allocation</th><th>Strategic Purpose</th></tr></thead>
        <tbody>
            <tr><td><b>Equity</b></td><td><b>70%</b></td><td>Primary engine for growth to outperform inflation and generate wealth. Recommended categories include Large, Mid, and Small Cap Funds.</td></tr>
            <tr><td><b>Debt</b></td><td><b>30%</b></td><td>Anchor for stability, capital preservation, and mitigating volatility. Recommended categories include Corporate Bond and Short Duration Funds.</td></tr>
        </tbody>
      </table>
    </section>

    <section id="allocation-notes">
      <h2>üìú Allocation Notes & Strategy</h2>
      <h3>The Equity Allocation (70%): The Engine of Growth</h3>
      <p>The 70% allocation to equity is the portfolio's primary growth driver. Over a 10-year horizon, equity has historically demonstrated the potential to deliver superior inflation-adjusted returns. Given the 'high' risk tolerance, the portfolio can withstand short-to-medium term volatility in pursuit of higher long-term returns.</p>
      <h3>The Debt Allocation (30%): The Anchor of Stability</h3>
      <p>The 30% allocation to debt instruments is the portfolio's anchor. Its primary role is not to generate high returns but to provide stability, preserve capital, and reduce the overall volatility of the portfolio. During periods of equity market correction, the debt portion acts as a cushion.</p>
    </section>

    <section id="key-recommendations">
      <h2>üîë Key Recommendations</h2>
      <ul>
        <li><b>Build an All-Weather Portfolio:</b> Understand that the purpose of diversifying across these fund categories is to build a resilient portfolio. The equity components are designed for growth during market upswings, while the debt components are designed to provide a cushion during downturns.</li>
        <li><b>Calibrate Internal Equity Allocation:</b> The allocation within the 70% equity portion (i.e., how much goes into large, mid, and small-cap respectively) should be determined by a finer assessment of risk tolerance. A more aggressive stance would overweight mid and small-caps, while a more moderate stance would favour large-caps.</li>
        <li><b>Address the Shortfall:</b> Immediately consider a minor upward revision of the monthly SIP (approx. 1%) to compensate for the identified projection shortfall and ensure the final goal is met.</li>
      </ul>
    </section>

    <section id="risk-factors">
      <h2>üìâ Risk Factors and Uncertainties</h2>
      <p>Investing in capital markets involves inherent risks. This plan, while based on statistical models, is subject to various market and execution risks that must be fully understood.</p>
      <div class="callout warning">‚ö†Ô∏è <b>Calculation Precision Risk:</b> As identified in the Quality Assurance review, the current projection model results in a final corpus that is <b>‚Çπ5,09,662.19 short</b> of the required target. This highlights the risk of minor precision errors in calculations compounding over a long period. <i>Mitigation: The monthly SIP should be marginally increased to compensate for this shortfall and a periodic review should be conducted to ensure the plan is on track.</i></div>
      <ul>
        <li><b>Market Volatility Risk:</b> The 70% allocation to equity, particularly with exposure to mid and small-cap funds, will lead to significant fluctuations in portfolio value. Investors must be prepared for periods of negative returns and avoid making panic-driven decisions. The 'high' risk appetite implies a capacity to withstand this volatility over the 10-year horizon. <i>Mitigation: Adherence to the SIP discipline helps average out purchase costs over time (Rupee Cost Averaging) and reduces the impact of timing the market.</i></li>
        <li><b>Underperformance Risk:</b> The assumed 12% annualized return is a projection, not a guarantee. There is a risk that the selected funds or the market as a whole may underperform this expectation, which would result in a lower-than-expected final corpus. <i>Mitigation: Diversifying across multiple fund houses and categories can reduce fund-specific risk. A yearly review of the portfolio's performance against benchmarks is crucial.</i></li>
      </ul>
    </section>

    <section id="sip-charts">
      <h2>üìä SIP Projection & Allocation Charts</h2>
      <div style="display: block;">
        <!-- Asset Allocation FIRST (TOP) -->
        <div class="chart-container" style="margin-bottom: 30px; text-align: center; padding: 15px; border: 1px solid #ddd; border-radius: 8px;">
          <h3>Asset Allocation</h3>
          <div style="max-width: 500px; margin: 0 auto;">
            <canvas id="sipAllocationChart" width="400" height="300" style="max-width: 100%; height: auto;"></canvas>
          </div>
        </div>
        
        <!-- SIP Growth Projection SECOND (BOTTOM) -->
        <div class="chart-container" style="text-align: center; padding: 15px; border: 1px solid #ddd; border-radius: 8px;">
          <h3>SIP Growth Projection</h3>
          <div style="max-width: 800px; margin: 0 auto;">
            <canvas id="sipProjectionChart" width="600" height="400" style="max-width: 100%; height: auto;"></canvas>
          </div>
        </div>
      </div>
    </section>

    <section id="monthly-projection">
      <h2>üìà Monthly Projection (First 12 Months)</h2>
      <table>
        <thead><tr><th>Month</th><th>Contribution</th><th>Cumulative Contribution</th><th>Projected Corpus</th></tr></thead>
        <tbody>
            <tr><td>M1</td><td>‚Çπ2,22,764.04</td><td>‚Çπ2,22,764.04</td><td>‚Çπ2,22,764.04</td></tr>
            <tr><td>M2</td><td>‚Çπ2,22,764.04</td><td>‚Çπ4,45,528.08</td><td>‚Çπ4,47,755.72</td></tr>
            <tr><td>M3</td><td>‚Çπ2,22,764.04</td><td>‚Çπ6,68,292.12</td><td>‚Çπ6,74,997.32</td></tr>
            <tr><td>M4</td><td>‚Çπ2,22,764.04</td><td>‚Çπ8,91,056.16</td><td>‚Çπ9,04,521.33</td></tr>
            <tr><td>M5</td><td>‚Çπ2,22,764.04</td><td>‚Çπ11,13,820.20</td><td>‚Çπ11,36,354.18</td></tr>
            <tr><td>M6</td><td>‚Çπ2,22,764.04</td><td>‚Çπ13,36,584.24</td><td>‚Çπ13,70,521.76</td></tr>
            <tr><td>M7</td><td>‚Çπ2,22,764.04</td><td>‚Çπ15,59,348.28</td><td>‚Çπ16,07,050.92</td></tr>
            <tr><td>M8</td><td>‚Çπ2,22,764.04</td><td>‚Çπ17,82,112.32</td><td>‚Çπ18,45,969.47</td></tr>
            <tr><td>M9</td><td>‚Çπ2,22,764.04</td><td>‚Çπ20,04,876.36</td><td>‚Çπ20,87,305.20</td></tr>
            <tr><td>M10</td><td>‚Çπ2,22,764.04</td><td>‚Çπ22,27,640.40</td><td>‚Çπ23,31,085.90</td></tr>
            <tr><td>M11</td><td>‚Çπ2,22,764.04</td><td>‚Çπ24,50,404.44</td><td>‚Çπ25,77,340.40</td></tr>
            <tr><td>M12</td><td>‚Çπ2,22,764.04</td><td>‚Çπ26,73,168.48</td><td>‚Çπ28,26,095.44</td></tr>
        </tbody>
      </table>
    </section>

    <section id="final-summary">
      <h2>üèÅ Final Projection Summary</h2>
       <table>
        <thead><tr><th>Metric</th><th>Value</th></tr></thead>
        <tbody>
          <tr><td>Total Cumulative Contribution</td><td>‚Çπ2,67,31,684.80</td></tr>
          <tr><td>Total Gains</td><td>‚Çπ2,40,02,986.72</td></tr>
          <tr><td><b>Projected Final Corpus</b></td><td><b>‚Çπ5,07,34,671.52</b></td></tr>
          <tr><td>Inflation-Adjusted Target</td><td>‚Çπ5,12,44,333.71</td></tr>
          <tr><td><b style='color:#dc2626;'>Shortfall</b></td><td><b style='color:#dc2626;'>-‚Çπ5,09,662.19</b></td></tr>
        </tbody>
      </table>
    </section>
    
  </div>

  <div class="no-print" style="margin: 20px 0; text-align: center;">
    <button onclick="window.print()" style="margin: 5px; padding: 10px 20px; background-color: #3B82F6; color: white; border: none; border-radius: 5px; cursor: pointer; font-size: 1rem;">Print Report</button>
    <button onclick="downloadHTML()" style="margin: 5px; padding: 10px 20px; background-color: #10B981; color: white; border: none; border-radius: 5px; cursor: pointer; font-size: 1rem;">Download HTML</button>
  </div>

  <script>
  function downloadHTML() {
    const html = document.documentElement.outerHTML;
    const blob = new Blob([html], { type: 'text/html' });
    const url = URL.createObjectURL(blob);
    const a = document.createElement('a');
    a.href = url;
    a.download = 'sip_report.html';
    a.click();
    URL.revokeObjectURL(url);
  }
  </script>

  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  
  <script id="sip-chart-data" type="application/json">
  {"projection":{"labels":["M1","M2","M3","M4","M5","M6","M7","M8","M9","M10","M11","M12","M13","M14","M15","M16","M17","M18","M19","M20","M21","M22","M23","M24","M25","M26","M27","M28","M29","M30","M31","M32","M33","M34","M35","M36","M37","M38","M39","M40","M41","M42","M43","M44","M45","M46","M47","M48","M49","M50","M51","M52","M53","M54","M55","M56","M57","M58","M59","M60","M61","M62","M63","M64","M65","M66","M67","M68","M69","M70","M71","M72","M73","M74","M75","M76","M77","M78","M79","M80","M81","M82","M83","M84","M85","M86","M87","M88","M89","M90","M91","M92","M93","M94","M95","M96","M97","M98","M99","M100","M101","M102","M103","M104","M105","M106","M107","M108","M109","M110","M111","M112","M113","M114","M115","M116","M117","M118","M119","M120"],"datasets":{"cumulative_contribution":[222764.04,445528.08,668292.12,891056.16,1113820.2,1336584.24,1559348.28,1782112.32,2004876.36,2227640.4,2450404.44,2673168.48,2895932.52,3118696.56,3341460.6,3564224.64,3786988.68,4009752.72,4232516.76,4455280.8,4678044.84,4900808.88,5123572.92,5346336.96,5569101,5791865.04,6014629.08,6237393.12,6460157.16,6682921.2,6905685.24,7128449.28,7351213.32,7573977.36,7796741.4,8019505.44,8242269.48,8465033.52,8687797.56,8910561.6,9133325.64,9356089.68,9578853.72,9801617.76,10024381.8,10247145.84,10469909.88,10692673.92,10915437.96,11138202,11360966.04,11583730.08,11806494.12,12029258.16,12252022.2,12474786.24,12697550.28,12920314.32,13143078.36,13365842.4,13588606.44,13811370.48,14034134.52,14256898.56,14479662.6,14702426.64,14925190.68,15147954.72,15370718.76,15593482.8,15816246.84,16039010.88,16261774.92,16484538.96,16707303,16930067.04,17152831.08,17375595.12,17598359.16,17821123.2,18043887.24,18266651.28,18489415.32,18712179.36,18934943.4,19157707.44,19380471.48,19603235.52,19825999.56,20048763.6,20271527.64,20494291.68,20717055.72,20939819.76,21162583.8,21385347.84,21608111.88,21830875.92,22053639.96,22276404,22499168.04,22721932.08,22944696.12,23167460.16,23390224.2,23612988.24,23835752.28,24058516.32,24281280.36,24504044.4,24726808.44,24949572.48,25172336.52,25395100.56,25617864.6,25840628.64,26063392.68,26286156.72,26508920.76,26731684.8],"projected_corpus":[222764.04,447755.72,674997.32,904521.33,1136354.18,1370521.76,1607050.92,1845969.47,2087305.2,2331085.9,2577340.4,2826095.44,3077378.03,3331215.85,3587635.65,3846665.05,4108331.74,4372663.1,4639687.77,4909434.69,5181933.08,5457211.45,5735297.6,6016218.62,6299998.85,6586665.88,6876248.58,7168775.71,7464276.51,7762779.92,8064314.36,8368908.14,8676590.86,8987392.41,9301342.97,9618472.04,9938810.8,10262387.55,10589231.07,10919371.02,11252836.37,11589656.77,11929861.98,12273481.64,12620545.4,12971083.89,13325126.77,13682705.68,14043850.78,14408593.43,14776963,15148988.67,15524699.6,15904124.64,16287293.93,16674238.91,17064991.34,17459585.29,17858055.18,18260431.77,18666750.13,19077031.67,19491306.03,19909603.13,20331953.2,20758386.77,21188934.68,21623628.07,22062500.39,22505581.43,22952901.28,23404490.94,23860389.89,24320629.83,24785240.17,25254252.31,25727696.87,26205605.88,26688010.08,27174944.22,27666439.3,28162529.73,28663248.07,29168624.59,29678691.88,30193482.84,30712999.71,31237273.75,31766333.13,32300208.5,32838928.63,33382525.96,33931031.26,34484475.61,35042890.41,35606307.35,36174758.46,36748275.88,37326892.68,37910641.65,38499540.11,39093619.55,39692913.79,40297457.06,40907283.67,41522426.55,42142918.86,42768794.09,43399986.07,44036529.97,44678459.31,45325807.94,45978608.06,46636888.18,47300679.1,47970019.93,48644944.17,49325487.65,50011690.57,50734671.52]}},"allocation":{"labels":["Equity","Debt"],"data":[70,30],"meta":{"recommended_fund_categories":{"equity":["Large Cap Funds","Mid Cap Funds","Small Cap Funds"],"debt":["Corporate Bond Funds","Short Duration Funds"],"elss_optional":true}}}} 
  </script>

  <script>
  function initCharts() {
    if (typeof Chart === 'undefined') {
      console.error('Chart.js not loaded');
      return;
    }
    
    let data;
    try {
      const script = document.getElementById('sip-chart-data');
      data = script ? JSON.parse(script.textContent) : null;
    } catch (e) {
      console.warn('Chart data parse failed');
      data = null;
    }
    
    if (!data) {
      console.warn('Using fallback chart data');
      data = {
        projection: {
          labels: ["M1","M2","M3","M4","M5","M6","M7","M8","M9","M10","M11","M12","M13","M14","M15","M16","M17","M18","M19","M20","M21","M22","M23","M24","M25","M26","M27","M28","M29","M30","M31","M32","M33","M34","M35","M36","M37","M38","M39","M40","M41","M42","M43","M44","M45","M46","M47","M48","M49","M50","M51","M52","M53","M54","M55","M56","M57","M58","M59","M60","M61","M62","M63","M64","M65","M66","M67","M68","M69","M70","M71","M72","M73","M74","M75","M76","M77","M78","M79","M80","M81","M82","M83","M84","M85","M86","M87","M88","M89","M90","M91","M92","M93","M94","M95","M96","M97","M98","M99","M100","M101","M102","M103","M104","M105","M106","M107","M108","M109","M110","M111","M112","M113","M114","M115","M116","M117","M118","M119","M120"],
          datasets: {
            cumulative_contribution: [25000,50000,75000,100000,125000,150000,175000,200000,225000,250000,275000,300000,325000,350000,375000,400000,425000,450000,475000,500000,525000,550000,575000,600000,625000,650000,675000,700000,725000,750000,775000,800000,825000,850000,875000,900000,925000,950000,975000,1000000,1025000,1050000,1075000,1100000,1125000,1150000,1175000,1200000,1225000,1250000,1275000,1300000,1325000,1350000,1375000,1400000,1425000,1450000,1475000,1500000,1525000,1550000,1575000,1600000,1625000,1650000,1675000,1700000,1725000,1750000,1775000,1800000,1825000,1850000,1875000,1900000,1925000,1950000,1975000,2000000,2025000,2050000,2075000,2100000,2125000,2150000,2175000,2200000,2225000,2250000,2275000,2300000,2325000,2350000,2375000,2400000,2425000,2450000,2475000,2500000,2525000,2550000,2575000,2600000,2625000,2650000,2675000,2700000,2725000,2750000,2775000,2800000,2825000,2850000,2875000,2900000,2925000,2950000,2975000,3000000],
            projected_corpus: [25250,50755,76519,102543,128831,155386,182212,209312,236692,264356,292308,320552,349093,377935,407082,436540,466312,496404,526821,557567,588648,620068,651832,683945,716412,749239,782430,815991,849927,884244,918948,954045,989540,1025440,1061750,1098476,1135626,1173205,1211220,1249678,1288586,1327951,1367780,1408080,1448859,1490125,1531885,1574148,1616922,1660215,1704035,1748392,1793293,1838750,1884770,1931365,1978544,2026318,2074697,2123692,2173315,2223577,2274490,2326066,2378316,2431252,2484887,2539233,2594302,2650106,2706658,2763971,2822058,2880932,2940607,3001097,3062415,3124575,3187591,3251477,3316247,3381916,3448499,3516010,3584465,3653879,3724267,3795645,3868028,3941432,4015873,4091366,4167928,4245574,4324322,4404188,4485188,4567340,4650661,4735168,4821880,4909814,4999990,5091425,5184139,5278150,5373478,5470142,5568161,5667556,5768346,5870552,5974194,6079293,6185870,6293947,6403545,6514686,6627391]
          }
        },
        allocation: { labels: ["Equity", "Debt"], data: [70, 30] }
      };
    }
    
    const allocCtx = document.getElementById('sipAllocationChart');
    if (allocCtx) {
      new Chart(allocCtx, {
        type: 'doughnut',
        data: {
          labels: data.allocation.labels,
          datasets: [{ 
            data: data.allocation.data, 
            backgroundColor: ['#3B82F6', '#10B981'],
            borderWidth: 2 
          }]
        },
        options: { 
          responsive: true,
          maintainAspectRatio: true,
          aspectRatio: 1.33,
          plugins: {
            legend: { 
              position: 'bottom',
              labels: { padding: 15 }
            }
          }
        }
      });
    }
    
    const projCtx = document.getElementById('sipProjectionChart');
    if (projCtx) {
      new Chart(projCtx, {
        type: 'line',
        data: {
          labels: data.projection.labels,
          datasets: [{
            label: 'Projected Corpus',
            data: data.projection.datasets.projected_corpus,
            borderColor: '#3B82F6',
            backgroundColor: 'rgba(59, 130, 246, 0.1)',
            fill: true,
            tension: 0.4,
            pointRadius: 1,
            pointHoverRadius: 4
          }, {
            label: 'Cumulative Contribution', 
            data: data.projection.datasets.cumulative_contribution,
            borderColor: '#EF4444',
            backgroundColor: 'rgba(239, 68, 68, 0.1)',
            fill: false,
            tension: 0.4,
            pointRadius: 1,
            pointHoverRadius: 4
          }]
        },
        options: { 
          responsive: true,
          maintainAspectRatio: true,
          aspectRatio: 1.5,
          interaction: {
            mode: 'nearest',
            intersect: false
          },
          scales: {
            x: {
              title: { display: true, text: 'Time Period (Months)' },
              ticks: { maxTicksLimit: 10 }
            },
            y: {
              beginAtZero: true,
              title: { display: true, text: 'Amount (INR)' },
              ticks: {
                callback: function(value) {
                  return '‚Çπ' + (value/100000).toFixed(1) + 'L';
                }
              }
            }
          },
          plugins: {
            tooltip: {
              mode: 'index',
              intersect: false
            }
          }
        }
      });
    }
  }
  
  setTimeout(initCharts, 500);
  </script>

</body>
</html>