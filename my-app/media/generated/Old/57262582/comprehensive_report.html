<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Comprehensive Retirement Investment Strategy Report</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <style>
    body { font-family: Arial, sans-serif; margin: 0; padding: 20px; background-color: #f9fafb; }
    .container { max-width: 1200px; margin: 0 auto; background: white; padding: 20px 40px; border-radius: 8px; box-shadow: 0 4px 6px rgba(0,0,0,0.1); }
    h1 { font-size: 2.25rem; font-weight: bold; margin-bottom: 1rem; color: #111827; border-bottom: 2px solid #3B82F6; padding-bottom: 0.5rem; }
    h2 { font-size: 1.75rem; font-weight: bold; margin-top: 2rem; margin-bottom: 1rem; color: #1f2937; border-bottom: 1px solid #e5e7eb; padding-bottom: 0.5rem; }
    h3 { font-size: 1.25rem; font-weight: bold; margin-top: 1.5rem; margin-bottom: 0.75rem; color: #374151; }
    table { width: 100%; border-collapse: collapse; margin: 15px 0; }
    th, td { border: 1px solid #ddd; padding: 12px; text-align: left; }
    th { background-color: #f8f9fa; font-weight: bold; }
    p, li { line-height: 1.6; color: #4b5563; }
    .callout { padding: 15px; margin: 20px 0; border-radius: 6px; border-left-width: 5px; }
    .callout.warning { background-color: #fffbeb; border-color: #f59e0b; color: #b45309; }
    .chart-container { margin: 25px 0; padding: 20px; border: 1px solid #e5e7eb; border-radius: 8px; text-align: center; }
    .no-print { display: block; }
    @media print {
      .no-print { display: none; }
      body { padding: 0; background-color: #fff; }
      .container { box-shadow: none; border: none; padding: 0; max-width: 100%; }
    }
  </style>
</head>
<body>
  <div class="container">
    <div class='report'><h1>Comprehensive Retirement Investment Strategy Report</h1><div id='executive-summary'><h2>1. Executive Summary</h2><p>This report outlines a strategic blueprint for a 30-year retirement plan, designed for a 30-year-old investor with a <b>high-moderate risk appetite</b>. The primary financial objective is to accumulate an inflation-adjusted corpus of <b>₹24.92 Crore</b> by age 60, funded through a disciplined monthly Systematic Investment Plan (SIP) of <b>₹88,856</b>. The foundational strategy is built on a 60% Equity and 40% Debt asset allocation, incorporating a dynamic, age-based 'glide path' to systematically de-risk the portfolio as retirement approaches. The following sections detail the investor profile, allocation strategy, a conceptual fund portfolio, and critical considerations for risk, tax, and implementation.</p><div class='callout warning'>⚠️ <strong>Critical Validation Alert: Revision Required</strong><br>An independent validation of this plan (T023) has identified critical flaws in the current fund selection. This report should be considered a <b>strategic framework and NOT a final investment recommendation</b>. The key issues that require immediate attention before any capital is deployed are:<ul><li><b>High Concentration Risk:</b> The equity portfolio is 100% concentrated in 'Flexi Cap' funds, which deviates significantly from the required multi-category diversification strategy (Large, Mid, Small Cap).</li><li><b>Missing Cost Analysis:</b> The fund selection was performed without any data on Expense Ratios, a critical factor for long-term (30-year) investment returns.</li><li><b>Illustrative Debt Portfolio:</b> The recommended debt funds are placeholders and not based on a comparative data-driven analysis.</li></ul>A fundamental revision of the fund selection is necessary to align with best practices for diversification and cost management.</div></div><div id='investment-profile'><h2>2. Retirement Investment Profile</h2><p>The investment strategy is tailored to the following investor profile, derived from the initial financial analysis.</p><table><thead><tr><th>Parameter</th><th>Value</th></tr></thead><tbody><tr><td><b>Goal Type</b></td><td>Retirement</td></tr><tr><td><b>Current Age</b></td><td>30 Years</td></tr><tr><td><b>Target Retirement Age</b></td><td>60 Years</td></tr><tr><td><b>Total Investment Horizon</b></td><td>30 Years</td></tr><tr><td><b>Risk Appetite</b></td><td>High-Moderate</td></tr><tr><td><b>Required Monthly Investment (SIP)</b></td><td>₹88,856</td></tr><tr><td><b>Inflation-Adjusted Target Corpus</b></td><td>₹24,91,97,564 (approx. ₹24.92 Crore)</td></tr><tr><td><b>Initial Unadjusted Target</b></td><td>₹5,00,00,000 (₹5 Crore)</td></tr><tr><td><b>Assumed Blended CAGR</b></td><td>11.0%</td></tr><tr><td><b>Base Asset Allocation</b></td><td>60% Equity / 40% Debt</td></tr></tbody></table></div><div id='asset-allocation'><h2>3. Asset Allocation Strategy & Glide Path</h2><p>The cornerstone of this 30-year plan is a dynamic asset allocation strategy, known as a 'glide path'. This approach starts with a growth-oriented allocation and gradually becomes more conservative to protect the accumulated capital as retirement nears.</p><h3>Initial Allocation (Age 30-45)</h3><ul><li><b>Equity:</b> 60%</li><li><b>Debt:</b> 40%</li></ul><h3>The Three-Phase Retirement Glide Path</h3><ol><li><b>Phase 1: Aggressive Growth (Years 1-15 | Age 30-45):</b> The primary focus is on wealth creation to maximize the power of compounding. The portfolio maintains a high equity allocation, targeting growth-oriented categories to harness market growth, accepting higher volatility for potentially higher returns.</li><li><b>Phase 2: Balanced Accumulation (Years 16-25 | Age 46-55):</b> This phase marks a gradual and deliberate shift towards capital preservation. Equity allocation is moderated to a 50-60% range, with an increased weightage towards more stable Large Cap funds. The debt allocation increases to lock in gains and balance risk.</li><li><b>Phase 3: Pre-retirement De-risking (Years 26-30 | Age 56-60):</b> In the final years before retirement, protecting the accumulated corpus is paramount. Equity exposure is significantly reduced to 30-40%, and the portfolio is rebalanced heavily into safer, income-generating debt instruments like gilt and short-duration funds.</li></ol></div><div id='performance-analysis'><h2>4. Fund Performance Analysis</h2><div class='callout warning'>⚠️ <strong>Data Limitation Notice</strong><br>The fund selection detailed below was based on limited, unstructured web-scraped data, which primarily contained 3-year performance figures for Flexi Cap funds. A comprehensive performance analysis using standard metrics (e.g., CAGR over 5/10 years, Standard Deviation, Sharpe Ratio, Sortino Ratio) was not possible. The following rationale is based on the limited data available and must be re-validated with complete quantitative analysis.</div><p>A robust fund performance analysis should be the basis of selection. For a long-term retirement goal, emphasis should be placed on:<ul><li><b>Consistency:</b> Performance across multiple market cycles (10+ year track records).</li><li><b>Risk-Adjusted Returns:</b> Metrics like Sharpe and Sortino ratios to assess returns per unit of risk.</li><li><b>Downside Protection:</b> How well a fund protects capital during market downturns.</li><li><b>Cost Efficiency:</b> Low expense ratios, as costs compound significantly over 30 years.</li></ul>The current portfolio requires re-evaluation against these critical parameters.</div><div id='top-recommendations'><h2>5. Top Fund Recommendations (Conceptual Portfolio)</h2><p>The following portfolio is a conceptual model based on the 60/40 allocation. <strong>This selection requires a complete overhaul based on the issues highlighted in the Executive Summary.</strong></p><h3>Equity Funds (60% of SIP: ₹53,314)</h3><table><thead><tr><th>Fund Name</th><th>Sub-Category</th><th>Allocation %</th><th>Monthly Amount (₹)</th></tr></thead><tbody><tr><td>HDFC Flexi Cap Fund Direct Plan Growth</td><td>Flexi Cap</td><td>20%</td><td>17,771.20</td></tr><tr><td>Parag Parikh Flexi Cap Fund Direct Growth</td><td>Flexi Cap</td><td>15%</td><td>13,328.40</td></tr><tr><td>Quant Flexi Cap Fund Direct Growth</td><td>Flexi Cap</td><td>15%</td><td>13,328.40</td></tr><tr><td>JM Flexicap Fund Direct Plan Growth</td><td>Flexi Cap</td><td>10%</td><td>8,885.60</td></tr></tbody></table><h3>Debt Funds (40% of SIP: ₹35,542)</h3><table><thead><tr><th>Fund Name</th><th>Sub-Category</th><th>Allocation %</th><th>Monthly Amount (₹)</th></tr></thead><tbody><tr><td>HDFC Corporate Bond Fund <em>(Illustrative)</em></td><td>Corporate Bond</td><td>20%</td><td>17,771.20</td></tr><tr><td>SBI Magnum Gilt Fund <em>(Illustrative)</em></td><td>Government Securities</td><td>20%</td><td>17,771.20</td></tr></tbody></table></div><div id='portfolio-construction'><h2>6. Retirement Portfolio Construction Rationale</h2><p>This section explains the logic behind the fund choices in the conceptual portfolio.</p><h3>Equity Rationale (Flexi Cap Focused)</h3><ul><li><b>HDFC Flexi Cap Fund:</b> Intended as a core holding due to its large AUM, long track record, and management by a reputable fund house, providing a stable base.</li><li><b>Parag Parikh Flexi Cap Fund:</b> Selected for strategic diversification due to its mandate to invest in international equities, offering a hedge against domestic market downturns.</li><li><b>Quant Flexi Cap Fund:</b> Included as a tactical, aggressive allocation. Its quantitative, momentum-driven approach targets high growth potential, suitable for a long time horizon.</li><li><b>JM Flexicap Fund:</b> Chosen based on its strong 3-year performance in the limited dataset, aiming to capture alpha from high-performing funds.</li></ul><h3>Debt Rationale (Illustrative)</h3><ul><li><b>HDFC Corporate Bond Fund:</b> This category aims to provide higher yields than government securities with moderate credit risk, forming the core of the return-seeking debt allocation.</li><li><b>SBI Magnum Gilt Fund:</b> This category offers the highest level of safety by investing in sovereign-backed securities, acting as a portfolio anchor during periods of equity volatility.</li></ul></div><div id='risk-analysis'><h2>7. Risk Analysis</h2><p>A 30-year investment journey involves navigating several risks. The strategy is designed to mitigate them, but awareness is key.</p><ul><li><b>Market Volatility:</b> Equity markets are inherently volatile. While the long time horizon allows for recovery from downturns, investors must be prepared for significant paper losses in the short-to-medium term.</li><li><b>Concentration Risk:</b> <i>This is the most significant flaw in the current conceptual portfolio.</i> By investing only in Flexi Cap funds, the portfolio is not diversified across market capitalizations (Large, Mid, Small), exposing it to higher risk than a properly diversified one.</li><li><b>Data Limitation Risk:</b> The portfolio was designed with incomplete data. Investing based on this plan without further analysis carries the risk of selecting suboptimal funds with high costs or poor risk management.</li><li><b>Sequence of Returns Risk:</b> This is a critical risk specific to retirement planning. It refers to the danger of experiencing poor investment returns in the few years immediately before and after retirement. A market crash at age 58, for example, can permanently impair the corpus with little time for recovery. The primary mitigation for this risk is the <b>age-based glide path strategy</b>, which systematically reduces equity exposure and shifts to safer assets, ensuring the bulk of the corpus is protected when it's needed most. This disciplined de-risking is non-negotiable for a successful retirement plan.</li></ul></div><div id='implementation-roadmap'><h2>8. Implementation Roadmap</h2><p>A successful long-term plan requires disciplined execution. The following roadmap outlines the key actions over the 30-year period.</p><ol><li><b>Step 1: Foundational Research & Revision (Immediate):</b> Before investing, conduct a thorough, data-driven fund selection process to create a diversified portfolio that aligns with the original multi-category guidelines and includes cost analysis.</li><li><b>Step 2: Portfolio Deployment:</b> Initiate monthly SIPs in the finalized list of funds as per the defined allocation percentages.</li><li><b>Step 3: Annual Rebalancing:</b> Once a year, review the portfolio's asset allocation. If market movements have caused it to drift significantly from the 60/40 target (e.g., it has become 68/32), rebalance it back to the target. This enforces a 'buy low, sell high' discipline.</li><li><b>Step 4: Execute the Glide Path:</b> Starting around age 45-46, begin the systematic, gradual reduction of equity allocation as outlined in the 'Asset Allocation Strategy' section. This is a planned, proactive risk reduction activity.</li><li><b>Step 5: Regular Monitoring:</b> While annual action is sufficient, a quarterly review of fund performance and market conditions is advisable to stay informed.</li></ol></div>
    <div id='charts'>
      <h2>9. Fund Comparison Charts</h2>
      <p>Visualizations are essential for understanding performance, risk, and allocation. The following charts are generated based on the strategic plan and illustrative data.</p>
      <div class="chart-container">
        <h3>30-Year Fund Performance Projection</h3>
        <canvas id="performanceProjectionChart" width="800" height="400"></canvas>
      </div>
      <div class="chart-container">
        <h3>Risk-Return Scatter Plot (Illustrative)</h3>
        <canvas id="riskReturnScatterChart" width="800" height="400"></canvas>
      </div>
      <div class="chart-container">
        <h3>Age-Based Asset Allocation Glide Path</h3>
        <canvas id="assetAllocationGlidePathChart" width="800" height="400"></canvas>
      </div>
      <div class="chart-container">
        <h3>Expense Ratio Long-Term Impact (Illustrative)</h3>
        <canvas id="expenseRatioImpactChart" width="800" height="400"></canvas>
      </div>
    </div>
    <div id='rebalancing-strategy'><h2>10. Age-Based Rebalancing Strategy</h2><p>A disciplined rebalancing strategy is crucial for managing risk and adhering to the long-term plan.</p><ul><li><b>Frequency:</b> The portfolio should be reviewed and rebalanced <b>annually</b>. This is frequent enough to maintain the desired risk profile without excessive trading.</li><li><b>Triggers:</b> The primary trigger for rebalancing is the annual review. However, a major trigger is age. After age 45, a systematic reduction in equity allocation (e.g., by 2% per year) should commence as part of the glide path.</li><li><b>Methodology:</b> The most tax-efficient method is to use new SIP inflows for rebalancing. By directing the full monthly SIP to the under-allocated asset class for a few months, the portfolio can be brought back to its target allocation without selling existing units, thus avoiding transaction costs and potential capital gains taxes.</li></ul></div><div id='tax-optimization'><h2>11. Tax Optimization for Retirement</h2><p>Tax efficiency can significantly enhance the final corpus and post-retirement income.</p><ul><li><b>ELSS for Section 80C:</b> A portion of the equity allocation (up to ₹1.5 Lakhs annually) can be invested in an Equity-Linked Savings Scheme (ELSS). This provides a tax deduction under Section 80C while still contributing to the equity growth goal. Note the mandatory 3-year lock-in period.</li><li><b>Debt Fund Taxation:</b> Holding debt fund units for more than 3 years qualifies any gains as Long-Term Capital Gains (LTCG), which are taxed at 20% with indexation benefits. This is often more tax-efficient than the interest income from Fixed Deposits, which is taxed at the investor's marginal slab rate.</li><li><b>Post-Retirement Withdrawal Strategy:</b> A Systematic Withdrawal Plan (SWP) is the recommended method for generating regular income post-retirement. By structuring the SWP to draw from debt funds first, the equity portion of the portfolio is allowed to grow for a longer period. This can also be more tax-efficient than lump-sum withdrawals.</li></ul></div><div id='retirement-scenarios'><h2>12. Retirement Scenarios</h2><p>The current plan targets retirement at age 60. Adjustments are necessary for different timelines.</p><ul><li><b>Scenario 1: Early Retirement (e.g., at Age 55):</b> This significantly shortens the investment horizon to 25 years. To reach the same target corpus, the required monthly SIP would need to be substantially higher. Alternatively, the investor could target a smaller corpus or adopt a more aggressive initial asset allocation, which would increase risk. The de-risking glide path would also need to be accelerated.</li><li><b>Scenario 2: Delayed Retirement (e.g., at Age 65):</b> This extends the investment horizon to 35 years. The additional 5 years of compounding would have a powerful effect, allowing the investor to either reach a much larger corpus, reduce the monthly SIP amount, or retire with the same corpus having taken less risk throughout the journey. The glide path could be more gradual, maximizing growth potential for longer.</li></ul></div><div id='image-scan-debug'><h2>Image Scan & Integration Report</h2><p>As part of the report generation process, a mandatory scan for image assets (.jpg, .png, etc.) was conducted across all available session data sources, including `T020`, `T022`, and `T023`. The scan searched all keys and nested objects for fields containing image URLs. <b>Result: 0 images found.</b> The provided input data consisted entirely of structured JSON and text, with no image assets available for inclusion in this report.</div></div>
  </div>

  <div style="margin: 40px 0; text-align: center;" class="no-print">
    <button onclick="window.print()" style="margin: 5px; padding: 12px 24px; background: #3B82F6; color: white; border: none; border-radius: 6px; cursor: pointer; font-size: 1rem;">Print Report</button>
    <button onclick="downloadHTML()" style="margin: 5px; padding: 12px 24px; background: #10B981; color: white; border: none; border-radius: 6px; cursor: pointer; font-size: 1rem;">Download HTML</button>
  </div>

  <script id="fund-chart-data" type="application/json">
    {"performance_projection":{"type":"line","data":{"labels":["Year 1","Year 2","Year 3","Year 4","Year 5","Year 6","Year 7","Year 8","Year 9","Year 10","Year 11","Year 12","Year 13","Year 14","Year 15","Year 16","Year 17","Year 18","Year 19","Year 20","Year 21","Year 22","Year 23","Year 24","Year 25","Year 26","Year 27","Year 28","Year 29","Year 30"],"datasets":[{"label":"Total Contribution","data":[1066272,2132544,3198816,4265088,5331360,6397632,7463904,8530176,9596448,10662720,11728992,12795264,13861536,14927808,15994080,17060352,18126624,19192896,20259168,21325440,22391712,23457984,24524256,25590528,26656800,27723072,28789344,29855616,30921888,31988160],"borderColor":"rgb(54, 162, 235)","backgroundColor":"rgba(54, 162, 235, 0.5)","fill":true},{"label":"Projected Corpus Value","data":[1183561.92,2518553.73,4015594.64,5707300.05,7605103.06,9721664.39,12081047.48,14710000.7,17628100.78,20857191.86,24441482.97,28399046.09,32762941.16,37566864.69,42849219.81,48662633.98,55065523.72,62122731.33,69906231.78,78495917.27,87980468.17,98458319.67,109988734.84,122687495.67,136783110.19,152329252.3,169485470.06,188428871.76,209256047.66,232374212.9],"borderColor":"rgb(75, 192, 192)","backgroundColor":"rgba(75, 192, 192, 0.5)","fill":true}]},"options":{"responsive":true,"plugins":{"title":{"display":true,"text":"30-Year Retirement Corpus Projection (@ 11% CAGR)"}},"scales":{"y":{"title":{"display":true,"text":"Amount (in INR)"}},"x":{"title":{"display":true,"text":"Investment Year"}}}}},"risk_return_scatter":{"type":"scatter","data":{"datasets":[{"label":"Recommended Funds (Illustrative Data)","data":[{"x":14.5,"y":15.2,"fundName":"HDFC Flexi Cap"},{"x":13.8,"y":16.1,"fundName":"Parag Parikh Flexi Cap"},{"x":18.2,"y":22.5,"fundName":"Quant Flexi Cap"},{"x":17.5,"y":20.8,"fundName":"JM Flexicap"},{"x":4.1,"y":7.5,"fundName":"HDFC Corporate Bond"},{"x":2.5,"y":6.8,"fundName":"SBI Magnum Gilt"}],"backgroundColor":"rgb(255, 99, 132)"}]},"options":{"responsive":true,"plugins":{"title":{"display":true,"text":"Risk vs. Return Analysis (Illustrative)"}},"scales":{"x":{"title":{"display":true,"text":"Risk (Annualized Standard Deviation %)"}},"y":{"title":{"display":true,"text":"Return (Expected CAGR %)"}}}}},"asset_allocation_glide_path":{"type":"line","data":{"labels":[30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60],"datasets":[{"label":"Equity Allocation %","data":[60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,58,56,54,52,50,48,46,44,42,40,36,32,28,24,20],"fill":true,"borderColor":"rgb(75, 192, 192)","backgroundColor":"rgba(75, 192, 192, 0.5)"},{"label":"Debt Allocation %","data":[40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,42,44,46,48,50,52,54,56,58,60,64,68,72,76,80],"fill":true,"borderColor":"rgb(54, 162, 235)","backgroundColor":"rgba(54, 162, 235, 0.5)"}]},"options":{"responsive":true,"plugins":{"title":{"display":true,"text":"Age-Based Asset Allocation Glide Path"}},"scales":{"y":{"stacked":true,"title":{"display":true,"text":"Allocation (%)"}},"x":{"title":{"display":true,"text":"Investor Age"}}}}},"expense_ratio_impact":{"type":"bar","data":{"labels":["Recommended Portfolio (Avg. ER: ~0.7%)","Benchmark Portfolio (Avg. ER: 1.5%)"],"datasets":[{"label":"Final Corpus Value (INR)","data":[232374212,194849485],"backgroundColor":["rgba(75, 192, 192, 0.8)","rgba(255, 99, 132, 0.8)"]}]},"options":{"responsive":true,"plugins":{"title":{"display":true,"text":"Impact of Expense Ratios on Final Corpus (30 Years)"},"tooltip":{"callbacks":{"footer":"Note: Based on illustrative expense ratio assumptions."}}},"scales":{"y":{"title":{"display":true,"text":"Final Corpus (in Crores)"}}}}}}
  </script>

  <script>
    function downloadHTML() {
      const html = document.documentElement.outerHTML;
      const blob = new Blob([html], { type: 'text/html' });
      const url = URL.createObjectURL(blob);
      const a = document.createElement('a');
      a.href = url;
      a.download = 'fund_comprehensive_report.html';
      a.click();
      URL.revokeObjectURL(url);
    }

    function initializeRetirementCharts() {
      try {
        if (typeof Chart === 'undefined') {
          console.error('Chart.js not loaded');
          return;
        }

        let fundData;
        try {
          const dataScript = document.getElementById('fund-chart-data');
          fundData = dataScript ? JSON.parse(dataScript.textContent) : null;
        } catch (e) {
          console.warn('Chart data parse failed:', e);
          fundData = null;
        }

        if (!fundData) {
          console.warn('Using fallback data for charts.');
          fundData = {};
        }

        // 1. Performance Projection Chart
        const projCtx = document.getElementById('performanceProjectionChart');
        if (projCtx && fundData.performance_projection) {
          const config = fundData.performance_projection;
          config.options.scales.y.ticks = {
              callback: function(value) { return '₹' + (value / 10000000).toFixed(2) + ' Cr'; }
          };
          new Chart(projCtx, config);
        }

        // 2. Risk vs Return Scatter Plot
        const riskCtx = document.getElementById('riskReturnScatterChart');
        if (riskCtx && fundData.risk_return_scatter) {
          const config = JSON.parse(JSON.stringify(fundData.risk_return_scatter));
          config.options.plugins = config.options.plugins || {};
          config.options.plugins.tooltip = {
            callbacks: {
              label: function(context) {
                const point = context.dataset.data[context.dataIndex];
                const name = point.fundName || 'Fund';
                const risk = context.parsed.x ? context.parsed.x.toFixed(2) : 'N/A';
                const ret = context.parsed.y ? context.parsed.y.toFixed(2) : 'N/A';
                return `${name}: Risk ${risk}%, Return ${ret}%`;
              }
            }
          };
          new Chart(riskCtx, config);
        }

        // 3. Asset Allocation Glide Path
        const glideCtx = document.getElementById('assetAllocationGlidePathChart');
        if (glideCtx && fundData.asset_allocation_glide_path) {
          new Chart(glideCtx, fundData.asset_allocation_glide_path);
        }
        
        // 4. Expense Ratio Impact
        const expenseCtx = document.getElementById('expenseRatioImpactChart');
        if (expenseCtx && fundData.expense_ratio_impact) {
          const config = JSON.parse(JSON.stringify(fundData.expense_ratio_impact));
          config.options.scales.y.ticks = {
              callback: function(value) { return '₹' + (value / 10000000).toFixed(2) + ' Cr'; }
          };
          config.options.plugins.tooltip.callbacks = {
              footer: function(tooltipItems) { return 'Note: Based on illustrative expense ratio assumptions.'; }
          };
          new Chart(expenseCtx, config);
        }

      } catch (e) {
        console.error('Fund chart initialization failed:', e);
      }
    }

    if (document.readyState === 'loading') {
      document.addEventListener('DOMContentLoaded', function() { setTimeout(initializeRetirementCharts, 500); });
    } else {
      setTimeout(initializeRetirementCharts, 500);
    }
  </script>

</body>
</html>