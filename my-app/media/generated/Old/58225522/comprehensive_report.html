<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Strategic Investment Plan: Retirement Goal Analysis</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    body { font-family: Arial, sans-serif; margin: 0; padding: 20px; background-color: #f9fafb; }
    .container { max-width: 1000px; margin: 0 auto; background: white; padding: 2rem; border-radius: 8px; box-shadow: 0 4px 6px rgba(0,0,0,0.1); }
    h1, h2, h3 { color: #1f2937; border-bottom: 2px solid #e5e7eb; padding-bottom: 0.5rem; margin-top: 1.5rem; }
    h1 { font-size: 2em; }
    h2 { font-size: 1.5em; }
    table { width: 100%; border-collapse: collapse; margin: 15px 0; }
    th, td { border: 1px solid #ddd; padding: 10px; text-align: left; }
    th { background-color: #f8f9fa; font-weight: bold; }
    .callout { padding: 1rem; margin: 1rem 0; border-left-width: 4px; border-radius: 4px; }
    .warning { border-color: #f59e0b; background-color: #fef3c7; }
    .no-print { display: block; }
    @media print {
      .no-print { display: none; }
      body { margin: 0; padding: 0; background: none; box-shadow: none; }
      .container { box-shadow: none; padding: 0; }
    }
  </style>
</head>
<body>
  <div class="container">
    <div class="no-print" style="margin-bottom: 20px; text-align: center;">
      <button onclick="window.print()" style="margin: 5px; padding: 10px 20px; background-color: #3B82F6; color: white; border-radius: 5px; border: none; cursor: pointer;">Print Report</button>
      <button onclick="downloadHTML()" style="margin: 5px; padding: 10px 20px; background-color: #10B981; color: white; border-radius: 5px; border: none; cursor: pointer;">Download HTML</button>
    </div>

    <h1>üìä Strategic Investment Plan: Retirement Goal Analysis</h1>

    <section id='executive-summary'>
      <h2>üéØ Executive Summary</h2>
      <p>This report outlines a comprehensive retirement plan for an individual aged 50, aiming to retire at 60. The primary goal is to accumulate a target corpus of <b>‚Çπ3,00,00,000</b>. After adjusting for a projected annual inflation rate of <b>5.5%</b> over the 10-year horizon, the required corpus is calculated to be <b>‚Çπ5,12,44,334</b>. To achieve this target with an assumed annual return of 10% (based on a 'moderate' risk appetite), a monthly Systematic Investment Plan (SIP) of <b>‚Çπ2,50,161</b> is required. The recommended asset allocation is a balanced <b>50% in Equity</b> and <b>50% in Debt</b>. A quality assurance review identified a minor mathematical discrepancy in the projection model, resulting in a final projected corpus of <b>‚Çπ5,07,57,300</b>, a shortfall of approximately <b>‚Çπ4.87 Lakhs</b>. This report details the calculations, strategy, recommendations, and visualizations to guide the investment journey.</p>
    </section>

    <section id='goal-inputs'>
      <h2>üìã Goal Inputs</h2>
      <table><thead><tr><th>Parameter</th><th>Value</th></tr></thead><tbody><tr><td>Goal Type</td><td>Retirement</td></tr><tr><td>Current Age</td><td>50</td></tr><tr><td>Target Retirement Age</td><td>60</td></tr><tr><td>Target Amount</td><td>‚Çπ3,00,00,000</td></tr><tr><td>Time Horizon</td><td>10 Years (120 Months)</td></tr><tr><td>Risk Appetite</td><td>Moderate</td></tr><tr><td>Currency</td><td>INR</td></tr></tbody></table>
    </section>

    <section id='inflation-adjustment'>
      <h2>üí® Inflation Adjustment</h2>
      <p>The target corpus has been adjusted to account for inflation, ensuring the purchasing power of the final amount is preserved over the 10-year investment period.</p>
      <table><thead><tr><th>Parameter</th><th>Value</th></tr></thead><tbody><tr><td>Assumed Annual Inflation</td><td>5.5%</td></tr><tr><td>Investment Horizon</td><td>10 Years</td></tr><tr><td>Unadjusted Target Corpus</td><td>‚Çπ3,00,00,000</td></tr><tr><td><b>Inflation-Adjusted Target Corpus</b></td><td><b>‚Çπ5,12,44,333.80</b></td></tr></tbody></table>
    </section>

    <section id='sip-calculation'>
      <h2>üßÆ Monthly SIP Calculation</h2>
      <p>The following monthly SIP amount is required to reach the inflation-adjusted target based on the selected risk profile and corresponding expected rate of return.</p>
      <table><thead><tr><th>Parameter</th><th>Value</th></tr></thead><tbody><tr><td>Assumed Annual Return (Moderate Risk)</td><td>10%</td></tr><tr><td>Calculated Monthly Return (r)</td><td>0.833%</td></tr><tr><td>Total Investment Period (n)</td><td>120 Months</td></tr><tr><td><b>Required Monthly SIP</b></td><td><b>‚Çπ2,50,161.46</b></td></tr></tbody></table>
    </section>

    <section id='asset-allocation'>
      <h2>‚öñÔ∏è Asset Allocation Plan</h2>
      <p>A balanced asset allocation is recommended to align with a 'moderate' risk profile, aiming for both growth and capital preservation.</p>
      <table><thead><tr><th>Asset Class</th><th>Allocation</th><th>Recommended Fund Categories</th></tr></thead><tbody><tr><td>Equity</td><td>50%</td><td>Large Cap Funds, Mid Cap Funds</td></tr><tr><td>Debt</td><td>50%</td><td>Corporate Bond Funds, Short Duration Funds</td></tr></tbody></table>
    </section>

    <section id='key-recommendations'>
      <h2>üîë Key Recommendations</h2>
      <ul>
        <li><b>Proceed with Confidence:</b> The asset allocation and fund categories outlined are robust and implementable. The strategy aligns well with the stated goals and risk appetite.</li>
        <li><b>Conduct Fund-Level Due Diligence:</b> This report affirms categories, not specific funds. A separate, detailed analysis is required to select individual funds, focusing on factors like expense ratios, fund manager track record, and rolling returns.</li>
        <li><b>Plan for De-risking:</b> As the retirement date approaches, a strategy to gradually reduce risk should be implemented. Consider shifting the portfolio allocation from 50/50 Equity/Debt to a more conservative 40/60 or 30/70 mix during the final 2-3 years to protect the accumulated corpus.</li>
      </ul>
    </section>

    <section id='risk-factors'>
      <h2>üìâ Risk Factors and Uncertainties</h2>
      <p>Investing in mutual funds via SIPs is subject to market risks, and this plan is based on assumptions that may not hold true. The projected 10% annual return is an estimate, not a guarantee; actual returns may be higher or lower depending on market performance, economic conditions, and geopolitical events. Past performance of fund categories is not an indicator of future results. It is crucial to understand that this report validates fund <em>categories</em> only and does not constitute a recommendation for any specific fund. Regular portfolio reviews are essential to rebalance the asset allocation and make adjustments based on performance and any changes in financial goals or risk tolerance.</p>
      <div class='callout warning'>‚ö†Ô∏è <b>Data Discrepancy Detected:</b> A quality assurance check on the calculation model identified a critical issue. The monthly SIP of ‚Çπ2,50,161.46 was calculated to reach a target of <b>‚Çπ5,12,44,333.80</b>. However, the month-by-month projection table culminates in a final corpus of <b>‚Çπ5,07,57,300.27</b>. This represents a shortfall of <b>‚Çπ4,87,033.53</b>. While minor relative to the total corpus, this indicates an inconsistency between the goal-seeking formula and the iterative projection logic that should be considered.</div>
    </section>

    <section id="sip-charts">
      <h2>üìä SIP Projection & Allocation Charts</h2>
      <div style="display: block;">
        <div class="chart-container" style="margin-bottom: 30px; text-align: center; border: 1px solid #e5e7eb; padding: 1rem; border-radius: 8px;">
          <h3>Asset Allocation</h3>
          <div style="max-width: 500px; margin: 0 auto;">
            <canvas id="sipAllocationChart" width="400" height="300" style="max-width: 100%; height: auto;"></canvas>
          </div>
        </div>
        <div class="chart-container" style="text-align: center; border: 1px solid #e5e7eb; padding: 1rem; border-radius: 8px;">
          <h3>SIP Growth Projection</h3>
          <div style="max-width: 800px; margin: 0 auto;">
            <canvas id="sipProjectionChart" width="600" height="400" style="max-width: 100%; height: auto;"></canvas>
          </div>
        </div>
      </div>
    </section>

    <section id='monthly-projection'>
      <h2>üìà Monthly Projection (First 12 Months)</h2>
      <table><thead><tr><th>Month</th><th>Cumulative Contribution</th><th>Projected Corpus</th></tr></thead><tbody><tr><td>M1</td><td>‚Çπ2,50,161.46</td><td>‚Çπ2,50,161.46</td></tr><tr><td>M2</td><td>‚Çπ5,00,322.92</td><td>‚Çπ5,02,407.60</td></tr><tr><td>M3</td><td>‚Çπ7,50,484.38</td><td>‚Çπ7,56,755.79</td></tr><tr><td>M4</td><td>‚Çπ10,00,645.84</td><td>‚Çπ10,13,223.42</td></tr><tr><td>M5</td><td>‚Çπ12,50,807.30</td><td>‚Çπ12,71,828.02</td></tr><tr><td>M6</td><td>‚Çπ15,00,968.76</td><td>‚Çπ15,32,587.25</td></tr><tr><td>M7</td><td>‚Çπ17,51,130.22</td><td>‚Çπ17,95,519.01</td></tr><tr><td>M8</td><td>‚Çπ20,01,291.68</td><td>‚Çπ20,60,641.34</td></tr><tr><td>M9</td><td>‚Çπ22,51,453.14</td><td>‚Çπ23,27,972.48</td></tr><tr><td>M10</td><td>‚Çπ25,01,614.60</td><td>‚Çπ25,97,530.93</td></tr><tr><td>M11</td><td>‚Çπ27,51,776.06</td><td>‚Çπ28,69,335.29</td></tr><tr><td>M12</td><td>‚Çπ30,01,937.52</td><td>‚Çπ31,43,404.22</td></tr></tbody></table>
    </section>

  </div>

  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

  <script id="sip-chart-data" type="application/json">
    {"projection":{"labels":["M1","M2","M3","M4","M5","M6","M7","M8","M9","M10","M11","M12","M13","M14","M15","M16","M17","M18","M19","M20","M21","M22","M23","M24","M25","M26","M27","M28","M29","M30","M31","M32","M33","M34","M35","M36","M37","M38","M39","M40","M41","M42","M43","M44","M45","M46","M47","M48","M49","M50","M51","M52","M53","M54","M55","M56","M57","M58","M59","M60","M61","M62","M63","M64","M65","M66","M67","M68","M69","M70","M71","M72","M73","M74","M75","M76","M77","M78","M79","M80","M81","M82","M83","M84","M85","M86","M87","M88","M89","M90","M91","M92","M93","M94","M95","M96","M97","M98","M99","M100","M101","M102","M103","M104","M105","M106","M107","M108","M109","M110","M111","M112","M113","M114","M115","M116","M117","M118","M119","M120"],"datasets":{"cumulative_contribution":[250161.46,500322.92,750484.38,1000645.84,1250807.3,1500968.76,1751130.22,2001291.68,2251453.14,2501614.6,2751776.06,3001937.52,3252098.98,3502260.44,3752421.9,4002583.36,4252744.82,4502906.28,4753067.74,5003229.2,5253390.66,5503552.12,5753713.58,6003875.04,6254036.5,6504197.96,6754359.42,7004520.88,7254682.34,7504843.8,7755005.26,8005166.72,8255328.18,8505489.64,8755651.1,9005812.56,9255974.02,9506135.48,9756296.94,10006458.4,10256619.86,10506781.32,10756942.78,11007104.24,11257265.7,11507427.16,11757588.62,12007750.08,12257911.54,12508073.0,12758234.46,13008395.92,13258557.38,13508718.84,13758880.3,14009041.76,14259203.22,14509364.68,14759526.14,15009687.6,15259849.06,15510010.52,15760171.98,16010333.44,16260494.9,16510656.36,16760817.82,17010979.28,17261140.74,17511302.2,17761463.66,18011625.12,18261786.58,18511948.04,18762109.5,19012270.96,19262432.42,19512593.88,19762755.34,20012916.8,20263078.26,20513239.72,20763401.18,21013562.64,21263724.1,21513885.56,21764047.02,22014208.48,22264369.94,22514531.4,22764692.86,23014854.32,23265015.78,23515177.24,23765338.7,24015500.16,24265661.62,24515823.08,24765984.54,25016146.0,25266307.46,25516468.92,25766630.38,26016791.84,26266953.3,26517114.76,26767276.22,27017437.68,27267599.14,27517760.6,27767922.06,28018083.52,28268244.98,28518406.44,28768567.9,29018729.36,29268890.82,29519052.28,29769213.74,30019375.2],"projected_corpus":[250161.46,502407.6,756755.79,1013223.42,1271828.02,1532587.25,1795519.01,2060641.34,2327972.48,2597530.93,2869335.29,3143404.22,3419756.42,3698410.74,3979386.16,4262701.75,4548376.66,4836429.98,5126881.01,5419749.02,5715053.48,6012813.92,6313049.97,6615781.39,6921028.07,7228809.97,7539147.22,7852059.98,8167568.51,8485693.22,8806454.66,9129873.54,9455970.62,9784766.71,10116282.73,10450539.75,10787558.94,11127361.6,11469969.28,11815403.54,12163686.07,12514838.62,12868883.11,13225841.54,13585736.02,13948588.66,14314421.7,14683257.54,15055118.66,15430027.65,15808007.21,16189080.27,16573270.01,16960599.63,17351092.49,17744772.06,18141662.0,18541786.15,18945168.53,19351833.3,19761804.81,20175107.52,20591766.08,21011805.29,21435250.0,21862125.18,22292455.91,22726267.41,23163585.04,23604434.35,24048841.0,24496830.68,24948429.28,25403662.83,25862557.51,26325139.73,26791436.03,27261473.16,27735278.07,28212877.82,28694300.0,29179572.33,29668722.5,30161788.32,30658767.64,31159718.37,31664658.65,32173616.71,32686620.85,33203699.52,33724881.35,34250195.03,34779669.32,35313330.9,35851215.56,36393346.02,36939753.87,37490468.65,38045519.98,38604937.65,39168751.46,39736991.43,40309687.73,40886870.79,41468571.21,42054819.67,42645647.0,43241084.06,43841161.76,44445911.11,45055363.07,45669548.76,46288500.03,46912248.86,47540827.43,48174268.02,48812603.02,49455864.71,50104086.58,50757300.27]}},"allocation":{"labels":["Equity","Debt"],"data":[50,50],"meta":{"recommended_fund_categories":{"equity":["Large Cap Funds","Mid Cap Funds"],"debt":["Corporate Bond Funds","Short Duration Funds"],"elss_optional":true}}}}
  </script>

  <script>
    function initCharts() {
      if (typeof Chart === 'undefined') {
        console.error('Chart.js not loaded');
        return;
      }
      
      let data;
      try {
        const script = document.getElementById('sip-chart-data');
        data = script ? JSON.parse(script.textContent) : null;
      } catch (e) {
        console.warn('Chart data parse failed');
        data = null;
      }
      
      if (!data) {
        console.warn('Using fallback chart data.');
        data = {
          projection: {
            labels: ["M1","M2","M3","M4","M5","M6","M7","M8","M9","M10","M11","M12"],
            datasets: {
              cumulative_contribution: [25000,50000,75000,100000,125000,150000,175000,200000,225000,250000,275000,300000],
              projected_corpus: [25250,50755,76519,102543,128831,155386,182212,209312,236692,264356,292308,320552]
            }
          },
          allocation: { labels: ["Equity", "Debt"], data: [50, 50] }
        };
      }
      
      const allocCtx = document.getElementById('sipAllocationChart');
      if (allocCtx) {
        new Chart(allocCtx, {
          type: 'doughnut',
          data: {
            labels: data.allocation.labels,
            datasets: [{ 
              data: data.allocation.data, 
              backgroundColor: ['#3B82F6', '#10B981'],
              borderWidth: 2 
            }]
          },
          options: { 
            responsive: true,
            maintainAspectRatio: true,
            aspectRatio: 1.33,
            plugins: {
              legend: { 
                position: 'bottom',
                labels: { padding: 15 }
              }
            }
          }
        });
      }
      
      const projCtx = document.getElementById('sipProjectionChart');
      if (projCtx) {
        new Chart(projCtx, {
          type: 'line',
          data: {
            labels: data.projection.labels,
            datasets: [{
              label: 'Projected Corpus',
              data: data.projection.datasets.projected_corpus,
              borderColor: '#3B82F6',
              backgroundColor: 'rgba(59, 130, 246, 0.1)',
              fill: true,
              tension: 0.4,
              pointRadius: 1,
              pointHoverRadius: 4
            }, {
              label: 'Cumulative Contribution', 
              data: data.projection.datasets.cumulative_contribution,
              borderColor: '#EF4444',
              backgroundColor: 'rgba(239, 68, 68, 0.1)',
              fill: false,
              tension: 0.4,
              pointRadius: 1,
              pointHoverRadius: 4
            }]
          },
          options: { 
            responsive: true,
            maintainAspectRatio: true,
            aspectRatio: 1.5,
            interaction: {
              mode: 'nearest',
              intersect: false
            },
            scales: {
              x: {
                title: { display: true, text: 'Time Period (Months)' },
                ticks: { maxTicksLimit: 10 }
              },
              y: {
                beginAtZero: true,
                title: { display: true, text: 'Amount (INR)' },
                ticks: {
                  callback: function(value) {
                    if (value >= 10000000) return '‚Çπ' + (value/10000000).toFixed(2) + 'Cr';
                    return '‚Çπ' + (value/100000).toFixed(1) + 'L';
                  }
                }
              }
            },
            plugins: {
              tooltip: {
                mode: 'index',
                intersect: false
              }
            }
          }
        });
      }
    }

    setTimeout(initCharts, 500);

    function downloadHTML() {
      const html = document.documentElement.outerHTML;
      const blob = new Blob([html], { type: 'text/html' });
      const url = URL.createObjectURL(blob);
      const a = document.createElement('a');
      a.href = url;
      a.download = 'sip_report.html';
      a.click();
      URL.revokeObjectURL(url);
    }
  </script>
</body>
</html>