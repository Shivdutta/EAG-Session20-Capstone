<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Comprehensive SIP Analysis for Retirement Goal</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    body { font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"; margin: 0; padding: 20px; background-color: #f9fafb; color: #111827; }
    .container { max-width: 1000px; margin: 0 auto; background-color: #ffffff; padding: 2rem; border-radius: 0.5rem; box-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1); }
    h1, h2 { border-bottom: 2px solid #e5e7eb; padding-bottom: 0.5rem; margin-top: 1.5rem; margin-bottom: 1rem; color: #1f2937; }
    h1 { font-size: 2.25rem; }
    h2 { font-size: 1.875rem; }
    h3 { font-size: 1.5rem; margin-bottom: 0.5rem; color: #374151; }
    table { width: 100%; border-collapse: collapse; margin: 20px 0; }
    th, td { border: 1px solid #ddd; padding: 12px; text-align: left; }
    th { background-color: #f3f4f6; font-weight: 600; }
    .callout { padding: 1rem; margin: 1rem 0; border-left-width: 4px; border-radius: 0.25rem; }
    .callout.warning { border-color: #f59e0b; background-color: #fffbeb; color: #b45309; }
    .no-print { display: block; }
    @media print {
      .no-print { display: none; }
      body { padding: 0; background-color: #ffffff; }
      .container { box-shadow: none; border-radius: 0; }
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>üìä Comprehensive SIP Analysis for Retirement Goal</h1>
    
    <div class="no-print">
      <div style="margin: 20px 0; text-align: center;">
        <button onclick="window.print()" style="margin: 5px; padding: 10px 20px; background-color: #3B82F6; color: white; border: none; border-radius: 4px; cursor: pointer;">Print Report</button>
        <button onclick="downloadHTML()" style="margin: 5px; padding: 10px 20px; background-color: #10B981; color: white; border: none; border-radius: 4px; cursor: pointer;">Download HTML</button>
      </div>
    </div>
    
    <section id="executive-summary">
      <h2>üéØ Executive Summary</h2>
      <p>This report outlines a personalized Systematic Investment Plan (SIP) designed to achieve a retirement goal of <b>‚Çπ3,00,00,000</b> over a <b>10-year period</b>. After adjusting for a projected annual inflation rate of 5.5%, the target corpus required is <b>‚Çπ5,12,44,333</b>. To reach this goal, a monthly SIP of <b>‚Çπ2,36,600</b> is calculated based on an assumed annualized return of 11%, consistent with a 'high_moderate' risk appetite. The investment strategy is built on a diversified portfolio with a strategic asset allocation of <b>60% in Equity and 40% in Debt</b>. This disciplined approach, coupled with annual rebalancing, provides a robust framework for achieving the specified retirement objective.</p>
      <div class="callout warning">‚ö†Ô∏è <b>Data Discrepancy Notice:</b> A validation check revealed an inconsistency in the provided data. The monthly SIP is calculated to reach a target of ‚Çπ5.12 Cr, but the month-by-month projection data culminates at ‚Çπ4.92 Cr. This report proceeds with the analysis based on the calculated target, but this discrepancy in the underlying projection model should be noted.</div>
    </section>

    <section id="goal-inputs">
      <h2>üìù Goal Inputs</h2>
      <table>
        <thead><tr><th>Parameter</th><th>Value</th></tr></thead>
        <tbody>
          <tr><td>Goal Type</td><td>Retirement</td></tr>
          <tr><td>Target Amount (Unadjusted)</td><td>‚Çπ3,00,00,000</td></tr>
          <tr><td>Time Horizon</td><td>10 Years (120 Months)</td></tr>
          <tr><td>Risk Appetite</td><td>High-Moderate</td></tr>
        </tbody>
      </table>
    </section>

    <section id="inflation-adjustment">
      <h2>üå°Ô∏è Inflation Adjustment</h2>
       <table>
        <thead><tr><th>Parameter</th><th>Value</th></tr></thead>
        <tbody>
          <tr><td>Assumed Annual Inflation</td><td><b>5.5%</b></td></tr>
          <tr><td>Unadjusted Target Amount</td><td>‚Çπ3,00,00,000</td></tr>
          <tr><td><b>Inflation-Adjusted Target</b></td><td><b>‚Çπ5,12,44,333.72</b></td></tr>
        </tbody>
      </table>
    </section>

    <section id="sip-calculation">
      <h2>üßÆ SIP Calculation</h2>
       <table>
        <thead><tr><th>Parameter</th><th>Value</th></tr></thead>
        <tbody>
          <tr><td>Expected Annualized Return</td><td>11% (Based on 'High-Moderate' Risk Profile)</td></tr>
          <tr><td>Total Investment Period (n)</td><td>120 Months</td></tr>
          <tr><td><b>Required Monthly SIP</b></td><td><b>‚Çπ2,36,600.08</b></td></tr>
        </tbody>
      </table>
    </section>

    <section id="asset-allocation">
      <h2>üè¶ Asset Allocation Plan</h2>
      <p>The investment strategy employs a diversified asset allocation model tailored to a 'high_moderate' risk profile, balancing growth potential with capital preservation. A 'Core and Satellite' approach is used for the equity portion.</p>
      <table>
        <thead><tr><th>Asset Class</th><th>Fund Category</th><th>Allocation %</th><th>Role in Portfolio</th></tr></thead>
        <tbody>
          <tr><td>Equity</td><td>Large Cap Funds</td><td>40%</td><td>Core Growth & Stability</td></tr>
          <tr><td>Equity</td><td>Mid Cap Funds</td><td>20%</td><td>Satellite Growth Accelerator</td></tr>
          <tr><td>Debt</td><td>Corporate Bond Funds</td><td>25%</td><td>Stable Income & Preservation</td></tr>
          <tr><td>Debt</td><td>Short Duration Funds</td><td>15%</td><td>Volatility Dampener</td></tr>
          <tr><td><b>Total</b></td><td></td><td><b>100%</b></td><td><b>Diversified Growth Portfolio</b></td></tr>
        </tbody>
      </table>
    </section>

    <section id="key-recommendations">
      <h2>üîë Key Recommendations</h2>
      <ul>
        <li><b>Disciplined Investment:</b> Consistently invest the recommended SIP amount of ‚Çπ2,36,600.08 every month to leverage compounding.</li>
        <li><b>Annual Rebalancing:</b> Review the portfolio annually. If an asset class deviates by more than 5%, rebalance to the original 60/40 split.</li>
        <li><b>Tax Optimization:</b> Consider routing up to ‚Çπ1.5 lakhs of the annual equity investment through an Equity Linked Savings Scheme (ELSS) fund for tax benefits under Section 80C.</li>
        <li><b>Long-Term Perspective:</b> Remain invested for the full 10-year horizon and avoid reactive decisions based on short-term market fluctuations.</li>
      </ul>
    </section>

    <section id="risk-factors">
      <h2>‚öñÔ∏è Risk Factors & Uncertainties</h2>
      <p>While this SIP plan is structured to meet the financial goal, it is essential to understand the inherent risks. The expected 11% return is an assumption, not a guarantee, and actual returns can vary significantly.</p>
      <ul>
        <li><b>Market Risk:</b> The 60% allocation to equities exposes the portfolio to market fluctuations. Economic downturns, geopolitical events, or poor corporate performance can lead to a decline in the value of equity investments. Mid Cap funds carry higher volatility compared to Large Cap funds.</li>
        <li><b>Interest Rate Risk:</b> The debt portion is susceptible to interest rate risk. If market interest rates rise, the Net Asset Value (NAV) of existing debt funds can decrease.</li>
        <li><b>Credit Risk:</b> While debt funds focus on high-credit-quality issuers, there is a non-zero risk of default where a bond issuer fails to make payments.</li>
        <li><b>Inflation Risk:</b> If actual inflation is consistently higher than the projected 5.5%, the final corpus may have less purchasing power than intended.</li>
        <li><b>Data Integrity Risk:</b> As highlighted, the discrepancy between the calculated target (‚Çπ5.12 Cr) and the projection data's final value (‚Çπ4.92 Cr) indicates a potential model error, introducing uncertainty into the forecast visualization.</li>
      </ul>
    </section>

    <section id="sip-charts">
      <h2>üìä SIP Projection & Allocation Charts</h2>
      <div style="display: block;">
        <!-- Asset Allocation FIRST (TOP) -->
        <div class="chart-container" style="margin-bottom: 30px; text-align: center;">
          <h3>Asset Allocation</h3>
          <div style="max-width: 500px; margin: 0 auto;">
            <canvas id="sipAllocationChart" width="400" height="300" style="max-width: 100%; height: auto;"></canvas>
          </div>
        </div>
        
        <!-- SIP Growth Projection SECOND (BOTTOM) -->
        <div class="chart-container" style="text-align: center;">
          <h3>SIP Growth Projection</h3>
          <div style="max-width: 800px; margin: 0 auto;">
            <canvas id="sipProjectionChart" width="600" height="400" style="max-width: 100%; height: auto;"></canvas>
          </div>
        </div>
      </div>
    </section>

    <section id="monthly-projection">
      <h2>üìà Monthly Projection (First 12 Months)</h2>
      <table>
        <thead><tr><th>Month</th><th>Cumulative Contribution</th><th>Projected Corpus</th></tr></thead>
        <tbody>
          <tr><td>M1</td><td>‚Çπ2,36,600.08</td><td>‚Çπ2,36,600.08</td></tr>
          <tr><td>M2</td><td>‚Çπ4,73,200.16</td><td>‚Çπ4,75,372.33</td></tr>
          <tr><td>M3</td><td>‚Çπ7,09,800.24</td><td>‚Çπ7,16,331.66</td></tr>
          <tr><td>M4</td><td>‚Çπ9,46,400.32</td><td>‚Çπ9,59,493.03</td></tr>
          <tr><td>M5</td><td>‚Çπ11,83,000.40</td><td>‚Çπ12,04,871.49</td></tr>
          <tr><td>M6</td><td>‚Çπ14,19,600.48</td><td>‚Çπ14,52,482.21</td></tr>
          <tr><td>M7</td><td>‚Çπ16,56,200.56</td><td>‚Çπ17,02,340.48</td></tr>
          <tr><td>M8</td><td>‚Çπ18,92,800.64</td><td>‚Çπ19,54,461.73</td></tr>
          <tr><td>M9</td><td>‚Çπ21,29,400.72</td><td>‚Çπ22,08,861.52</td></tr>
          <tr><td>M10</td><td>‚Çπ23,66,000.80</td><td>‚Çπ24,65,555.53</td></tr>
          <tr><td>M11</td><td>‚Çπ26,02,600.88</td><td>‚Çπ27,24,559.54</td></tr>
          <tr><td>M12</td><td>‚Çπ28,39,200.96</td><td>‚Çπ29,85,889.47</td></tr>
        </tbody>
      </table>
    </section>

    <div class="no-print">
      <div style="margin: 20px 0; text-align: center;">
        <button onclick="window.print()" style="margin: 5px; padding: 10px 20px; background-color: #3B82F6; color: white; border: none; border-radius: 4px; cursor: pointer;">Print Report</button>
        <button onclick="downloadHTML()" style="margin: 5px; padding: 10px 20px; background-color: #10B981; color: white; border: none; border-radius: 4px; cursor: pointer;">Download HTML</button>
      </div>
    </div>

  </div>

  <!-- Load Chart.js -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

  <!-- Embed chart data -->
  <script id="sip-chart-data" type="application/json">
  {"projection":{"labels":["M1","M2","M3","M4","M5","M6","M7","M8","M9","M10","M11","M12","M13","M14","M15","M16","M17","M18","M19","M20","M21","M22","M23","M24","M25","M26","M27","M28","M29","M30","M31","M32","M33","M34","M35","M36","M37","M38","M39","M40","M41","M42","M43","M44","M45","M46","M47","M48","M49","M50","M51","M52","M53","M54","M55","M56","M57","M58","M59","M60","M61","M62","M63","M64","M65","M66","M67","M68","M69","M70","M71","M72","M73","M74","M75","M76","M77","M78","M79","M80","M81","M82","M83","M84","M85","M86","M87","M88","M89","M90","M91","M92","M93","M94","M95","M96","M97","M98","M99","M100","M101","M102","M103","M104","M105","M106","M107","M108","M109","M110","M111","M112","M113","M114","M115","M116","M117","M118","M119","M120"],"datasets":{"cumulative_contribution":[236600.08,473200.16,709800.24,946400.32,1183000.4,1419600.48,1656200.56,1892800.64,2129400.72,2366000.8,2602600.88,2839200.96,3075801.04,3312401.12,3549001.2,3785601.28,4022201.36,4258801.44,4495401.52,4732001.6,4968601.68,5205201.76,5441801.84,5678401.92,5915002,6151602.08,6388202.16,6624802.24,6861402.32,7098002.4,7334602.48,7571202.56,7807802.64,8044402.72,8281002.8,8517602.88,8754202.96,8990803.04,9227403.12,9464003.2,9700603.28,9937203.36,10173803.44,10410403.52,10647003.6,10883603.68,11120203.76,11356803.84,11593403.92,11830004,12066604.08,12303204.16,12539804.24,12776404.32,13013004.4,13249604.48,13486204.56,13722804.64,13959404.72,14196004.8,14432604.88,14669204.96,14905805.04,15142405.12,15379005.2,15615605.28,15852205.36,16088805.44,16325405.52,16562005.6,16798605.68,17035205.76,17271805.84,17508405.92,17745006,17981606.08,18218206.16,18454806.24,18691406.32,18928006.4,19164606.48,19401206.56,19637806.64,19874406.72,20111006.8,20347606.88,20584206.96,20820807.04,21057407.12,21294007.2,21530607.28,21767207.36,22003807.44,22240407.52,22477007.6,22713607.68,22950207.76,23186807.84,23423407.92,23660008,23896608.08,24133208.16,24369808.24,24606408.32,24843008.4,25079608.48,25316208.56,25552808.64,25789408.72,26026008.8,26262608.88,26499208.96,26735809.04,26972409.12,27209009.2,27445609.28,27682209.36,27918809.44,28155409.52,28392009.6],"projected_corpus":[236600.08,475372.33,716331.66,959493.03,1204871.49,1452482.21,1702340.48,1954461.73,2208861.52,2465555.53,2724559.54,2985889.47,3249561.35,3515591.35,3783995.73,4054790.87,4327993.26,4603619.52,4881686.37,5162210.66,5445209.38,5730700.07,6018700.41,6309228.14,6602301.12,6897937.33,7196154.91,7496972.15,7800407.47,8106479.44,8415206.82,8726608.45,9040703.35,9357510.68,9677049.77,9999339.99,10324401.01,10652252.69,10982915.02,11316408.2,11652752.62,11991968.8,12334077.38,12679099.11,13027054.89,13377965.73,13731852.79,14088737.35,14448640.85,14811584.86,15177591.07,15546681.33,15918877.58,16294201.9,16672676.51,17054323.7,17439165.89,17827225.59,18218525.43,18613088.19,19010936.75,19412094.09,19816583.29,20224427.53,20635650.11,21050274.46,21468324.16,21889822.92,22314794.63,22743263.26,23175252.92,23610787.82,24049892.29,24492590.81,24938907.96,25388868.51,25842497.4,26299819.67,26760860.5,27225645.24,27694199.31,28166548.26,28642717.78,29122733.68,29606621.94,30094408.66,30586119.98,31081782.16,31581421.65,32085065.04,32592739.02,33104470.43,33620286.27,34140213.67,34664279.91,35192512.39,35724938.64,36261586.32,36802483.24,37347657.34,37897136.68,38450949.49,39009124.12,39571689.04,40138672.84,40710104.22,41286012.01,41866425.17,42451372.78,43040884.05,43634988.33,44233715.1,44837093.99,45445154.8,46057927.51,46675442.22,47297729.18,47924818.81,48556741.7,49193528.51]}},"allocation":{"labels":["Equity","Debt"],"data":[60,40],"meta":{"recommended_fund_categories":{"equity":["Large Cap Funds","Mid Cap Funds"],"debt":["Corporate Bond Funds","Short Duration Funds"],"elss_optional":true}}}}
  </script>

  <!-- ENHANCED chart rendering with proper layout and sizing -->
  <script>
  function initCharts() {
    if (typeof Chart === 'undefined') {
      console.error('Chart.js not loaded');
      return;
    }
    
    let data;
    try {
      const script = document.getElementById('sip-chart-data');
      data = script ? JSON.parse(script.textContent) : null;
    } catch (e) {
      console.warn('Chart data parse failed');
      data = null;
    }
    
    // Enhanced fallback with complete timeline
    if (!data) {
      data = {
        projection: {
          labels: ["M1","M2","M3","M4","M5","M6","M7","M8","M9","M10","M11","M12","M13","M14","M15","M16","M17","M18","M19","M20","M21","M22","M23","M24","M25","M26","M27","M28","M29","M30","M31","M32","M33","M34","M35","M36","M37","M38","M39","M40","M41","M42","M43","M44","M45","M46","M47","M48","M49","M50","M51","M52","M53","M54","M55","M56","M57","M58","M59","M60","M61","M62","M63","M64","M65","M66","M67","M68","M69","M70","M71","M72","M73","M74","M75","M76","M77","M78","M79","M80","M81","M82","M83","M84","M85","M86","M87","M88","M89","M90","M91","M92","M93","M94","M95","M96","M97","M98","M99","M100","M101","M102","M103","M104","M105","M106","M107","M108","M109","M110","M111","M112","M113","M114","M115","M116","M117","M118","M119","M120"],
          datasets: {
            cumulative_contribution: [25000,50000,75000,100000,125000,150000,175000,200000,225000,250000,275000,300000,325000,350000,375000,400000,425000,450000,475000,500000,525000,550000,575000,600000,625000,650000,675000,700000,725000,750000,775000,800000,825000,850000,875000,900000,925000,950000,975000,1000000,1025000,1050000,1075000,1100000,1125000,1150000,1175000,1200000,1225000,1250000,1275000,1300000,1325000,1350000,1375000,1400000,1425000,1450000,1475000,1500000,1525000,1550000,1575000,1600000,1625000,1650000,1675000,1700000,1725000,1750000,1775000,1800000,1825000,1850000,1875000,1900000,1925000,1950000,1975000,2000000,2025000,2050000,2075000,2100000,2125000,2150000,2175000,2200000,2225000,2250000,2275000,2300000,2325000,2350000,2375000,2400000,2425000,2450000,2475000,2500000,2525000,2550000,2575000,2600000,2625000,2650000,2675000,2700000,2725000,2750000,2775000,2800000,2825000,2850000,2875000,2900000,2925000,2950000,2975000,3000000],
            projected_corpus: [25250,50755,76519,102543,128831,155386,182212,209312,236692,264356,292308,320552,349093,377935,407082,436540,466312,496404,526821,557567,588648,620068,651832,683945,716412,749239,782430,815991,849927,884244,918948,954045,989540,1025440,1061750,1098476,1135626,1173205,1211220,1249678,1288586,1327951,1367780,1408080,1448859,1490125,1531885,1574148,1616922,1660215,1704035,1748392,1793293,1838750,1884770,1931365,1978544,2026318,2074697,2123692,2173315,2223577,2274490,2326066,2378316,2431252,2484887,2539233,2594302,2650106,2706658,2763971,2822058,2880932,2940607,3001097,3062415,3124575,3187591,3251477,3316247,3381916,3448499,3516010,3584465,3653879,3724267,3795645,3868028,3941432,4015873,4091366,4167928,4245574,4324322,4404188,4485188,4567340,4650661,4735168,4821880,4909814,4999990,5091425,5184139,5278150,5373478,5470142,5568161,5667556,5768346,5870552,5974194,6079293,6185870,6293947,6403545,6514686,6627391]
          }
        },
        allocation: { labels: ["Equity", "Debt"], data: [70, 30] }
      };
    }
    
    // Create allocation chart FIRST (TOP POSITION)
    const allocCtx = document.getElementById('sipAllocationChart');
    if (allocCtx) {
      new Chart(allocCtx, {
        type: 'doughnut',
        data: {
          labels: data.allocation.labels,
          datasets: [{ 
            data: data.allocation.data, 
            backgroundColor: ['#3B82F6', '#10B981'],
            borderWidth: 2 
          }]
        },
        options: { 
          responsive: true,
          maintainAspectRatio: true,
          aspectRatio: 1.33,
          plugins: {
            legend: { 
              position: 'bottom',
              labels: { padding: 15 }
            }
          }
        }
      });
    }
    
    // Create projection chart SECOND (BOTTOM POSITION)
    const projCtx = document.getElementById('sipProjectionChart');
    if (projCtx) {
      new Chart(projCtx, {
        type: 'line',
        data: {
          labels: data.projection.labels,
          datasets: [{
            label: 'Projected Corpus',
            data: data.projection.datasets.projected_corpus,
            borderColor: '#3B82F6',
            backgroundColor: 'rgba(59, 130, 246, 0.1)',
            fill: true,
            tension: 0.4,
            pointRadius: 1,
            pointHoverRadius: 4
          }, {
            label: 'Cumulative Contribution', 
            data: data.projection.datasets.cumulative_contribution,
            borderColor: '#EF4444',
            backgroundColor: 'rgba(239, 68, 68, 0.1)',
            fill: false,
            tension: 0.4,
            pointRadius: 1,
            pointHoverRadius: 4
          }]
        },
        options: { 
          responsive: true,
          maintainAspectRatio: true,
          aspectRatio: 1.5,
          interaction: {
            mode: 'nearest',
            intersect: false
          },
          scales: {
            x: {
              title: { display: true, text: 'Time Period (Months)' },
              ticks: { maxTicksLimit: 10 }
            },
            y: {
              beginAtZero: true,
              title: { display: true, text: 'Amount (INR)' },
              ticks: {
                callback: function(value) {
                  return '‚Çπ' + (value/100000).toFixed(1) + 'L';
                }
              }
            }
          },
          plugins: {
            tooltip: {
              mode: 'index',
              intersect: false
            }
          }
        }
      });
    }
  }

  // Initialize with enhanced delay for proper loading
  setTimeout(initCharts, 500);
  </script>
  <script>
  function downloadHTML() {
    const html = document.documentElement.outerHTML;
    const blob = new Blob([html], { type: 'text/html' });
    const url = URL.createObjectURL(blob);
    const a = document.createElement('a');
    a.href = url;
    a.download = 'sip_comprehensive_report.html';
    a.click();
    URL.revokeObjectURL(url);
  }
  </script>
</body>
</html>