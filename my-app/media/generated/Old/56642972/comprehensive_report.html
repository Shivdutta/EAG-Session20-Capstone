<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Comprehensive Retirement SIP Analysis</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    body { font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif; margin: 0; padding: 20px; background-color: #f9fafb; color: #1f2937; }
    .container { max-width: 1000px; margin: 0 auto; background-color: #ffffff; padding: 2rem; border-radius: 8px; box-shadow: 0 4px 6px rgba(0,0,0,0.1); }
    h1, h2, h3 { color: #111827; font-weight: 600; border-bottom: 2px solid #e5e7eb; padding-bottom: 8px; margin-top: 1.5rem; }
    h1 { font-size: 2em; }
    h2 { font-size: 1.5em; }
    table { width: 100%; border-collapse: collapse; margin: 20px 0; }
    th, td { border: 1px solid #ddd; padding: 12px; text-align: left; }
    th { background-color: #f3f4f6; font-weight: 600; }
    tr:nth-child(even) { background-color: #f9fafb; }
    .highlight { color: #3B82F6; font-weight: bold; }
    .no-print { margin: 30px 0; text-align: center; }
    button { background-color: #3B82F6; color: white; border: none; padding: 12px 24px; border-radius: 6px; cursor: pointer; font-size: 16px; transition: background-color 0.3s; }
    button:hover { background-color: #2563EB; }
    blockquote { border-left: 4px solid #d1d5db; padding-left: 1rem; margin: 1rem 0; font-style: italic; color: #4b5563; }
    @media print {
      .no-print { display: none; }
      body { padding: 0; background-color: #ffffff; }
      .container { box-shadow: none; border: none; }
    }
  </style>
</head>
<body>
  <div class="container">
    <header style="text-align: center; margin-bottom: 2rem;">
      <h1>üìä Comprehensive Retirement SIP Analysis</h1>
      <p>A strategic investment plan for your retirement goal.</p>
    </header>

    <!-- Print/Download Controls -->
    <div class="no-print">
      <button onclick="window.print()">üñ®Ô∏è Print Report</button>
      <button onclick="downloadHTML()" style="margin-left: 10px;">üíæ Download HTML</button>
    </div>

    <section id="executive-summary">
      <h2>üéØ Executive Summary</h2>
      <p>This report outlines a strategic Systematic Investment Plan (SIP) designed to achieve a retirement goal of <b>‚Çπ3,00,00,000</b> over a <b>10-year</b> period. Factoring in a projected annual inflation rate of 5.5%, the inflation-adjusted target corpus is <b>‚Çπ5,12,44,328</b>. To meet this ambitious goal, a disciplined monthly investment of <span class="highlight">‚Çπ2,22,764</span> is required, assuming an annualized return of 12%, consistent with the client's 'high' risk appetite. The core of the strategy is an aggressive asset allocation of <b>70% in equity funds</b> and <b>30% in debt funds</b>. This report provides a detailed breakdown of calculations, growth projections, fund category recommendations, and an essential analysis of associated risks.</p>
    </section>

    <section id="goal-inputs">
      <h2>üìã Goal Inputs & Investor Profile</h2>
      <p>This section details the primary inputs provided for generating the investment plan.</p>
      <table>
        <thead><tr><th>Parameter</th><th>Value</th></tr></thead>
        <tbody>
          <tr><td><b>Goal Type</b></td><td>Retirement</td></tr>
          <tr><td><b>Target Amount</b></td><td>‚Çπ3,00,00,000</td></tr>
          <tr><td><b>Currency</b></td><td>INR</td></tr>
          <tr><td><b>Time Horizon</b></td><td>10 Years</td></tr>
          <tr><td><b>Total Investment Period</b></td><td>120 Months</td></tr>
          <tr><td><b>Risk Appetite</b></td><td style='color: #D32F2F; font-weight: bold;'>High</td></tr>
        </tbody>
      </table>
    </section>

    <section id="inflation-adjustment">
      <h2>üí® Inflation Adjustment Analysis</h2>
      <p>To ensure the retirement corpus maintains its purchasing power, the target amount has been adjusted for inflation. A conservative annual inflation rate of 5.5% is assumed over the 10-year investment horizon.</p>
      <table>
        <thead><tr><th>Parameter</th><th>Value</th></tr></thead>
        <tbody>
          <tr><td><b>Assumed Annual Inflation</b></td><td>5.5%</td></tr>
          <tr><td><b>Unadjusted Target (Today's Value)</b></td><td>‚Çπ3,00,00,000</td></tr>
          <tr><td><b>Inflation-Adjusted Target (Future Value)</b></td><td class="highlight">‚Çπ5,12,44,328.18</td></tr>
        </tbody>
      </table>
    </section>

    <section id="sip-calculation">
      <h2>üßÆ Required Monthly SIP Calculation</h2>
      <p>Based on the inflation-adjusted target, the following calculation determines the required monthly SIP. This is the cornerstone of the investment plan.</p>
      <table>
        <thead><tr><th>Parameter</th><th>Value</th></tr></thead>
        <tbody>
          <tr><td><b>Adjusted Target Corpus</b></td><td>‚Çπ5,12,44,328.18</td></tr>
          <tr><td><b>Assumed Annual Return (High Risk)</b></td><td>12.0%</td></tr>
          <tr><td><b>Investment Duration</b></td><td>120 Months</td></tr>
          <tr><td><b>Required Monthly SIP</b></td><td class="highlight" style="font-size: 1.2em;">‚Çπ2,22,763.53</td></tr>
        </tbody>
      </table>
    </section>

    <section id="asset-allocation-plan">
      <h2>üß© Asset Allocation Plan</h2>
      <p>A strategic asset allocation is crucial for balancing risk and return. Based on a 'High' risk profile, a 70% allocation to equity for growth and a 30% allocation to debt for stability is recommended.</p>
       <table>
        <thead><tr><th>Asset Class</th><th>Allocation</th><th>Monthly Amount</th><th>Recommended Fund Categories</th></tr></thead>
        <tbody>
          <tr>
            <td><b>Equity</b></td>
            <td>70%</td>
            <td>‚Çπ1,55,934</td>
            <td>Large Cap Funds, Mid Cap Funds</td>
          </tr>
           <tr>
            <td><b>Debt</b></td>
            <td>30%</td>
            <td>‚Çπ66,829</td>
            <td>Corporate Bond Funds, Short Duration Funds</td>
          </tr>
        </tbody>
      </table>
    </section>

    <section id="key-recommendations">
      <h2>üîë Key Recommendations</h2>
      <ol style="list-style-type: decimal; padding-left: 20px;">
        <li style="margin-bottom: 10px;"><b>Execute Consistently:</b> The success of this plan hinges on the disciplined and uninterrupted monthly investment of <b>‚Çπ2,22,764</b> for the full 120-month period. Set up an automated mandate to ensure consistency.</li>
        <li style="margin-bottom: 10px;"><b>Implement Allocation:</b> Diversify your monthly investment across the recommended fund categories according to the 70/30 equity/debt split.</li>
        <li style="margin-bottom: 10px;"><b>Annual Portfolio Review:</b> Conduct a review of your portfolio at least once a year. This is essential to rebalance your assets back to the target 70/30 allocation and to assess if the plan is on track.</li>
        <li style="margin-bottom: 10px;"><b>Maintain a Long-Term Perspective:</b> Equity markets will experience volatility. It is crucial to avoid making impulsive decisions based on short-term market noise. Stay invested and trust the power of compounding.</li>
      </ol>
    </section>

    <section id="risk-factors-uncertainties">
      <h2>‚ö†Ô∏è Risk Factors & Uncertainties</h2>
      <p>This investment plan, while based on sound financial principles, is subject to several risks. The projected returns are not guaranteed. It is imperative to understand these factors as they can significantly impact the final outcome.</p>
      <ul style="list-style-type: disc; padding-left: 20px;">
          <li style="margin-bottom: 10px;"><b>Market Risk:</b> The 12% annualized return is an assumption based on the 'high' risk profile. Actual returns can and will vary. Equity markets are inherently volatile and can experience prolonged downturns, which could lead to the final corpus being lower than projected. The value of your investments can go down as well as up.</li>
          <li style="margin-bottom: 10px;"><b>Inflation Risk:</b> The plan assumes a 5.5% average annual inflation rate. If actual inflation is persistently higher, the real value (purchasing power) of your final corpus will be eroded, potentially leaving you with less than required for your retirement goals.</li>
          <li style="margin-bottom: 10px;"><b>Interest Rate Risk:</b> This primarily affects the 30% debt portion of the portfolio. If interest rates in the economy rise, the value of existing bonds (and thus the NAV of bond funds) tends to fall.</li>
          <li style="margin-bottom: 10px;"><b>Behavioral & Discipline Risk:</b> Perhaps the most significant risk is the failure of the investor to adhere to the plan. Stopping SIPs during a market downturn or not investing the full required amount consistently will almost certainly result in failing to achieve the target. Emotional decision-making is a primary driver of poor investment outcomes.</li>
      </ul>
      <blockquote>Understanding that projections are mathematical estimates is critical. The journey will involve market fluctuations, and the key to success is unwavering discipline.</blockquote>
    </section>

    <!-- V11 FIXED CHART LAYOUT: VERTICAL STACK -->
    <section id="sip-charts">
      <h2>üìä SIP Projection & Allocation Charts</h2>
      <div style="display: block;">
        <!-- Asset Allocation FIRST (TOP) -->
        <div class="chart-container" style="margin-bottom: 30px; text-align: center;">
          <h3>Asset Allocation</h3>
          <div style="max-width: 500px; margin: 0 auto;">
            <canvas id="sipAllocationChart" width="400" height="300" style="max-width: 100%; height: auto;"></canvas>
          </div>
        </div>
        
        <!-- SIP Growth Projection SECOND (BOTTOM) -->
        <div class="chart-container" style="text-align: center;">
          <h3>SIP Growth Projection</h3>
          <div style="max-width: 800px; margin: 0 auto;">
            <canvas id="sipProjectionChart" width="600" height="400" style="max-width: 100%; height: auto;"></canvas>
          </div>
        </div>
      </div>
    </section>

    <section id="monthly-projection">
      <h2>üìà Monthly Projection (First 12 Months)</h2>
      <table>
        <thead>
          <tr><th>Month</th><th>Cumulative Contribution</th><th>Projected Corpus Value</th></tr>
        </thead>
        <tbody>
          <tr><td>M1</td><td>‚Çπ2,22,763.53</td><td>‚Çπ2,22,763.53</td></tr>
          <tr><td>M2</td><td>‚Çπ4,45,527.06</td><td>‚Çπ4,47,754.70</td></tr>
          <tr><td>M3</td><td>‚Çπ6,68,290.59</td><td>‚Çπ6,74,995.78</td></tr>
          <tr><td>M4</td><td>‚Çπ8,91,054.12</td><td>‚Çπ9,04,509.27</td></tr>
          <tr><td>M5</td><td>‚Çπ11,13,817.65</td><td>‚Çπ11,36,319.40</td></tr>
          <tr><td>M6</td><td>‚Çπ13,36,581.18</td><td>‚Çπ13,70,449.12</td></tr>
          <tr><td>M7</td><td>‚Çπ15,59,344.71</td><td>‚Çπ16,06,921.15</td></tr>
          <tr><td>M8</td><td>‚Çπ17,82,108.24</td><td>‚Çπ18,45,759.89</td></tr>
          <tr><td>M9</td><td>‚Çπ20,04,871.77</td><td>‚Çπ20,86,989.02</td></tr>
          <tr><td>M10</td><td>‚Çπ22,27,635.30</td><td>‚Çπ23,30,632.44</td></tr>
          <tr><td>M11</td><td>‚Çπ24,50,398.83</td><td>‚Çπ25,76,714.10</td></tr>
          <tr><td>M12</td><td>‚Çπ26,73,162.36</td><td>‚Çπ28,25,258.77</td></tr>
        </tbody>
      </table>
    </section>

  </div>

  <!-- Load Chart.js -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

  <!-- Embed chart data -->
  <script id="sip-chart-data" type="application/json">
  {"projection":{"labels":["M1","M2","M3","M4","M5","M6","M7","M8","M9","M10","M11","M12","M13","M14","M15","M16","M17","M18","M19","M20","M21","M22","M23","M24","M25","M26","M27","M28","M29","M30","M31","M32","M33","M34","M35","M36","M37","M38","M39","M40","M41","M42","M43","M44","M45","M46","M47","M48","M49","M50","M51","M52","M53","M54","M55","M56","M57","M58","M59","M60","M61","M62","M63","M64","M65","M66","M67","M68","M69","M70","M71","M72","M73","M74","M75","M76","M77","M78","M79","M80","M81","M82","M83","M84","M85","M86","M87","M88","M89","M90","M91","M92","M93","M94","M95","M96","M97","M98","M99","M100","M101","M102","M103","M104","M105","M106","M107","M108","M109","M110","M111","M112","M113","M114","M115","M116","M117","M118","M119","M120"],"datasets":{"cumulative_contribution":[222763.53,445527.06,668290.59,891054.12,1113817.65,1336581.18,1559344.71,1782108.24,2004871.77,2227635.3,2450398.83,2673162.36,2895925.89,3118689.42,3341452.95,3564216.48,3786980.01,4009743.54,4232507.07,4455270.6,4678034.13,4900797.66,5123561.19,5346324.72,5569088.25,5791851.78,6014615.31,6237378.84,6460142.37,6682905.9,6905669.43,7128432.96,7351196.49,7573960.02,7796723.55,8019487.08,8242250.61,8465014.14,8687777.67,8910541.2,9133304.73,9356068.26,9578831.79,9801595.32,10024358.85,10247122.38,10469885.91,10692649.44,10915412.97,11138176.5,11360940.03,11583703.56,11806467.09,12029230.62,12251994.15,12474757.68,12697521.21,12920284.74,13143048.27,13365811.8,13588575.33,13811338.86,14034102.39,14256865.92,14479629.45,14702392.98,14925156.51,15147920.04,15370683.57,15593447.1,15816210.63,16038974.16,16261737.69,16484501.22,16707264.75,16930028.28,17152791.81,17375555.34,17598318.87,17821082.4,18043845.93,18266609.46,18489372.99,18712136.52,18934900.05,19157663.58,19380427.11,19603190.64,19825954.17,20048717.7,20271481.23,20494244.76,20717008.29,20939771.82,21162535.35,21385298.88,21608062.41,21830825.94,22053589.47,22276353.0,22499116.53,22721880.06,22944643.59,23167407.12,23390170.65,23612934.18,23835697.71,24058461.24,24281224.77,24503988.3,24726751.83,24949515.36,25172278.89,25395042.42,25617805.95,25840569.48,26063333.01,26286096.54,26508860.07,26731623.6],"projected_corpus":[222763.53,447754.7,674995.78,904509.27,1136319.4,1370449.12,1606921.15,1845759.89,2086989.02,2330632.44,2576714.1,2825258.77,3076292.09,3329838.54,3585922.46,3844568.21,4105800.22,4369643.0,4636121.06,4905259.0,5177081.52,5451613.57,5728880.14,6008906.67,6291717.27,6577336.58,6865788.48,7157097.89,7451289.8,7748391.23,8048427.78,8351424.99,8657408.77,8966405.0,9278440.58,9593541.52,9911734.57,10233044.55,10557497.53,10885119.04,11215935.76,11549974.75,11887263.13,12227827.3,12571693.2,12918887.27,13269436.98,13623368.98,13980712.2,14341493.16,14705738.62,15073476.54,15444733.94,15819538.91,16197918.43,16579901.15,16965515.69,17354789.38,17747750.81,18144425.95,18544837.84,18949013.85,19357001.62,19768829.27,20184524.19,20604113.97,21027626.24,21455088.64,21886528.06,22321972.47,22761450.03,23204989.16,23652616.68,24104359.38,24560246.51,25020306.51,25484567.91,25953059.22,26425808.44,26902844.16,27384195.13,27869890.81,28359958.45,28854425.67,29353319.56,2985667.29,30364498.49,30876841.91,31393725.96,31915181.85,32441238.19,32971922.21,33507261.96,34047285.11,34592019.5,35141500.23,35695758.76,36254823.58,36818723.15,37387486.91,37961145.31,38539726.3,39123258.09,39711769.21,40305288.53,40903844.95,41507469.93,42116193.06,42730043.52,43349050.59,43973244.73,44602655.71,45237314.9,45877250.78,46522492.02,47173066.47,47829000.77,48490324.51,49157064.28,49829823.16]}},"allocation":{"labels":["Equity","Debt"],"data":[70,30]}}
  </script>

  <!-- V11 ENHANCED chart rendering with proper layout and sizing -->
  <script>
  function initCharts() {
    if (typeof Chart === 'undefined') {
      console.error('Chart.js not loaded');
      return;
    }
    
    let data;
    try {
      const script = document.getElementById('sip-chart-data');
      data = script ? JSON.parse(script.textContent) : null;
    } catch (e) {
      console.warn('Chart data parse failed');
      data = null;
    }
    
    // Enhanced fallback with complete timeline
    if (!data) {
      data = {
        projection: {
          labels: ["M1","M2","M3","M4","M5","M6","M7","M8","M9","M10","M11","M12","M13","M14","M15","M16","M17","M18","M19","M20","M21","M22","M23","M24","M25","M26","M27","M28","M29","M30","M31","M32","M33","M34","M35","M36","M37","M38","M39","M40","M41","M42","M43","M44","M45","M46","M47","M48","M49","M50","M51","M52","M53","M54","M55","M56","M57","M58","M59","M60","M61","M62","M63","M64","M65","M66","M67","M68","M69","M70","M71","M72","M73","M74","M75","M76","M77","M78","M79","M80","M81","M82","M83","M84","M85","M86","M87","M88","M89","M90","M91","M92","M93","M94","M95","M96","M97","M98","M99","M100","M101","M102","M103","M104","M105","M106","M107","M108","M109","M110","M111","M112","M113","M114","M115","M116","M117","M118","M119","M120"],
          datasets: {
            cumulative_contribution: [25000,50000,75000,100000,125000,150000,175000,200000,225000,250000,275000,300000,325000,350000,375000,400000,425000,450000,475000,500000,525000,550000,575000,600000,625000,650000,675000,700000,725000,750000,775000,800000,825000,850000,875000,900000,925000,950000,975000,1000000,1025000,1050000,1075000,1100000,1125000,1150000,1175000,1200000,1225000,1250000,1275000,1300000,1325000,1350000,1375000,1400000,1425000,1450000,1475000,1500000,1525000,1550000,1575000,1600000,1625000,1650000,1675000,1700000,1725000,1750000,1775000,1800000,1825000,1850000,1875000,1900000,1925000,1950000,1975000,2000000,2025000,2050000,2075000,2100000,2125000,2150000,2175000,2200000,2225000,2250000,2275000,2300000,2325000,2350000,2375000,2400000,2425000,2450000,2475000,2500000,2525000,2550000,2575000,2600000,2625000,2650000,2675000,2700000,2725000,2750000,2775000,2800000,2825000,2850000,2875000,2900000,2925000,2950000,2975000,3000000],
            projected_corpus: [25250,50755,76519,102543,128831,155386,182212,209312,236692,264356,292308,320552,349093,377935,407082,436540,466312,496404,526821,557567,588648,620068,651832,683945,716412,749239,782430,815991,849927,884244,918948,954045,989540,1025440,1061750,1098476,1135626,1173205,1211220,1249678,1288586,1327951,1367780,1408080,1448859,1490125,1531885,1574148,1616922,1660215,1704035,1748392,1793293,1838750,1884770,1931365,1978544,2026318,2074697,2123692,2173315,2223577,2274490,2326066,2378316,2431252,2484887,2539233,2594302,2650106,2706658,2763971,2822058,2880932,2940607,3001097,3062415,3124575,3187591,3251477,3316247,3381916,3448499,3516010,3584465,3653879,3724267,3795645,3868028,3941432,4015873,4091366,4167928,4245574,4324322,4404188,4485188,4567340,4650661,4735168,4821880,4909814,4999990,5091425,5184139,5278150,5373478,5470142,5568161,5667556,5768346,5870552,5974194,6079293,6185870,6293947,6403545,6514686,6627391]
          }
        },
        allocation: { labels: ["Equity", "Debt"], data: [70, 30] }
      };
    }
    
    // Create allocation chart FIRST (TOP POSITION)
    const allocCtx = document.getElementById('sipAllocationChart');
    if (allocCtx) {
      new Chart(allocCtx, {
        type: 'doughnut',
        data: {
          labels: data.allocation.labels,
          datasets: [{ 
            data: data.allocation.data, 
            backgroundColor: ['#3B82F6', '#10B981'],
            borderWidth: 2 
          }]
        },
        options: { 
          responsive: true,
          maintainAspectRatio: true,
          aspectRatio: 1.33,
          plugins: {
            legend: { 
              position: 'bottom',
              labels: { padding: 15 }
            }
          }
        }
      });
    }
    
    // Create projection chart SECOND (BOTTOM POSITION)
    const projCtx = document.getElementById('sipProjectionChart');
    if (projCtx) {
      new Chart(projCtx, {
        type: 'line',
        data: {
          labels: data.projection.labels,
          datasets: [{
            label: 'Projected Corpus',
            data: data.projection.datasets.projected_corpus,
            borderColor: '#3B82F6',
            backgroundColor: 'rgba(59, 130, 246, 0.1)',
            fill: true,
            tension: 0.4,
            pointRadius: 1,
            pointHoverRadius: 4
          }, {
            label: 'Cumulative Contribution', 
            data: data.projection.datasets.cumulative_contribution,
            borderColor: '#EF4444',
            backgroundColor: 'rgba(239, 68, 68, 0.1)',
            fill: false,
            tension: 0.4,
            pointRadius: 1,
            pointHoverRadius: 4
          }]
        },
        options: { 
          responsive: true,
          maintainAspectRatio: true,
          aspectRatio: 1.5,
          interaction: {
            mode: 'nearest',
            intersect: false
          },
          scales: {
            x: {
              title: { display: true, text: 'Time Period (Months)' },
              ticks: { maxTicksLimit: 10 }
            },
            y: {
              beginAtZero: true,
              title: { display: true, text: 'Amount (INR)' },
              ticks: {
                callback: function(value) {
                  return '‚Çπ' + (value/100000).toFixed(1) + 'L';
                }
              }
            }
          },
          plugins: {
            tooltip: {
              mode: 'index',
              intersect: false
            }
          }
        }
      });
    }
  }

  // Initialize with enhanced delay for proper loading
  setTimeout(initCharts, 500);
  </script>

  <script>
  function downloadHTML() {
    const html = document.documentElement.outerHTML;
    const blob = new Blob([html], { type: 'text/html' });
    const url = URL.createObjectURL(blob);
    const a = document.createElement('a');
    a.href = url;
    a.download = 'sip_report.html';
    a.click();
    URL.revokeObjectURL(url);
  }
  </script>
</body>
</html>