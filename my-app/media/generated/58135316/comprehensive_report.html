<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>SIP Analysis Report for Retirement</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    body { font-family: Arial, sans-serif; margin: 0; padding: 20px; background-color: #f9fafb; }
    .container { max-width: 1000px; margin: 0 auto; background-color: white; padding: 2rem; box-shadow: 0 4px 6px rgba(0,0,0,0.1); border-radius: 8px; }
    table { width: 100%; border-collapse: collapse; margin: 15px 0; }
    th, td { border: 1px solid #ddd; padding: 10px; text-align: left; }
    th { background-color: #f5f5f5; font-weight: bold; }
    h1 { font-size: 2.25rem; font-weight: bold; color: #111827; margin-bottom: 1rem; }
    h2 { font-size: 1.75rem; font-weight: bold; color: #1f2937; border-bottom: 2px solid #3B82F6; padding-bottom: 0.5rem; margin-top: 2rem; margin-bottom: 1rem; }
    .callout { padding: 1rem; margin: 1rem 0; border-radius: 6px; border-left-width: 4px; }
    .warning { border-color: #FBBF24; background-color: #FFFBEB; color: #92400E; }
    .no-print { display: block; }
    @media print {
      .no-print { display: none; }
      body { -webkit-print-color-adjust: exact; print-color-adjust: exact; }
      .container { box-shadow: none; border: none; }
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>üìä Systematic Investment Plan (SIP) for Retirement</h1>

    <section id='executive-summary'>
      <h2>üéØ Executive Summary</h2>
      <p>This report outlines a personalized Systematic Investment Plan (SIP) designed to achieve a retirement goal of <b>‚Çπ3.0 Crore</b> in today's value over a <b>10-year</b> period. Factoring in an annual inflation rate of 5.5%, the future target corpus required is calculated to be <b>‚Çπ5.12 Crore</b>. Based on a 'Moderate' risk profile with an expected annual return of 10%, the required monthly SIP contribution is <b>‚Çπ2,49,868</b>.</p>
      <p>The investment strategy recommends a balanced asset allocation of <b>50% in Equity</b> (split between Large and Mid Cap funds) and <b>50% in Debt</b> (split between Corporate Bond and Short Duration funds). This mix is designed to balance growth potential with capital preservation over the investment horizon.</p>
      <div class='callout warning'>
        <strong>‚ö†Ô∏è Critical Plan Viability Warning:</strong> A validation check revealed a significant issue. The month-by-month projection calculation results in a final corpus of <b>‚Çπ5.02 Crore</b>, which is approximately <b>‚Çπ9.98 Lakhs (-1.95%) short</b> of the required ‚Çπ5.12 Crore target. This shortfall indicates a potential flaw in the compounding calculation and necessitates a revision of the monthly SIP amount to ensure the financial goal is met.
      </div>
    </section>

    <section id='goal-inputs'>
      <h2>üìù Goal Inputs & Investor Profile</h2>
      <table><thead><tr><th>Parameter</th><th>Value</th></tr></thead><tbody><tr><td>Goal Type</td><td>Retirement</td></tr><tr><td>Target Amount (Current Value)</td><td>‚Çπ3,00,00,000</td></tr><tr><td>Time Horizon</td><td>10 Years (120 Months)</td></tr><tr><td>Risk Appetite</td><td>Moderate</td></tr><tr><td>Currency</td><td>INR</td></tr></tbody></table>
    </section>

    <section id='inflation-adjustment'>
      <h2>üí® Inflation Adjustment Analysis</h2>
      <table><thead><tr><th>Parameter</th><th>Value</th></tr></thead><tbody><tr><td>Assumed Annual Inflation</td><td>5.5%</td></tr><tr><td>Unadjusted Target (Today's Value)</td><td>‚Çπ3,00,00,000</td></tr><tr><td><b>Inflation-Adjusted Target (Future Value)</b></td><td><b>‚Çπ5,12,44,328.16</b></td></tr></tbody></table>
    </section>

    <section id='sip-calculation'>
      <h2>‚öôÔ∏è Required Monthly SIP Calculation</h2>
      <table><thead><tr><th>Parameter</th><th>Value</th></tr></thead><tbody><tr><td>Assumed Annual Return (Moderate Profile)</td><td>10.0%</td></tr><tr><td>Calculated Monthly Return Rate</td><td>0.833%</td></tr><tr><td>Total Investment Duration</td><td>120 Months</td></tr><tr><td><b>Required Monthly SIP</b></td><td><b>‚Çπ2,49,867.75</b></td></tr></tbody></table>
    </section>

    <section id='asset-allocation'>
      <h2>‚öñÔ∏è Asset Allocation Plan</h2>
      <table><thead><tr><th>Asset Class</th><th>Allocation</th><th>Commentary</th></tr></thead><tbody><tr><td>Equity</td><td>50%</td><td>The combination of Large Cap funds (for core portfolio stability) and Mid Cap funds (for higher growth potential) is a classic strategy for a moderate-risk investor with a 10-year horizon.</td></tr><tr><td>Debt</td><td>50%</td><td>The blend of Corporate Bond funds (for higher yields) and Short Duration funds (for liquidity and mitigating interest rate risk) creates a stable foundation to preserve capital.</td></tr></tbody></table>
      <h3>Recommended Fund Categories</h3>
      <ul><li><b>Equity:</b> Large Cap Funds, Mid Cap Funds</li><li><b>Debt:</b> Corporate Bond Funds, Short Duration Funds</li></ul>
    </section>

    <section id='allocation-notes'>
      <h2>üóíÔ∏è Allocation Strategy Notes</h2>
      <p>The 'Moderate' allocation was chosen from a spectrum of risk profiles. Below are the general guidelines for each profile.</p>
      <ul>
        <li><b>Very Low:</b> Extremely conservative, e.g., 90% debt / 10% equity</li>
        <li><b>Low:</b> Conservative, e.g., 70% debt / 30% equity</li>
        <li><b>Low-Moderate:</b> Tilted conservative, e.g., 60% debt / 40% equity</li>
        <li><b style='color: #3B82F6;'>Moderate:</b> Balanced mix, e.g., 50% equity / 50% debt <i>(Selected Profile)</i></li>
        <li><b>High-Moderate:</b> Tilted aggressive, e.g., 60% equity / 40% debt</li>
        <li><b>High:</b> Aggressive, e.g., 70% equity / 30% debt</li>
        <li><b>Very High:</b> Extremely aggressive, e.g., 90% equity / 10% debt</li>
      </ul>
    </section>

    <section id='key-recommendations'>
      <h2>üîë Key Recommendations</h2>
      <ol>
        <li><b>Address Projected Shortfall:</b> The first and most critical action is to revise the plan to address the ~‚Çπ10 Lakh projected shortfall. This may involve a minor increase in the monthly SIP amount or a re-evaluation of the expected return rate.</li>
        <li><b>Proceed with Portfolio Construction:</b> Once the calculation is corrected, proceed with constructing the portfolio. The alignment between the strategic allocation and the shortlisted fund categories has been confirmed as sound.</li>
        <li><b>Conduct Fund-Level Due Diligence:</b> This report validates the *strategy* and *fund categories*. The next step is to perform detailed due diligence on specific mutual funds within those categories, analyzing their performance, expense ratios, and risk metrics before final selection.</li>
      </ol>
    </section>

    <section id='risk-factors'>
      <h2>‚ö†Ô∏è Risk Factors and Uncertainties</h2>
      <p>This investment plan is subject to several risks that must be considered. While based on sound financial principles, outcomes are not guaranteed. The most immediate risk is the <b>critical calculation shortfall</b> identified internally; the final projected corpus is -1.95% below the target, rendering the current monthly SIP amount unreliable. This must be rectified before deploying capital. Furthermore, market risk is inherent, as the projected 10% annual return is an estimate, not a guarantee; actual returns can vary significantly. Inflation risk also exists; if the actual inflation rate exceeds the assumed 5.5%, the purchasing power of the final corpus will be eroded. The debt portion of the portfolio is subject to interest rate risk, where rising rates can negatively impact bond fund NAVs. Finally, fund manager risk applies to actively managed funds, where performance is dependent on the manager's skill and decisions, which can lead to underperformance against benchmarks.</p>
    </section>

    <section id="sip-charts">
      <h2>üìä SIP Projection & Allocation Charts</h2>
      <div style="display: block;">
        <div class="chart-container" style="margin-bottom: 30px; text-align: center; border: 1px solid #e5e7eb; padding: 1rem; border-radius: 8px;">
          <h3>Asset Allocation</h3>
          <div style="max-width: 500px; margin: 0 auto;">
            <canvas id="sipAllocationChart" width="400" height="300" style="max-width: 100%; height: auto;"></canvas>
          </div>
        </div>
        <div class="chart-container" style="text-align: center; border: 1px solid #e5e7eb; padding: 1rem; border-radius: 8px;">
          <h3>SIP Growth Projection</h3>
          <div style="max-width: 800px; margin: 0 auto;">
            <canvas id="sipProjectionChart" width="600" height="400" style="max-width: 100%; height: auto;"></canvas>
          </div>
        </div>
      </div>
    </section>

    <section id="monthly-projection">
      <h2>üìà Monthly Projection (First 12 Months)</h2>
      <table><thead><tr><th>Month</th><th>Cumulative Contribution</th><th>Projected Corpus</th></tr></thead><tbody><tr><td>M1</td><td>‚Çπ2,49,867.75</td><td>‚Çπ2,49,867.75</td></tr><tr><td>M2</td><td>‚Çπ4,99,735.50</td><td>‚Çπ5,01,817.40</td></tr><tr><td>M3</td><td>‚Çπ7,49,603.25</td><td>‚Çπ7,55,866.96</td></tr><tr><td>M4</td><td>‚Çπ9,99,471.00</td><td>‚Çπ10,12,033.40</td></tr><tr><td>M5</td><td>‚Çπ12,49,338.75</td><td>‚Çπ12,70,333.68</td></tr><tr><td>M6</td><td>‚Çπ14,99,206.50</td><td>‚Çπ15,30,784.80</td></tr><tr><td>M7</td><td>‚Çπ17,49,074.25</td><td>‚Çπ17,93,403.84</td></tr><tr><td>M8</td><td>‚Çπ19,98,942.00</td><td>‚Çπ20,58,208.01</td></tr><tr><td>M9</td><td>‚Çπ22,48,809.75</td><td>‚Çπ23,25,214.58</td></tr><tr><td>M10</td><td>‚Çπ24,98,677.50</td><td>‚Çπ25,94,440.83</td></tr><tr><td>M11</td><td>‚Çπ27,48,545.25</td><td>‚Çπ28,65,904.19</td></tr><tr><td>M12</td><td>‚Çπ29,98,413.00</td><td>‚Çπ31,39,622.12</td></tr></tbody></table>
      <p><em>Note: Complete projection timeline (all 120 months) is visualized in the chart above.</em></p>
    </section>

    <div style="margin: 40px 0 20px 0; text-align: center;" class="no-print">
      <button onclick="window.print()" style="margin: 5px; padding: 12px 24px; background-color: #3B82F6; color: white; border: none; border-radius: 6px; cursor: pointer; font-size: 1rem;">Print Report</button>
      <button onclick="downloadHTML()" style="margin: 5px; padding: 12px 24px; background-color: #10B981; color: white; border: none; border-radius: 6px; cursor: pointer; font-size: 1rem;">Download HTML</button>
    </div>

  </div>

  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

  <script id="sip-chart-data" type="application/json">
  {"projection":{"labels":["M1","M2","M3","M4","M5","M6","M7","M8","M9","M10","M11","M12","M13","M14","M15","M16","M17","M18","M19","M20","M21","M22","M23","M24","M25","M26","M27","M28","M29","M30","M31","M32","M33","M34","M35","M36","M37","M38","M39","M40","M41","M42","M43","M44","M45","M46","M47","M48","M49","M50","M51","M52","M53","M54","M55","M56","M57","M58","M59","M60","M61","M62","M63","M64","M65","M66","M67","M68","M69","M70","M71","M72","M73","M74","M75","M76","M77","M78","M79","M80","M81","M82","M83","M84","M85","M86","M87","M88","M89","M90","M91","M92","M93","M94","M95","M96","M97","M98","M99","M100","M101","M102","M103","M104","M105","M106","M107","M108","M109","M110","M111","M112","M113","M114","M115","M116","M117","M118","M119","M120"],"datasets":{"cumulative_contribution":[249867.75,499735.5,749603.25,999471,1249338.75,1499206.5,1749074.25,1998942,2248809.75,2498677.5,2748545.25,2998413,3248280.75,3498148.5,3748016.25,3997884,4247751.75,4497619.5,4747487.25,4997355,5247222.75,5497090.5,5746958.25,5996826,6246693.75,6496561.5,6746429.25,6996297,7246164.75,7496032.5,7745900.25,7995768,8245635.75,8495503.5,8745371.25,8995239,9245106.75,9494974.5,9744842.25,9994710,10244577.75,10494445.5,10744313.25,10994181,11244048.75,11493916.5,11743784.25,11993652,12243519.75,12493387.5,12743255.25,12993123,13242990.75,13492858.5,13742726.25,13992594,14242461.75,14492329.5,14742197.25,14992065,15241932.75,15491800.5,15741668.25,15991536,16241403.75,16491271.5,16741139.25,16991007,17240874.75,17490742.5,17740610.25,17990478,18240345.75,18490213.5,18740081.25,18989949,19239816.75,19489684.5,19739552.25,19989420,20239287.75,20489155.5,20739023.25,20988891,21238758.75,21488626.5,21738494.25,21988362,22238229.75,22488097.5,22737965.25,22987833,23237700.75,23487568.5,23737436.25,23987304,24237171.75,24487039.5,24736907.25,24986775,25236642.75,25486510.5,25736378.25,25986246,26236113.75,26485981.5,26735849.25,26985717,27235584.75,27485452.5,27735320.25,27985188,28235055.75,28484923.5,28734791.25,28984659,29234526.75,29484394.5,29734262.25,29984130],"projected_corpus":[249867.75,501817.4,755866.96,1012033.4,1270333.68,1530784.8,1793403.84,2058208.01,2325214.58,2594440.83,2865904.19,3139622.12,3415612.31,3693892.58,3974480.84,4257395.05,4542653.25,4830273.66,5120274.6,5412674.52,5707492.05,6004745.82,6304454.43,6606636.55,6911310.82,7218496.07,7528211.2,7840475.04,8155306.49,8472724.51,8792748.18,9115396.72,9440689.36,9768645.44,10099284.45,10432625.82,10768689.04,11107493.65,11449059.26,11793405.45,12140551.83,12490518.1,12843324.08,13198989.62,13557534.53,13918978.7,14283342.19,14650645.1,15020907.64,15394150.17,15770393.12,16149657.09,16531962.89,16917331.45,17305783.74,17697340.8,18092023.71,18489853.58,18890851.69,19295039.38,19702438.37,20113070.36,20526957.28,20944121.26,21364584.6,21788369.67,22215498.92,22645994.74,23079879.7,23517176.36,23957907.33,24402095.22,24849762.72,25300932.54,25755627.48,26213870.38,26675684.14,27141091.67,27610115.93,28082779.9,28559106.56,29039118.92,29522840.01,30010292.98,30501501.09,30996487.6,31495275.83,31997889.13,32504351.04,33014685.14,33528915.15,34047064.91,34569158.28,35095219.26,35625271.92,36159340.45,36697449.12,37239622.36,37785884.71,38336260.75,38890775.25,39449453.08,40012319.2,40579398.89,41150717.55,41726300.6,42306173.44,42890361.55,43478890.56,44071786.15,44669074.03,45270779.98,45876929.81,46487548.4,47102660.67,47722291.51,48346466.91,48975211.8,49608552.1,50246513.06]}},"allocation":{"labels":["Equity","Debt"],"data":[50,50],"meta":{"recommended_fund_categories":{"equity":["Large Cap Funds","Mid Cap Funds"],"debt":["Corporate Bond Funds","Short Duration Funds"],"elss_optional":true}}}}
  </script>

  <script>
  function initCharts() {
    if (typeof Chart === 'undefined') {
      console.error('Chart.js not loaded');
      return;
    }
    
    let data;
    try {
      const script = document.getElementById('sip-chart-data');
      data = script ? JSON.parse(script.textContent) : null;
    } catch (e) {
      console.warn('Chart data parse failed');
      data = null;
    }
    
    if (!data) {
      console.warn('Using fallback chart data.');
      data = {
        projection: {
          labels: ["M1","M2","M3","M4","M5","M6","M7","M8","M9","M10","M11","M12","M13","M14","M15","M16","M17","M18","M19","M20","M21","M22","M23","M24","M25","M26","M27","M28","M29","M30","M31","M32","M33","M34","M35","M36","M37","M38","M39","M40","M41","M42","M43","M44","M45","M46","M47","M48","M49","M50","M51","M52","M53","M54","M55","M56","M57","M58","M59","M60","M61","M62","M63","M64","M65","M66","M67","M68","M69","M70","M71","M72","M73","M74","M75","M76","M77","M78","M79","M80","M81","M82","M83","M84","M85","M86","M87","M88","M89","M90","M91","M92","M93","M94","M95","M96","M97","M98","M99","M100","M101","M102","M103","M104","M105","M106","M107","M108","M109","M110","M111","M112","M113","M114","M115","M116","M117","M118","M119","M120"],
          datasets: {
            cumulative_contribution: [25000,50000,75000,100000,125000,150000,175000,200000,225000,250000,275000,300000,325000,350000,375000,400000,425000,450000,475000,500000,525000,550000,575000,600000,625000,650000,675000,700000,725000,750000,775000,800000,825000,850000,875000,900000,925000,950000,975000,1000000,1025000,1050000,1075000,1100000,1125000,1150000,1175000,1200000,1225000,1250000,1275000,1300000,1325000,1350000,1375000,1400000,1425000,1450000,1475000,1500000,1525000,1550000,1575000,1600000,1625000,1650000,1675000,1700000,1725000,1750000,1775000,1800000,1825000,1850000,1875000,1900000,1925000,1950000,1975000,2000000,2025000,2050000,2075000,2100000,2125000,2150000,2175000,2200000,2225000,2250000,2275000,2300000,2325000,2350000,2375000,2400000,2425000,2450000,2475000,2500000,2525000,2550000,2575000,2600000,2625000,2650000,2675000,2700000,2725000,2750000,2775000,2800000,2825000,2850000,2875000,2900000,2925000,2950000,2975000,3000000],
            projected_corpus: [25250,50755,76519,102543,128831,155386,182212,209312,236692,264356,292308,320552,349093,377935,407082,436540,466312,496404,526821,557567,588648,620068,651832,683945,716412,749239,782430,815991,849927,884244,918948,954045,989540,1025440,1061750,1098476,1135626,1173205,1211220,1249678,1288586,1327951,1367780,1408080,1448859,1490125,1531885,1574148,1616922,1660215,1704035,1748392,1793293,1838750,1884770,1931365,1978544,2026318,2074697,2123692,2173315,2223577,2274490,2326066,2378316,2431252,2484887,2539233,2594302,2650106,2706658,2763971,2822058,2880932,2940607,3001097,3062415,3124575,3187591,3251477,3316247,3381916,3448499,3516010,3584465,3653879,3724267,3795645,3868028,3941432,4015873,4091366,4167928,4245574,4324322,4404188,4485188,4567340,4650661,4735168,4821880,4909814,4999990,5091425,5184139,5278150,5373478,5470142,5568161,5667556,5768346,5870552,5974194,6079293,6185870,6293947,6403545,6514686,6627391]
          }
        },
        allocation: { labels: ["Equity", "Debt"], data: [70, 30] }
      };
    }
    
    const allocCtx = document.getElementById('sipAllocationChart');
    if (allocCtx) {
      new Chart(allocCtx, {
        type: 'doughnut',
        data: {
          labels: data.allocation.labels,
          datasets: [{ 
            data: data.allocation.data, 
            backgroundColor: ['#3B82F6', '#10B981'],
            borderWidth: 2 
          }]
        },
        options: { 
          responsive: true,
          maintainAspectRatio: true,
          aspectRatio: 1.33,
          plugins: {
            legend: { 
              position: 'bottom',
              labels: { padding: 15 }
            }
          }
        }
      });
    }
    
    const projCtx = document.getElementById('sipProjectionChart');
    if (projCtx) {
      new Chart(projCtx, {
        type: 'line',
        data: {
          labels: data.projection.labels,
          datasets: [{
            label: 'Projected Corpus',
            data: data.projection.datasets.projected_corpus,
            borderColor: '#3B82F6',
            backgroundColor: 'rgba(59, 130, 246, 0.1)',
            fill: true,
            tension: 0.4,
            pointRadius: 1,
            pointHoverRadius: 4
          }, {
            label: 'Cumulative Contribution', 
            data: data.projection.datasets.cumulative_contribution,
            borderColor: '#EF4444',
            backgroundColor: 'rgba(239, 68, 68, 0.1)',
            fill: false,
            tension: 0.4,
            pointRadius: 1,
            pointHoverRadius: 4
          }]
        },
        options: { 
          responsive: true,
          maintainAspectRatio: true,
          aspectRatio: 1.5,
          interaction: {
            mode: 'nearest',
            intersect: false
          },
          scales: {
            x: {
              title: { display: true, text: 'Time Period (Months)' },
              ticks: { maxTicksLimit: 10 }
            },
            y: {
              beginAtZero: true,
              title: { display: true, text: 'Amount (INR)' },
              ticks: {
                callback: function(value) {
                  return '‚Çπ' + (value/100000).toFixed(1) + 'L';
                }
              }
            }
          },
          plugins: {
            tooltip: {
              mode: 'index',
              intersect: false
            }
          }
        }
      });
    }
  }
  setTimeout(initCharts, 500);

  function downloadHTML() {
    const html = document.documentElement.outerHTML;
    const blob = new Blob([html], { type: 'text/html' });
    const url = URL.createObjectURL(blob);
    const a = document.createElement('a');
    a.href = url;
    a.download = 'sip_report.html';
    a.click();
    URL.revokeObjectURL(url);
  }
  </script>

</body>
</html>