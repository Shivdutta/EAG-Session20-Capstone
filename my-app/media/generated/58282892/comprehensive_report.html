<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Comprehensive SIP Report for Retirement</title>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <style>
    body { font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif; margin: 0; padding: 20px; background-color: #f9fafb; color: #1f2937; }
    .container { max-width: 1200px; margin: 0 auto; background: white; padding: 2rem; border-radius: 8px; box-shadow: 0 4px 12px rgba(0,0,0,0.1); }
    h1 { font-size: 2.25rem; font-weight: bold; color: #111827; border-bottom: 2px solid #3B82F6; padding-bottom: 0.5rem; margin-bottom: 1.5rem; }
    h2 { font-size: 1.5rem; font-weight: bold; color: #111827; margin-top: 2rem; margin-bottom: 1rem; padding-bottom: 0.5rem; border-bottom: 1px solid #e5e7eb; }
    h3 { font-size: 1.25rem; font-weight: 600; color: #111827; margin-top: 1.5rem; margin-bottom: 1rem; }
    table { width: 100%; border-collapse: collapse; margin: 1.5rem 0; font-size: 0.9rem; }
    th, td { border: 1px solid #ddd; padding: 12px; text-align: left; vertical-align: top; }
    th { background-color: #f8f9fa; font-weight: 600; }
    p { line-height: 1.6; margin-bottom: 1rem; }
    ul, ol { margin-left: 1.5rem; margin-bottom: 1rem; }
    li { margin-bottom: 0.5rem; }
    .callout { padding: 1rem 1.5rem; margin: 1.5rem 0; border-radius: 6px; border-left-width: 4px; }
    .callout.warning { background-color: #fffbeb; border-color: #f59e0b; color: #92400e; }
    .executive-summary { background-color: #eff6ff; border-left: 4px solid #3B82F6; padding: 1.5rem; margin-bottom: 2rem; border-radius: 4px; }
    .no-print { display: block; }
    @media print {
      .no-print { display: none; }
      body { padding: 0; background-color: #fff; }
      .container { box-shadow: none; border: none; padding: 0.5rem; }
      h1, h2 { margin-top: 1.5rem; }
      section, .chart-container { page-break-inside: avoid; }
      table { page-break-inside: auto; }
      tr { page-break-inside: avoid; page-break-after: auto; }
      canvas { max-height: 250px !important; }
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>üìä Systematic Investment Plan (SIP) for Retirement</h1>
    
    <section id="executive-summary">
      <div class="executive-summary">
        <h2>üéØ Executive Summary</h2>
        <div class="callout warning">‚ö†Ô∏è <strong>Data Integrity Alert:</strong> A quality assurance review has identified critical mathematical discrepancies in the foundational calculations performed in the source data. The calculated monthly SIP amount and the subsequent projection table are flagged as potentially inaccurate. While this report presents the data as generated, <strong>the underlying figures should be independently verified before making any financial decisions.</strong></div>
        <p>This report presents a detailed financial plan for a <b>Retirement</b> goal, designed for an individual with a <b>'moderate'</b> risk appetite. The primary objective is to accumulate a target corpus of <b>‚Çπ3,00,00,000</b> over a <b>10-year</b> time horizon. After accounting for an assumed annual inflation rate of 5.5%, the future value of this goal is projected to be approximately <b>‚Çπ5.12 Crore</b>. To achieve this, a monthly SIP of <b>‚Çπ2,50,161.46</b> is calculated based on an expected annualized return of 10%. The investment strategy is built on a balanced asset allocation of <b>50% in Equity</b> and <b>50% in Debt</b>. This document outlines the goal parameters, calculations, allocation rationale, key recommendations, and a detailed projection of the investment's growth.</p>
      </div>
    </section>

    <section id="goal-inputs">
      <h2>üìù Goal Inputs</h2>
      <table><thead><tr><th>Parameter</th><th>Value</th></tr></thead><tbody><tr><td>Goal Type</td><td>Retirement</td></tr><tr><td>Current Age</td><td>50</td></tr><tr><td>Target Age</td><td>60</td></tr><tr><td>Target Amount</td><td>‚Çπ3,00,00,000</td></tr><tr><td>Time Horizon</td><td>10 Years (120 Months)</td></tr><tr><td>Risk Appetite</td><td>Moderate</td></tr></tbody></table>
    </section>

    <section id="inflation-adjustment">
      <h2>üíπ Inflation Adjustment</h2>
      <table><thead><tr><th>Parameter</th><th>Value</th></tr></thead><tbody><tr><td>Unadjusted Target Corpus</td><td>‚Çπ3,00,00,000</td></tr><tr><td>Assumed Annual Inflation</td><td>5.5%</td></tr><tr><td>Investment Horizon</td><td>10 Years</td></tr><tr><td><b>Inflation-Adjusted Target</b></td><td><b>‚Çπ5,12,44,333.71</b></td></tr></tbody></table>
    </section>

    <section id="sip-calculation">
      <h2>üßÆ SIP Calculation</h2>
      <table><thead><tr><th>Parameter</th><th>Value</th></tr></thead><tbody><tr><td>Inflation-Adjusted Target</td><td>‚Çπ5,12,44,333.71</td></tr><tr><td>Assumed Annual Return</td><td>10%</td></tr><tr><td><b>Required Monthly SIP</b></td><td><b>‚Çπ2,50,161.46</b></td></tr></tbody></table>
    </section>

    <section id="asset-allocation">
      <h2>‚öñÔ∏è Asset Allocation Plan</h2>
      <h3>Allocation Split</h3>
      <table><thead><tr><th>Asset Class</th><th>Allocation</th><th>Primary Role</th></tr></thead><tbody><tr><td>Equity</td><td>50%</td><td>Growth & Inflation Hedging</td></tr><tr><td>Debt</td><td>50%</td><td>Stability & Capital Preservation</td></tr></tbody></table>
      <h3>Recommended Fund Categories</h3>
      <table><thead><tr><th>Fund Category</th><th>Allocation Type</th><th>Primary Role</th><th>Risk Profile (Indicative)</th></tr></thead><tbody><tr><td>Large Cap Funds</td><td>Equity (Core)</td><td>Stable Growth & Consistency</td><td>Moderate-High</td></tr><tr><td>Mid Cap Funds</td><td>Equity (Satellite)</td><td>High Growth Potential</td><td>High</td></tr><tr><td>Corporate Bond Funds</td><td>Debt (Core)</td><td>Yield & Stability</td><td>Low-Moderate</td></tr><tr><td>Government Securities</td><td>Debt (Safety)</td><td>Capital Preservation</td><td>Low</td></tr></tbody></table>
    </section>

    <section id="allocation-notes">
      <h2>‚úçÔ∏è Allocation Notes & Rationale</h2>
      <p>Your investment plan is structured around your 'moderate' risk profile and a 10-year time horizon. We have recommended a balanced 50% equity and 50% debt allocation to align with your objective of achieving steady growth while managing risk.</p>
      <h3>The Growth Engine (50% Equity)</h3>
      <p>To achieve returns that outpace inflation, half of your investment will be in equity mutual funds. This is split between Large Cap funds, which invest in stable, well-established companies to form the core of your portfolio, and Mid Cap funds, which invest in emerging companies to provide higher growth potential.</p>
      <h3>The Stability Anchor (50% Debt)</h3>
      <p>To protect your capital and reduce overall volatility, the other half of your investment will be in debt mutual funds. This portion is divided between high-quality Corporate Bond funds for slightly better yields and Government Securities funds, which offer the highest level of safety from default risk. This combination provides a stable foundation for your portfolio.</p>
    </section>

    <section id="key-recommendations">
      <h2>üîë Key Recommendations</h2>
      <ol>
        <li><b>Practice Disciplined Investing:</b> Continue your SIP of ‚Çπ2,50,161.46 per month regardless of market fluctuations to benefit from Rupee Cost Averaging.</li>
        <li><b>Diversify Your Holdings:</b> Within each recommended category (e.g., Large Cap), consider investing in 2-3 different mutual funds from different AMCs to diversify fund manager risk.</li>
        <li><b>Annual Portfolio Review:</b> Review your portfolio at least once a year. If the allocation drifts significantly from the target 50/50 split, rebalance it.</li>
        <li><b>Plan for De-risking:</b> As you get closer to retirement (last 2-3 years), systematically move a portion of your investments from equity to debt funds to protect your accumulated corpus.</li>
      </ol>
    </section>

    <section id="risks">
      <h2>üö® Risk Factors and Uncertainties</h2>
      <p>Investing in mutual funds involves risks, and projected returns are not guaranteed. It is crucial to understand these factors before making any decisions. This plan is based on assumptions that may not hold true in the future.</p>
      <ul>
        <li><b>Data Integrity Risk:</b> As highlighted, a quality check found <strong>critical mathematical errors in the source SIP calculations and projections.</strong> The final corpus shown in the projection (‚àº‚Çπ5.03 Crore) does not match the inflation-adjusted target (‚àº‚Çπ5.12 Crore). This is the most significant uncertainty, and all figures should be recalculated independently.</li>
        <li><b>Market Risk:</b> The 50% equity allocation is subject to market fluctuations. Economic downturns, geopolitical events, or poor corporate performance can negatively impact the value of your equity holdings. The assumed 10% annualized return is not guaranteed.</li>
        <li><b>Interest Rate Risk:</b> The debt portion of the portfolio is sensitive to changes in interest rates. If interest rates rise, the Net Asset Value (NAV) of existing debt funds typically falls, impacting returns.</li>
        <li><b>Inflation Risk:</b> The plan assumes a 5.5% annual inflation rate. If actual inflation is higher, the real value of your final corpus will be lower than anticipated, potentially falling short of your retirement needs.</li>
      </ul>
    </section>

    <section id="sip-charts">
      <h2>üìä SIP Projection & Allocation Charts</h2>
      <div style="display: block; max-width: 1000px; margin: 0 auto;">
        <!-- Asset Allocation FIRST (TOP) -->
        <div class="chart-container" style="margin-bottom: 30px; text-align: center; border: 1px solid #e5e7eb; padding: 20px; border-radius: 8px;">
          <h3 style="margin-bottom: 15px; font-size: 1.1rem; font-weight: 600; color: #1f2937;">Asset Allocation</h3>
          <div style="max-width: 500px; margin: 0 auto;">
            <canvas id="sipAllocationChart" width="400" height="300" style="max-width: 100%; height: auto;"></canvas>
          </div>
        </div>
        <!-- SIP Growth Projection SECOND (BOTTOM) -->
        <div class="chart-container" style="margin-bottom: 30px; text-align: center; border: 1px solid #e5e7eb; padding: 20px; border-radius: 8px;">
          <h3 style="margin-bottom: 15px; font-size: 1.1rem; font-weight: 600; color: #1f2937;">SIP Growth Projection</h3>
          <div style="max-width: 800px; margin: 0 auto;">
            <canvas id="sipProjectionChart" width="600" height="400" style="max-width: 100%; height: auto;"></canvas>
          </div>
        </div>
      </div>
    </section>
    
    <section id="monthly-projection">
      <h2>üìà Monthly Projection (First 12 Months)</h2>
      <table>
        <thead>
          <tr><th>Month</th><th>Cumulative Contribution</th><th>Projected Corpus</th></tr>
        </thead>
        <tbody>
          <tr><td>M1</td><td>‚Çπ2,50,161.46</td><td>‚Çπ2,50,161.46</td></tr>
          <tr><td>M2</td><td>‚Çπ5,00,322.92</td><td>‚Çπ5,02,407.60</td></tr>
          <tr><td>M3</td><td>‚Çπ7,50,484.38</td><td>‚Çπ7,56,755.80</td></tr>
          <tr><td>M4</td><td>‚Çπ10,00,645.84</td><td>‚Çπ10,13,223.76</td></tr>
          <tr><td>M5</td><td>‚Çπ12,50,807.30</td><td>‚Çπ12,71,829.29</td></tr>
          <tr><td>M6</td><td>‚Çπ15,00,968.76</td><td>‚Çπ15,32,589.90</td></tr>
          <tr><td>M7</td><td>‚Çπ17,51,130.22</td><td>‚Çπ17,95,523.15</td></tr>
          <tr><td>M8</td><td>‚Çπ20,01,291.68</td><td>‚Çπ20,60,646.68</td></tr>
          <tr><td>M9</td><td>‚Çπ22,51,453.14</td><td>‚Çπ23,27,978.17</td></tr>
          <tr><td>M10</td><td>‚Çπ25,01,614.60</td><td>‚Çπ25,97,535.32</td></tr>
          <tr><td>M11</td><td>‚Çπ27,51,776.06</td><td>‚Çπ28,69,335.82</td></tr>
          <tr><td>M12</td><td>‚Çπ30,01,937.52</td><td>‚Çπ31,43,397.45</td></tr>
        </tbody>
      </table>
      <p style="text-align: center; font-size: 0.9em; color: #6b7280;"><em>Note: The complete 120-month projection is visualized in the chart above. The final projected corpus in the source data is ‚Çπ5,03,27,584.69.</em></p>
    </section>

    <section id="image-debug">
      <h2>üõ†Ô∏è Image Integration Debug Log</h2>
      <p>A scan of all input data was performed to locate image objects or URLs. No valid image sources (e.g., .jpg, .png) were found in the provided data. Therefore, no images have been embedded in this report.</p>
    </section>

    <div style="margin: 40px 0 20px 0; text-align: center;" class="no-print">
      <button onclick="window.print()" style="margin: 5px; padding: 12px 24px; background-color: #3B82F6; color: white; border: none; border-radius: 6px; cursor: pointer; font-size: 1rem; font-weight: 500;">Print Report</button>
      <button onclick="downloadHTML()" style="margin: 5px; padding: 12px 24px; background-color: #10B981; color: white; border: none; border-radius: 6px; cursor: pointer; font-size: 1rem; font-weight: 500;">Download HTML</button>
    </div>

  </div>

  <script id="chart-data" type="application/json">{"projection":{"labels":["M1","M2","M3","M4","M5","M6","M7","M8","M9","M10","M11","M12","M13","M14","M15","M16","M17","M18","M19","M20","M21","M22","M23","M24","M25","M26","M27","M28","M29","M30","M31","M32","M33","M34","M35","M36","M37","M38","M39","M40","M41","M42","M43","M44","M45","M46","M47","M48","M49","M50","M51","M52","M53","M54","M55","M56","M57","M58","M59","M60","M61","M62","M63","M64","M65","M66","M67","M68","M69","M70","M71","M72","M73","M74","M75","M76","M77","M78","M79","M80","M81","M82","M83","M84","M85","M86","M87","M88","M89","M90","M91","M92","M93","M94","M95","M96","M97","M98","M99","M100","M101","M102","M103","M104","M105","M106","M107","M108","M109","M110","M111","M112","M113","M114","M115","M116","M117","M118","M119","M120"],"datasets":{"cumulative_contribution":[250161.46,500322.92,750484.38,1000645.84,1250807.3,1500968.76,1751130.22,2001291.68,2251453.14,2501614.6,2751776.06,3001937.52,3252098.98,3502260.44,3752421.9,4002583.36,4252744.82,4502906.28,4753067.74,5003229.2,5253390.66,5503552.12,5753713.58,6003875.04,6254036.5,6504197.96,6754359.42,7004520.88,7254682.34,7504843.8,7755005.26,8005166.72,8255328.18,8505489.64,8755651.1,9005812.56,9255974.02,9506135.48,9756296.94,10006458.4,10256619.86,10506781.32,10756942.78,11007104.24,11257265.7,11507427.16,11757588.62,12007750.08,12257911.54,12508073.0,12758234.46,13008395.92,13258557.38,13508718.84,13758880.3,14009041.76,14259203.22,14509364.68,14759526.14,15009687.6,15259849.06,15510010.52,15760171.98,16010333.44,16260494.9,16510656.36,16760817.82,17010979.28,17261140.74,17511302.2,17761463.66,18011625.12,18261786.58,18511948.04,18762109.5,19012270.96,19262432.42,19512593.88,19762755.34,20012916.8,20263078.26,20513239.72,20763401.18,21013562.64,21263724.1,21513885.56,21764047.02,22014208.48,22264369.94,22514531.4,22764692.86,23014854.32,23265015.78,23515177.24,23765338.7,24015500.16,24265661.62,24515823.08,24765984.54,25016146.0,25266307.46,25516468.92,25766630.38,26016791.84,26266953.3,26517114.76,26767276.22,27017437.68,27267599.14,27517760.6,27767922.06,28018083.52,28268244.98,28518406.44,28768567.9,29018729.36,29268890.82,29519052.28,29769213.74,30019375.2],"projected_corpus":[250161.46,502407.6,756755.8,1013223.76,1271829.29,1532589.9,1795523.15,2060646.68,2327978.17,2597535.32,2869335.82,3143397.45,3419738.1,3698375.62,3979327.95,4262613.06,4548249.03,4836254.08,5126646.5,5419444.66,5714667.03,6012332.22,6312458.99,6615066.15,6920172.54,722797.11,7537958.75,7850676.4,8165969.07,8483855.81,8804355.61,9127487.58,9453270.91,9781724.83,10112868.54,10446721.28,10783302.29,11122630.94,11464726.7,11809609.12,12157297.83,12507812.51,12861172.93,13217398.92,13576510.41,13938527.39,14303469.95,14671358.3,15042212.62,15416053.22,15792900.5,16172775.01,16555697.3,16941688.08,17330768.14,17722958.37,18118279.79,18516753.49,18918400.67,19323242.63,19731300.82,20142596.65,20557151.65,20974987.58,21396126.18,21820589.23,22248398.6,22679576.25,23114144.15,23552124.32,23993538.98,24438410.47,24886761.22,25338613.9,25793991.35,26252916.48,26715412.31,27181502.11,27651209.29,28124557.37,28601570.02,29082270.97,29566684.06,30054833.26,30546742.6,31042436.12,31541938.09,32045272.94,32552465.18,33063539.42,33578520.28,34097432.42,34620300.73,35147150.23,35678006.15,36212893.86,36751839.01,37294867.33,37842004.56,38393276.56,38948709.2,39508328.48,40072160.52,40640231.52,41212567.82,41789195.89,42370142.22,42955433.41,43545096.06,44139156.86,44737642.5,45340579.85,45947995.85,46559917.48,47176371.8,47797386.07,48422987.62,49053204.02,49688060.85,50327584.69]}},"allocation":{"labels":["Equity","Debt"],"data":[50,50],"meta":{"recommended_fund_categories":{"equity":["Large Cap Funds","Mid Cap Funds"],"debt":["Corporate Bond Funds","Government Securities"],"elss_optional":true}}}}</script>
  
  <script>
    function initCharts() {
      if (typeof Chart === 'undefined') {
        console.error('Chart.js not loaded');
        return;
      }
      
      let data;
      try {
        const script = document.getElementById('chart-data');
        data = script ? JSON.parse(script.textContent) : null;
      } catch (e) {
        console.warn('Chart data parse failed');
        data = null;
      }
      
      if (!data) {
        console.error('Could not load chart data.'); return;
      }
      
      // Create allocation chart FIRST (TOP POSITION)
      const allocCtx = document.getElementById('sipAllocationChart');
      if (allocCtx) {
        new Chart(allocCtx, {
          type: 'doughnut',
          data: {
            labels: data.allocation.labels,
            datasets: [{ 
              data: data.allocation.data, 
              backgroundColor: ['#3B82F6', '#10B981'],
              borderWidth: 2 
            }]
          },
          options: { 
            responsive: true,
            maintainAspectRatio: true,
            aspectRatio: 1.33,
            plugins: {
              legend: { 
                position: 'bottom',
                labels: { padding: 15 }
              }
            }
          }
        });
      }
      
      // Create projection chart SECOND (BOTTOM POSITION)
      const projCtx = document.getElementById('sipProjectionChart');
      if (projCtx) {
        new Chart(projCtx, {
          type: 'line',
          data: {
            labels: data.projection.labels,
            datasets: [{
              label: 'Projected Corpus',
              data: data.projection.datasets.projected_corpus,
              borderColor: '#3B82F6',
              backgroundColor: 'rgba(59, 130, 246, 0.1)',
              fill: true,
              tension: 0.4,
              pointRadius: 1,
              pointHoverRadius: 4
            }, {
              label: 'Cumulative Contribution', 
              data: data.projection.datasets.cumulative_contribution,
              borderColor: '#EF4444',
              backgroundColor: 'rgba(239, 68, 68, 0.1)',
              fill: false,
              tension: 0.4,
              pointRadius: 1,
              pointHoverRadius: 4
            }]
          },
          options: { 
            responsive: true,
            maintainAspectRatio: true,
            aspectRatio: 1.5,
            interaction: {
              mode: 'nearest',
              intersect: false
            },
            scales: {
              x: {
                title: { display: true, text: 'Time Period (Months)' },
                ticks: { maxTicksLimit: 12 }
              },
              y: {
                beginAtZero: true,
                title: { display: true, text: 'Amount (INR)' },
                ticks: {
                  callback: function(value) {
                    if (value >= 10000000) return '‚Çπ' + (value/10000000).toFixed(2) + 'Cr';
                    return '‚Çπ' + (value/100000).toFixed(1) + 'L';
                  }
                }
              }
            },
            plugins: {
              tooltip: {
                mode: 'index',
                intersect: false
              }
            }
          }
        });
      }
    }

    if (document.readyState === 'loading') {
        document.addEventListener('DOMContentLoaded', () => setTimeout(initCharts, 300));
    } else {
        setTimeout(initCharts, 300);
    }

    function downloadHTML() {
      const html = document.documentElement.outerHTML;
      const blob = new Blob([html], { type: 'text/html' });
      const url = URL.createObjectURL(blob);
      const a = document.createElement('a');
      a.href = url;
      a.download = 'comprehensive_sip_report.html';
      document.body.appendChild(a);
      a.click();
      document.body.removeChild(a);
      URL.revokeObjectURL(url);
    }
  </script>

</body>
</html>