<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Comprehensive SIP Goal Analysis for Retirement</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    body { font-family: Arial, sans-serif; margin: 0; padding: 20px; background-color: #f9fafb; }
    .container { max-width: 1000px; margin: 0 auto; background-color: white; padding: 2rem; border-radius: 8px; box-shadow: 0 4px 6px rgba(0,0,0,0.1); }
    h1, h2 { border-bottom: 2px solid #e5e7eb; padding-bottom: 8px; margin-top: 24px; margin-bottom: 16px; }
    h1 { font-size: 2.25rem; }
    h2 { font-size: 1.75rem; }
    h3 { font-size: 1.25rem; font-weight: bold; margin-bottom: 1rem; text-align: center; }
    table { width: 100%; border-collapse: collapse; margin: 20px 0; }
    th, td { border: 1px solid #ddd; padding: 12px; text-align: left; }
    th { background-color: #f5f5f5; font-weight: bold; }
    .chart-container { margin: 20px 0; padding: 15px; border: 1px solid #ddd; border-radius: 8px; }
    .executive-summary-list { list-style-type: none; padding: 0; }
    .executive-summary-list li { margin-bottom: 8px; }
    .no-print { display: block; }
    @media print {
      .no-print { display: none; }
      body { -webkit-print-color-adjust: exact; print-color-adjust: exact; }
      .container { box-shadow: none; border: 1px solid #ccc; }
    }
  </style>
</head>
<body>
  <div class="container">
    <!-- Report Title -->
    <h1>üìä Comprehensive SIP Goal Analysis for Retirement</h1>

    <!-- Executive Summary -->
    <section id="executive-summary">
      <h2>üéØ Executive Summary</h2>
      <p>This report outlines a strategic Systematic Investment Plan (SIP) designed to achieve a retirement goal of <b>‚Çπ3,00,00,000</b> (‚Çπ3 Crore) in 10 years for a client currently aged 50. Factoring in a <b>5.5%</b> annual inflation rate, the inflation-adjusted target corpus required at age 60 is <b>‚Çπ5,12,44,328</b>. To meet this goal with a 'moderate' risk appetite (assuming a 10% annual return), a monthly SIP contribution of <b>‚Çπ2,50,161</b> is required. The recommended asset allocation is a balanced <b>50% in Equity</b> for growth and <b>50% in Debt</b> for stability. Following this plan, the projected final corpus after 10 years (120 months) is estimated to be <b>‚Çπ5,10,01,861</b>, closely aligning with the inflation-adjusted target.</p>
      <ul class="executive-summary-list">
        <li><b>Goal:</b> Retirement</li>
        <li><b>Time Horizon:</b> 10 Years (120 Months)</li>
        <li><b>Inflation-Adjusted Target:</b> ‚Çπ5,12,44,328.18</li>
        <li><b>Required Monthly SIP:</b> ‚Çπ2,50,161.08</li>
        <li><b>Asset Allocation:</b> 50% Equity / 50% Debt</li>
        <li><b>Projected Corpus:</b> ‚Çπ5,10,01,861.15</li>
      </ul>
    </section>

    <!-- Goal Inputs -->
    <section id="goal-inputs">
      <h2>üìã Goal Inputs</h2>
      <p>The financial plan is based on the following parameters provided by the client.</p>
      <table>
        <thead><tr><th>Parameter</th><th>Value</th></tr></thead>
        <tbody>
          <tr><td>Goal Type</td><td>Retirement</td></tr>
          <tr><td>Current Age</td><td>50</td></tr>
          <tr><td>Target Retirement Age</td><td>60</td></tr>
          <tr><td>Target Amount</td><td>‚Çπ3,00,00,000</td></tr>
          <tr><td>Time Horizon</td><td>10 Years</td></tr>
          <tr><td>Total Investment Period</td><td>120 Months</td></tr>
          <tr><td>Risk Appetite</td><td>Moderate</td></tr>
        </tbody>
      </table>
    </section>

    <!-- Inflation Adjustment -->
    <section id="inflation-adjustment">
      <h2>üå¨Ô∏è Inflation Adjustment</h2>
      <p>To preserve purchasing power, the target amount has been adjusted for inflation over the 10-year period.</p>
      <table>
        <thead><tr><th>Parameter</th><th>Value</th></tr></thead>
        <tbody>
          <tr><td>Assumed Annual Inflation</td><td>5.5%</td></tr>
          <tr><td>Unadjusted Target</td><td>‚Çπ3,00,00,000</td></tr>
          <tr><td><b>Inflation-Adjusted Target</b></td><td><b>‚Çπ5,12,44,328.18</b></td></tr>
        </tbody>
      </table>
    </section>

    <!-- SIP Calculation -->
    <section id="sip-calculation">
      <h2>üßÆ SIP Calculation</h2>
      <p>Based on the adjusted target and assumed market returns, the required monthly SIP contribution is calculated as follows.</p>
      <table>
        <thead><tr><th>Parameter</th><th>Value</th></tr></thead>
        <tbody>
          <tr><td>Assumed Annual Return (Moderate Risk)</td><td>10%</td></tr>
          <tr><td>Calculated Monthly Return (r)</td><td>0.833%</td></tr>
          <tr><td>Investment Period (n)</td><td>120 Months</td></tr>
          <tr><td><b>Required Monthly SIP</b></td><td><b>‚Çπ2,50,161.08</b></td></tr>
        </tbody>
      </table>
    </section>

    <!-- Asset Allocation -->
    <section id="asset-allocation">
      <h2>üìä Asset Allocation Plan</h2>
      <p>A balanced allocation is recommended to align with the 'moderate' risk profile, aiming for both growth and capital preservation.</p>
      <div style="display:flex; justify-content:space-around; text-align: center; margin: 20px 0; padding: 10px; background-color: #f8f9fa; border-radius: 6px;">
        <div><h3>Equity Allocation: 50%</h3><ul><li>Large Cap Funds</li><li>Mid Cap Funds</li></ul></div>
        <div><h3>Debt Allocation: 50%</h3><ul><li>Corporate Bond Funds</li><li>Short Duration Funds</li></ul></div>
      </div>
    </section>

    <!-- Key Recommendations -->
    <section id="key-recommendations">
      <h2>üîë Key Recommendations</h2>
      <ol>
        <li><b>Commence Immediately:</b> Start the monthly SIP of <b>‚Çπ2,50,161.08</b> at the earliest to maximize the benefit of compounding over the 120-month period.</li>
        <li><b>Maintain Discipline:</b> Adhere strictly to the monthly investment schedule. Avoid pausing or stopping the SIP, as consistency is critical to achieving the long-term goal.</li>
        <li><b>Adhere to Allocation:</b> Implement the 50/50 Equity-Debt allocation strategy by choosing funds within the recommended categories.</li>
        <li><b>Annual Portfolio Review:</b> Conduct a portfolio review once a year to rebalance if necessary. This ensures the asset allocation remains aligned with the 50/50 strategic split.</li>
        <li><b>Avoid Emotional Decisions:</b> Do not react to short-term market volatility. The 10-year horizon is designed to weather market cycles, and emotional selling or buying can be detrimental.</li>
      </ol>
    </section>

    <!-- Risk Factors -->
    <section id="risk-factors">
      <h2>‚ö†Ô∏è Risk Factors & Uncertainties</h2>
      <p>This financial plan is based on assumptions and projections that are not guaranteed. It is essential to understand the inherent risks before proceeding. The final outcome may vary significantly based on several factors.</p>
      <ul>
        <li><b>Market Risk:</b> The 10% annual return is an assumption. Actual returns from equity markets can be volatile and may be lower (or higher) than projected. A prolonged bear market could negatively impact the final corpus, and past performance is not indicative of future results.</li>
        <li><b>Inflation Risk:</b> The plan assumes a 5.5% average inflation rate. If actual inflation is consistently higher, the real value of the target corpus will be eroded, and a larger sum may be required for retirement, diminishing purchasing power.</li>
        <li><b>Interest Rate Risk:</b> Changes in market interest rates can affect the performance of debt funds. A rising interest rate environment can lead to a temporary decline in the Net Asset Value (NAV) of bond funds, especially those with longer maturities.</li>
        <li><b>Execution Risk:</b> The success of this plan is contingent on the investor's discipline. Failing to invest the required amount consistently, or withdrawing funds prematurely, will result in a significant shortfall from the target amount.</li>
        <li><b>Fund Performance Risk:</b> The performance of individual mutual funds can vary. Poor fund selection or underperformance by a chosen fund manager can lead to returns that are below the benchmark and the plan's assumptions, impacting the final corpus.</li>
      </ul>
      <p><i>Disclaimer: This report is for illustrative purposes only and does not constitute financial advice. Investors are advised to consult with a qualified financial advisor.</i></p>
    </section>

    <!-- SIP Charts (FIXED LAYOUT v13) -->
    <section id="sip-charts">
      <h2>üìà SIP Projection & Allocation Charts</h2>
      <div style="display: block;">
        <!-- Asset Allocation FIRST (TOP) -->
        <div class="chart-container" style="margin-bottom: 30px; text-align: center;">
          <h3>Asset Allocation</h3>
          <div style="max-width: 500px; margin: 0 auto;">
            <canvas id="sipAllocationChart" width="400" height="300" style="max-width: 100%; height: auto;"></canvas>
          </div>
        </div>
        
        <!-- SIP Growth Projection SECOND (BOTTOM) -->
        <div class="chart-container" style="text-align: center;">
          <h3>SIP Growth Projection (10 Years)</h3>
          <div style="max-width: 800px; margin: 0 auto;">
            <canvas id="sipProjectionChart" width="600" height="400" style="max-width: 100%; height: auto;"></canvas>
          </div>
        </div>
      </div>
    </section>

    <!-- Monthly Projection Table -->
    <section id="monthly-projection">
      <h2>üóìÔ∏è Monthly Projection (First 12 Months)</h2>
      <table>
        <thead><tr><th>Month</th><th>Cumulative Contribution</th><th>Projected Corpus</th></tr></thead>
        <tbody>
            <tr><td>M1</td><td>‚Çπ2,50,161.08</td><td>‚Çπ2,50,161.08</td></tr>
            <tr><td>M2</td><td>‚Çπ5,00,322.16</td><td>‚Çπ5,02,406.84</td></tr>
            <tr><td>M3</td><td>‚Çπ7,50,483.24</td><td>‚Çπ7,56,754.64</td></tr>
            <tr><td>M4</td><td>‚Çπ10,00,644.32</td><td>‚Çπ10,13,222.13</td></tr>
            <tr><td>M5</td><td>‚Çπ12,50,805.40</td><td>‚Çπ12,71,827.01</td></tr>
            <tr><td>M6</td><td>‚Çπ15,00,966.48</td><td>‚Çπ15,32,587.03</td></tr>
            <tr><td>M7</td><td>‚Çπ17,51,127.56</td><td>‚Çπ17,95,520.14</td></tr>
            <tr><td>M8</td><td>‚Çπ20,01,288.64</td><td>‚Çπ20,60,644.57</td></tr>
            <tr><td>M9</td><td>‚Çπ22,51,449.72</td><td>‚Çπ23,27,978.71</td></tr>
            <tr><td>M10</td><td>‚Çπ25,01,610.80</td><td>‚Çπ25,97,541.20</td></tr>
            <tr><td>M11</td><td>‚Çπ27,51,771.88</td><td>‚Çπ28,69,350.84</td></tr>
            <tr><td>M12</td><td>‚Çπ30,01,932.96</td><td>‚Çπ31,43,426.60</td></tr>
        </tbody>
      </table>
    </section>

    <!-- Print/Download Controls -->
    <div class="no-print" style="margin: 40px 0; text-align: center;">
      <button onclick="window.print()" style="margin: 5px; padding: 10px 20px; background-color: #3B82F6; color: white; border: none; border-radius: 6px; cursor: pointer;">Print Report</button>
      <button onclick="downloadHTML()" style="margin: 5px; padding: 10px 20px; background-color: #10B981; color: white; border: none; border-radius: 6px; cursor: pointer;">Download HTML</button>
    </div>

  </div>

  <!-- Load Chart.js -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

  <!-- Embed chart data -->
  <script id="sip-chart-data" type="application/json">
    {"projection":{"labels":["M1","M2","M3","M4","M5","M6","M7","M8","M9","M10","M11","M12","M13","M14","M15","M16","M17","M18","M19","M20","M21","M22","M23","M24","M25","M26","M27","M28","M29","M30","M31","M32","M33","M34","M35","M36","M37","M38","M39","M40","M41","M42","M43","M44","M45","M46","M47","M48","M49","M50","M51","M52","M53","M54","M55","M56","M57","M58","M59","M60","M61","M62","M63","M64","M65","M66","M67","M68","M69","M70","M71","M72","M73","M74","M75","M76","M77","M78","M79","M80","M81","M82","M83","M84","M85","M86","M87","M88","M89","M90","M91","M92","M93","M94","M95","M96","M97","M98","M99","M100","M101","M102","M103","M104","M105","M106","M107","M108","M109","M110","M111","M112","M113","M114","M115","M116","M117","M118","M119","M120"],"datasets":{"cumulative_contribution":[250161.08,500322.16,750483.24,1000644.32,1250805.4,1500966.48,1751127.56,2001288.64,2251449.72,2501610.8,2751771.88,3001932.96,3252094.04,3502255.12,3752416.2,4002577.28,4252738.36,4502899.44,4753060.52,5003221.6,5253382.68,5503543.76,5753704.84,6003865.92,6254027,6504188.08,6754349.16,7004510.24,7254671.32,7504832.4,7754993.48,8005154.56,8255315.64,8505476.72,8755637.8,9005798.88,9255959.96,9506121.04,9756282.12,10006443.2,10256604.28,10506765.36,10756926.44,11007087.52,11257248.6,11507409.68,11757570.76,12007731.84,12257892.92,12508054,12758215.08,13008376.16,13258537.24,13508698.32,13758859.4,14009020.48,14259181.56,14509342.64,14759503.72,15009664.8,15259825.88,15509986.96,15760148.04,16010309.12,16260470.2,16510631.28,16760792.36,17010953.44,17261114.52,17511275.6,17761436.68,18011597.76,18261758.84,18511919.92,18762081,19012242.08,19262403.16,19512564.24,19762725.32,20012886.4,20263047.48,20513208.56,20763369.64,21013530.72,21263691.8,21513852.88,21764013.96,22014175.04,22264336.12,22514497.2,22764658.28,23014819.36,23264980.44,23515141.52,23765302.6,24015463.68,24265624.76,24515785.84,24765946.92,25016108,25266269.08,25516430.16,25766591.24,26016752.32,26266913.4,26517074.48,26767235.56,27017396.64,27267557.72,27517718.8,27767879.88,28018040.96,28268202.04,28518363.12,28768524.2,29018685.28,29268846.36,29519007.44,29769168.52,30019329.6],"projected_corpus":[250161.08,502406.84,756754.64,1013222.13,1271827.01,1532587.03,1795520.14,2060644.57,2327978.71,2597541.2,2869350.84,3143426.6,3419787.58,3698452.96,3979442.06,4262774.24,4548469.05,4836546.12,5127025.2,5419926.11,5715268.8,6013073.34,6313359.98,6616149.08,6921461.32,7229317.5,7539738.48,7852745.33,8168359.21,8486601.37,8807493.18,9131056.12,9457311.92,9786282.49,10117989.84,10452456.09,10789703.42,11129754.28,11472631.23,11818357.19,12166955.13,12518448.12,12872859.39,13230212.32,13590530.4,13953837.19,14320156.33,14689511.59,15061926.85,15437426.21,15816033.93,16197774.34,16582672.13,16970752.1,17362039.23,17756558.59,18154335.58,18555395.71,18959764.71,19367468.41,19778532.78,20192983.89,20610848.12,21032152.02,21456922.32,21885185.8,22316969.35,22752300.09,23191205.24,23633712.28,24079848.88,24529642.92,24983122.38,25440315.4,25901250.23,26365955.31,26834459.27,27306791.07,27782979.66,28263054.16,28747043.91,29234978.28,29726886.77,30222799.03,30722744.7,31226753.54,31734855.48,32247080.61,32763459.12,33284021.31,33808797.66,34337818.64,34871114.8,35408716.76,35950655.4,36496961.53,37047666.18,37602800.43,38162395.78,38726483.78,39295096.14,39868264.61,40446021.81,41028399.5,41615429.5,42207144.75,42803577.29,43404760.13,44010726.46,44621510.51,45237146.5,45857668.72,46483112.42,47113511.02,47748898.31,48389308.13,49034775.36,49685334.86,50341019.49,51001861.15]}},"allocation":{"labels":["Equity","Debt"],"data":[50,50],"meta":{"recommended_fund_categories":{"equity":["Large Cap Funds","Mid Cap Funds"],"debt":["Corporate Bond Funds","Short Duration Funds"],"elss_optional":true}}}}
  </script>

  <!-- ENHANCED chart rendering with proper layout and sizing (v13) -->
  <script>
  function initCharts() {
    if (typeof Chart === 'undefined') {
      console.error('Chart.js not loaded');
      return;
    }
    
    let data;
    try {
      const script = document.getElementById('sip-chart-data');
      data = script ? JSON.parse(script.textContent) : null;
    } catch (e) {
      console.warn('Chart data parse failed');
      data = null;
    }
    
    // Use provided data or enhanced fallback with complete timeline
    if (!data || !data.projection || !data.allocation) {
      console.warn('Using fallback data for charts.');
      data = {
        projection: {
          labels: ["M1","M2","M3","M4","M5","M6","M7","M8","M9","M10","M11","M12","M13","M14","M15","M16","M17","M18","M19","M20","M21","M22","M23","M24","M25","M26","M27","M28","M29","M30","M31","M32","M33","M34","M35","M36","M37","M38","M39","M40","M41","M42","M43","M44","M45","M46","M47","M48","M49","M50","M51","M52","M53","M54","M55","M56","M57","M58","M59","M60","M61","M62","M63","M64","M65","M66","M67","M68","M69","M70","M71","M72","M73","M74","M75","M76","M77","M78","M79","M80","M81","M82","M83","M84","M85","M86","M87","M88","M89","M90","M91","M92","M93","M94","M95","M96","M97","M98","M99","M100","M101","M102","M103","M104","M105","M106","M107","M108","M109","M110","M111","M112","M113","M114","M115","M116","M117","M118","M119","M120"],
          datasets: {
            cumulative_contribution: [25000,50000,75000,100000,125000,150000,175000,200000,225000,250000,275000,300000,325000,350000,375000,400000,425000,450000,475000,500000,525000,550000,575000,600000,625000,650000,675000,700000,725000,750000,775000,800000,825000,850000,875000,900000,925000,950000,975000,1000000,1025000,1050000,1075000,1100000,1125000,1150000,1175000,1200000,1225000,1250000,1275000,1300000,1325000,1350000,1375000,1400000,1425000,1450000,1475000,1500000,1525000,1550000,1575000,1600000,1625000,1650000,1675000,1700000,1725000,1750000,1775000,1800000,1825000,1850000,1875000,1900000,1925000,1950000,1975000,2000000,2025000,2050000,2075000,2100000,2125000,2150000,2175000,2200000,2225000,2250000,2275000,2300000,2325000,2350000,2375000,2400000,2425000,2450000,2475000,2500000,2525000,2550000,2575000,2600000,2625000,2650000,2675000,2700000,2725000,2750000,2775000,2800000,2825000,2850000,2875000,2900000,2925000,2950000,2975000,3000000],
            projected_corpus: [25250,50755,76519,102543,128831,155386,182212,209312,236692,264356,292308,320552,349093,377935,407082,436540,466312,496404,526821,557567,588648,620068,651832,683945,716412,749239,782430,815991,849927,884244,918948,954045,989540,1025440,1061750,1098476,1135626,1173205,1211220,1249678,1288586,1327951,1367780,1408080,1448859,1490125,1531885,1574148,1616922,1660215,1704035,1748392,1793293,1838750,1884770,1931365,1978544,2026318,2074697,2123692,2173315,2223577,2274490,2326066,2378316,2431252,2484887,2539233,2594302,2650106,2706658,2763971,2822058,2880932,2940607,3001097,3062415,3124575,3187591,3251477,3316247,3381916,3448499,3516010,3584465,3653879,3724267,3795645,3868028,3941432,4015873,4091366,4167928,4245574,4324322,4404188,4485188,4567340,4650661,4735168,4821880,4909814,4999990,5091425,5184139,5278150,5373478,5470142,5568161,5667556,5768346,5870552,5974194,6079293,6185870,6293947,6403545,6514686,6627391]
          }
        },
        allocation: { labels: ["Equity", "Debt"], data: [50, 50] }
      };
    }
    
    // Create allocation chart FIRST (TOP POSITION)
    const allocCtx = document.getElementById('sipAllocationChart');
    if (allocCtx) {
      new Chart(allocCtx, {
        type: 'doughnut',
        data: {
          labels: data.allocation.labels,
          datasets: [{ 
            data: data.allocation.data, 
            backgroundColor: ['#3B82F6', '#10B981'],
            borderWidth: 2 
          }]
        },
        options: { 
          responsive: true,
          maintainAspectRatio: true,
          aspectRatio: 1.33,
          plugins: {
            legend: { 
              position: 'bottom',
              labels: { padding: 15 }
            }
          }
        }
      });
    }
    
    // Create projection chart SECOND (BOTTOM POSITION)
    const projCtx = document.getElementById('sipProjectionChart');
    if (projCtx) {
      new Chart(projCtx, {
        type: 'line',
        data: {
          labels: data.projection.labels,
          datasets: [{
            label: 'Projected Corpus',
            data: data.projection.datasets.projected_corpus,
            borderColor: '#3B82F6',
            backgroundColor: 'rgba(59, 130, 246, 0.1)',
            fill: true,
            tension: 0.4,
            pointRadius: 1,
            pointHoverRadius: 4
          }, {
            label: 'Cumulative Contribution', 
            data: data.projection.datasets.cumulative_contribution,
            borderColor: '#EF4444',
            backgroundColor: 'rgba(239, 68, 68, 0.1)',
            fill: false,
            tension: 0.4,
            pointRadius: 1,
            pointHoverRadius: 4
          }]
        },
        options: { 
          responsive: true,
          maintainAspectRatio: true,
          aspectRatio: 1.5,
          interaction: {
            mode: 'nearest',
            intersect: false
          },
          scales: {
            x: {
              title: { display: true, text: 'Time Period (Months)' },
              ticks: { maxTicksLimit: 10 }
            },
            y: {
              beginAtZero: true,
              title: { display: true, text: 'Amount (INR)' },
              ticks: {
                callback: function(value) {
                  if (value >= 10000000) return '‚Çπ' + (value/10000000).toFixed(2) + 'Cr';
                  return '‚Çπ' + (value/100000).toFixed(1) + 'L';
                }
              }
            }
          },
          plugins: {
            tooltip: {
              mode: 'index',
              intersect: false
            }
          }
        }
      });
    }
  }

  // Initialize with enhanced delay for proper loading
  setTimeout(initCharts, 500);
  </script>

  <script>
  function downloadHTML() {
    const html = document.documentElement.outerHTML;
    const blob = new Blob([html], { type: 'text/html' });
    const url = URL.createObjectURL(blob);
    const a = document.createElement('a');
    a.href = url;
    a.download = 'sip_comprehensive_report.html';
    document.body.appendChild(a);
    a.click();
    document.body.removeChild(a);
    URL.revokeObjectURL(url);
  }
  </script>

</body>
</html>