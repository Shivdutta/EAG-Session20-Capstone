<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Comprehensive SIP Analysis Report</title>
  <style>
    body { font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif; margin: 0; padding: 0; background-color: #f8f9fa; color: #212529; }
    .container { max-width: 1000px; margin: 2rem auto; padding: 2rem; background-color: #ffffff; box-shadow: 0 4px 6px rgba(0,0,0,0.1); border-radius: 8px; }
    h1, h2, h3 { color: #343a40; margin-top: 1.5em; border-bottom: 2px solid #dee2e6; padding-bottom: 0.5rem; }
    h1 { font-size: 2em; text-align: center; border-bottom: none; }
    h2 { font-size: 1.5em; }
    table { width: 100%; border-collapse: collapse; margin: 15px 0; }
    th, td { border: 1px solid #ddd; padding: 12px; text-align: left; }
    th { background-color: #f1f3f5; font-weight: 600; }
    p, li { line-height: 1.6; }
    ol, ul { padding-left: 20px; }
    mark { background-color: #fff3cd; padding: 0.2em; border-radius: 3px; }
    .button-container { margin: 30px 0; text-align: center; }
    button { margin: 5px; padding: 12px 24px; border: none; border-radius: 5px; cursor: pointer; font-size: 1rem; font-weight: 600; transition: background-color 0.3s ease; }
    .print-btn { background-color: #007bff; color: white; }
    .print-btn:hover { background-color: #0056b3; }
    .download-btn { background-color: #28a745; color: white; }
    .download-btn:hover { background-color: #1e7e34; }
    .chart-container { margin: 20px 0; padding: 15px; border: 1px solid #e9ecef; border-radius: 8px; }
    .no-print { display: block; }
    @media print { 
        .no-print { display: none; } 
        body { box-shadow: none; }
        .container { box-shadow: none; border: none; padding: 0; margin: 0; max-width: 100%; }
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>üìä Systematic Investment Plan (SIP) for Retirement</h1>
    
    <section id="executive-summary">
        <h2>üéØ Executive Summary</h2>
        <p>This report outlines a personalized Systematic Investment Plan (SIP) designed to achieve a retirement goal over a <b>10-year horizon</b>. The primary objective is to accumulate a target corpus of ‚Çπ3,00,00,000, which, after adjusting for a projected annual inflation rate of 5.5%, requires a future value of <b>‚Çπ5,12,44,333.71</b>. Based on a 'moderate' risk profile with an assumed annual return of 10%, the analysis concludes that a monthly SIP contribution of <b>‚Çπ2,50,161.43</b> is necessary. The investment strategy recommends a balanced asset allocation of <b>50% in Equity</b> and <b>50% in Debt</b>. This disciplined approach is projected to build a final corpus of approximately <b>‚Çπ5,02,92,080.38</b> over 120 months.</p>
    </section>
    
    <section id="goal-inputs">
        <h2>üìã Goal Inputs</h2>
        <table>
            <thead><tr><th>Parameter</th><th>Value</th></tr></thead>
            <tbody>
                <tr><td>Goal Type</td><td>Retirement</td></tr>
                <tr><td>Target Amount</td><td>‚Çπ3,00,00,000</td></tr>
                <tr><td>Time Horizon</td><td>10 Years (120 Months)</td></tr>
                <tr><td>Risk Appetite</td><td>Moderate</td></tr>
            </tbody>
        </table>
    </section>

    <section id="inflation-adjustment">
        <h2>üìà Inflation Adjustment & SIP Calculation</h2>
        <table>
            <thead><tr><th>Parameter</th><th>Value</th></tr></thead>
            <tbody>
                <tr><td>Assumed Annual Inflation</td><td>5.5%</td></tr>
                <tr><td>Inflation-Adjusted Target</td><td><b>‚Çπ5,12,44,333.71</b></td></tr>
                <tr><td>Assumed Annual Return</td><td>10.0%</td></tr>
                <tr><td><b>Required Monthly SIP</b></td><td><b>‚Çπ2,50,161.43</b></td></tr>
            </tbody>
        </table>
    </section>

    <section id="asset-allocation">
        <h2>‚öñÔ∏è Asset Allocation Plan</h2>
        <p>A balanced asset allocation is proposed to align with the 'moderate' risk appetite, diversifying investments across equity and debt instruments.</p>
        <table>
            <thead><tr><th>Asset Class</th><th>Allocation</th><th>Recommended Fund Categories</th></tr></thead>
            <tbody>
                <tr><td><b>Equity</b></td><td><b>50%</b></td><td>Large Cap Funds, Mid Cap Funds</td></tr>
                <tr><td><b>Debt</b></td><td><b>50%</b></td><td>Corporate Bond Funds, Government Securities</td></tr>
            </tbody>
        </table>
    </section>
    
    <section id="key-recommendations">
        <h2>üîë Key Recommendations</h2>
        <ol>
            <li><b>Maintain Investment Discipline:</b> Adherence to the monthly SIP of ‚Çπ2,50,161.43 is critical. Consistency is paramount to leveraging the power of compounding.</li>
            <li><b>Annual Portfolio Review:</b> Conduct a review of the portfolio at least once a year to rebalance if necessary. Market performance may cause the 50/50 allocation to drift.</li>
            <li><b>Diversify Within Categories:</b> When selecting funds, consider diversifying across 2-3 funds within each major category to mitigate fund-specific risk.</li>
        </ol>
    </section>

    <section id="risk-factors">
        <h2>‚ö†Ô∏è Risk Factors & Uncertainties</h2>
        <p>While this plan is built on sound financial principles, it is subject to various risks. <b>Market Risk</b> is the most significant factor; the assumed 10% annual return is an estimate, not a guarantee. Equity markets are volatile and can experience downturns. <b>Interest Rate Risk</b> primarily affects the debt portion of the portfolio. A rise in interest rates can lead to a fall in the value of existing bonds. <b>Inflation Risk</b> poses a threat if the actual rate of inflation exceeds the projected 5.5%, thereby eroding the real value of the final corpus. Lastly, <b>Execution Risk</b> lies with the investor; failing to invest regularly or reacting emotionally to market swings can jeopardize the achievement of the financial goal.</p>
    </section>

    <section id="sip-charts">
      <h2>üìä SIP Projection & Allocation Charts</h2>
      <div style="display: block;">
        <div class="chart-container" style="margin-bottom: 30px; text-align: center;">
          <h3>Asset Allocation</h3>
          <div style="max-width: 500px; margin: 0 auto;">
            <canvas id="sipAllocationChart" width="400" height="300" style="max-width: 100%; height: auto;"></canvas>
          </div>
        </div>
        <div class="chart-container" style="text-align: center;">
          <h3>SIP Growth Projection</h3>
          <div style="max-width: 800px; margin: 0 auto;">
            <canvas id="sipProjectionChart" width="600" height="400" style="max-width: 100%; height: auto;"></canvas>
          </div>
        </div>
      </div>
    </section>
    
    <section id="monthly-projection">
        <h2>üóìÔ∏è Monthly Projection (First 12 Months)</h2>
        <table>
            <thead><tr><th>Month</th><th>Cumulative Contribution</th><th>Projected Corpus</th></tr></thead>
            <tbody>
                <tr><td>M1</td><td>‚Çπ2,50,161.43</td><td>‚Çπ2,50,161.43</td></tr>
                <tr><td>M2</td><td>‚Çπ5,00,322.86</td><td>‚Çπ5,02,407.54</td></tr>
                <tr><td>M3</td><td>‚Çπ7,50,484.29</td><td>‚Çπ7,56,755.70</td></tr>
                <tr><td>M4</td><td>‚Çπ10,00,645.72</td><td>‚Çπ10,13,223.33</td></tr>
                <tr><td>M5</td><td>‚Çπ12,50,807.15</td><td>‚Çπ12,71,827.86</td></tr>
                <tr><td>M6</td><td>‚Çπ15,00,968.58</td><td>‚Çπ15,32,586.76</td></tr>
                <tr><td>M7</td><td>‚Çπ17,51,130.01</td><td>‚Çπ17,95,517.65</td></tr>
                <tr><td>M8</td><td>‚Çπ20,01,291.44</td><td>‚Çπ20,60,638.20</td></tr>
                <tr><td>M9</td><td>‚Çπ22,51,452.87</td><td>‚Çπ23,27,966.22</td></tr>
                <tr><td>M10</td><td>‚Çπ25,01,614.30</td><td>‚Çπ25,97,519.60</td></tr>
                <tr><td>M11</td><td>‚Çπ27,51,775.73</td><td>‚Çπ28,69,316.26</td></tr>
                <tr><td>M12</td><td>‚Çπ30,01,937.16</td><td>‚Çπ31,43,374.23</td></tr>
            </tbody>
        </table>
        <p style="text-align:center; font-style:italic;">Note: The complete 120-month projection is visualized in the chart above.</p>
    </section>

    <div class="button-container no-print">
      <button onclick="window.print()" class="print-btn">Print Report</button>
      <button onclick="downloadHTML()" class="download-btn">Download HTML</button>
    </div>

  </div>

  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  
  <script id="sip-chart-data" type="application/json">
    {"projection":{"labels":["M1","M2","M3","M4","M5","M6","M7","M8","M9","M10","M11","M12","M13","M14","M15","M16","M17","M18","M19","M20","M21","M22","M23","M24","M25","M26","M27","M28","M29","M30","M31","M32","M33","M34","M35","M36","M37","M38","M39","M40","M41","M42","M43","M44","M45","M46","M47","M48","M49","M50","M51","M52","M53","M54","M55","M56","M57","M58","M59","M60","M61","M62","M63","M64","M65","M66","M67","M68","M69","M70","M71","M72","M73","M74","M75","M76","M77","M78","M79","M80","M81","M82","M83","M84","M85","M86","M87","M88","M89","M90","M91","M92","M93","M94","M95","M96","M97","M98","M99","M100","M101","M102","M103","M104","M105","M106","M107","M108","M109","M110","M111","M112","M113","M114","M115","M116","M117","M118","M119","M120"],"datasets":{"cumulative_contribution":[250161.43,500322.86,750484.29,1000645.72,1250807.15,1500968.58,1751130.01,2001291.44,2251452.87,2501614.3,2751775.73,3001937.16,3252098.59,3502260.02,3752421.45,4002582.88,4252744.31,4502905.74,4753067.17,5003228.6,5253390.03,5503551.46,5753712.89,6003874.32,6254035.75,6504197.18,6754358.61,7004520.04,7254681.47,7504842.9,7755004.33,8005165.76,8255327.19,8505488.62,8755650.05,9005811.48,9255972.91,9506134.34,9756295.77,10006457.2,10256618.63,10506780.06,10756941.49,11007102.92,11257264.35,11507425.78,11757587.21,12007748.64,12257910.07,12508071.5,12758232.93,13008394.36,13258555.79,13508717.22,13758878.65,14009040.08,14259201.51,14509362.94,14759524.37,15009685.8,15259847.23,15510008.66,15760170.09,16010331.52,16260492.95,16510654.38,16760815.81,17010977.24,17261138.67,17511300.1,17761461.53,18011622.96,18261784.39,18511945.82,18762107.25,19012268.68,19262430.11,19512591.54,19762752.97,20012914.4,20263075.83,20513237.26,20763398.69,21013560.12,21263721.55,21513882.98,21764044.41,22014205.84,22264367.27,22514528.7,22764690.13,23014851.56,23265012.99,23515174.42,23765335.85,24015497.28,24265658.71,24515820.14,24765981.57,25016143.0,25266304.43,25516465.86,25766627.29,26016788.72,26266950.15,26517111.58,26767273.01,27017434.44,27267595.87,27517757.3,27767918.73,28018080.16,28268241.59,28518403.02,28768564.45,29018725.88,29268887.31,29519048.74,29769210.17,30019371.6],"projected_corpus":[250161.43,502407.54,756755.7,1013223.33,1271827.86,1532586.76,1795517.65,2060638.2,2327966.22,2597519.6,2869316.26,3143374.23,3419711.68,3698346.91,3979298.24,4262584.11,4548223.01,4836233.53,5126634.31,5419444.03,5714681.4,6012365.11,6312513.82,6615146.2,6920280.95,7227936.82,7538132.62,7850887.26,8166219.65,8484148.81,8804693.72,9127873.37,9453706.81,9782213.13,10113411.41,10447320.84,10783960.51,11123349.52,11465506.96,11810452.02,12158203.95,12508782.02,12862205.54,13218493.92,13577666.7,13939743.42,14304743.62,14672686.82,15043592.54,15417480.48,15794370.48,16174282.43,16557236.28,16943252.12,17332350.05,17724550.29,18119873.18,18518339.12,18919968.61,19324782.35,19732801.19,20144046.16,20558538.54,20976299.7,21397351.03,21821714.02,22249410.27,22680461.41,23114889.26,23552715.67,23993962.64,24438652.33,24886806.96,25338448.88,25793600.62,26252284.99,26714524.86,27180343.23,27649763.12,28122807.65,28599500.04,29079863.54,29563921.4,30051697.08,30543214.22,31038496.51,31537567.65,32040451.38,32547171.51,33057751.91,33572216.51,34090589.31,34612894.42,35139156.04,35669398.44,36203646.06,36741923.44,37284255.14,37830665.8,38381180.12,38935822.95,39494619.14,40057593.63,40624771.45,41196177.88,41771838.36,42351778.35,42936023.33,43524598.86,44117530.51,44714844.09,45316565.46,45922720.51,4653334.21,47148432.33,47768040.6,48392184.27,49020888.8,49654180.21,50292080.38]}},"allocation":{"labels":["Equity","Debt"],"data":[50,50],"meta":{"recommended_fund_categories":{"equity":["Large Cap Funds","Mid Cap Funds"],"debt":["Corporate Bond Funds","Government Securities"],"elss_optional":true}}}}
  </script>

  <script>
function initCharts() {
  if (typeof Chart === 'undefined') {
    console.error('Chart.js not loaded');
    return;
  }
  
  let data;
  try {
    const script = document.getElementById('sip-chart-data');
    data = script ? JSON.parse(script.textContent) : null;
  } catch (e) {
    console.warn('Chart data parse failed');
    data = null;
  }
  
  if (!data) {
    data = {
      projection: {
        labels: ["M1","M2","M3","M4","M5","M6","M7","M8","M9","M10","M11","M12","M13","M14","M15","M16","M17","M18","M19","M20","M21","M22","M23","M24","M25","M26","M27","M28","M29","M30","M31","M32","M33","M34","M35","M36","M37","M38","M39","M40","M41","M42","M43","M44","M45","M46","M47","M48","M49","M50","M51","M52","M53","M54","M55","M56","M57","M58","M59","M60","M61","M62","M63","M64","M65","M66","M67","M68","M69","M70","M71","M72","M73","M74","M75","M76","M77","M78","M79","M80","M81","M82","M83","M84","M85","M86","M87","M88","M89","M90","M91","M92","M93","M94","M95","M96","M97","M98","M99","M100","M101","M102","M103","M104","M105","M106","M107","M108","M109","M110","M111","M112","M113","M114","M115","M116","M117","M118","M119","M120"],
        datasets: {
          cumulative_contribution: [25000,50000,75000,100000,125000,150000,175000,200000,225000,250000,275000,300000,325000,350000,375000,400000,425000,450000,475000,500000,525000,550000,575000,600000,625000,650000,675000,700000,725000,750000,775000,800000,825000,850000,875000,900000,925000,950000,975000,1000000,1025000,1050000,1075000,1100000,1125000,1150000,1175000,1200000,1225000,1250000,1275000,1300000,1325000,1350000,1375000,1400000,1425000,1450000,1475000,1500000,1525000,1550000,1575000,1600000,1625000,1650000,1675000,1700000,1725000,1750000,1775000,1800000,1825000,1850000,1875000,1900000,1925000,1950000,1975000,2000000,2025000,2050000,2075000,2100000,2125000,2150000,2175000,2200000,2225000,2250000,2275000,2300000,2325000,2350000,2375000,2400000,2425000,2450000,2475000,2500000,2525000,2550000,2575000,2600000,2625000,2650000,2675000,2700000,2725000,2750000,2775000,2800000,2825000,2850000,2875000,2900000,2925000,2950000,2975000,3000000],
          projected_corpus: [25250,50755,76519,102543,128831,155386,182212,209312,236692,264356,292308,320552,349093,377935,407082,436540,466312,496404,526821,557567,588648,620068,651832,683945,716412,749239,782430,815991,849927,884244,918948,954045,989540,1025440,1061750,1098476,1135626,1173205,1211220,1249678,1288586,1327951,1367780,1408080,1448859,1490125,1531885,1574148,1616922,1660215,1704035,1748392,1793293,1838750,1884770,1931365,1978544,2026318,2074697,2123692,2173315,2223577,2274490,2326066,2378316,2431252,2484887,2539233,2594302,2650106,2706658,2763971,2822058,2880932,2940607,3001097,3062415,3124575,3187591,3251477,3316247,3381916,3448499,3516010,3584465,3653879,3724267,3795645,3868028,3941432,4015873,4091366,4167928,4245574,4324322,4404188,4567340,4650661,4735168,4821880,4909814,4999990,5091425,5184139,5278150,5373478,5470142,5568161,5667556,5768346,5870552,5974194,6079293,6185870,6293947,6403545,6514686,6627391]
        }
      },
      allocation: { labels: ["Equity", "Debt"], data: [70, 30] }
    };
  }
  
  const allocCtx = document.getElementById('sipAllocationChart');
  if (allocCtx) {
    new Chart(allocCtx, {
      type: 'doughnut',
      data: {
        labels: data.allocation.labels,
        datasets: [{ 
          data: data.allocation.data, 
          backgroundColor: ['#3B82F6', '#10B981'],
          borderWidth: 2 
        }]
      },
      options: { 
        responsive: true,
        maintainAspectRatio: true,
        aspectRatio: 1.33,
        plugins: {
          legend: { 
            position: 'bottom',
            labels: { padding: 15 }
          }
        }
      }
    });
  }
  
  const projCtx = document.getElementById('sipProjectionChart');
  if (projCtx) {
    new Chart(projCtx, {
      type: 'line',
      data: {
        labels: data.projection.labels,
        datasets: [{
          label: 'Projected Corpus',
          data: data.projection.datasets.projected_corpus,
          borderColor: '#3B82F6',
          backgroundColor: 'rgba(59, 130, 246, 0.1)',
          fill: true,
          tension: 0.4,
          pointRadius: 1,
          pointHoverRadius: 4
        }, {
          label: 'Cumulative Contribution', 
          data: data.projection.datasets.cumulative_contribution,
          borderColor: '#EF4444',
          backgroundColor: 'rgba(239, 68, 68, 0.1)',
          fill: false,
          tension: 0.4,
          pointRadius: 1,
          pointHoverRadius: 4
        }]
      },
      options: { 
        responsive: true,
        maintainAspectRatio: true,
        aspectRatio: 1.5,
        interaction: {
          mode: 'nearest',
          intersect: false
        },
        scales: {
          x: {
            title: { display: true, text: 'Time Period (Months)' },
            ticks: { maxTicksLimit: 10 }
          },
          y: {
            beginAtZero: true,
            title: { display: true, text: 'Amount (INR)' },
            ticks: {
              callback: function(value) {
                return '‚Çπ' + (value/100000).toFixed(1) + 'L';
              }
            }
          }
        },
        plugins: {
          tooltip: {
            mode: 'index',
            intersect: false
          }
        }
      }
    });
  }
}
setTimeout(initCharts, 500);
  </script>

  <script>
  function downloadHTML() {
    const html = document.documentElement.outerHTML;
    const blob = new Blob([html], { type: 'text/html' });
    const url = URL.createObjectURL(blob);
    const a = document.createElement('a');
    a.href = url;
    a.download = 'sip_comprehensive_report.html';
    a.click();
    URL.revokeObjectURL(url);
  }
  </script>
</body>
</html>